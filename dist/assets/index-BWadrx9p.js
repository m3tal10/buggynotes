(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ao(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I_={exports:{}},Po={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Ap=Object.getOwnPropertySymbols,z1=Object.prototype.hasOwnProperty,$1=Object.prototype.propertyIsEnumerable;function B1(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function H1(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var k_=H1()?Object.assign:function(t,e){for(var n,r=B1(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)z1.call(n,o)&&(r[o]=n[o]);if(Ap){i=Ap(n);for(var a=0;a<i.length;a++)$1.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r},C_={exports:{}},de={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh=k_,ji=60103,A_=60106;de.Fragment=60107;de.StrictMode=60108;de.Profiler=60114;var P_=60109,b_=60110,R_=60112;de.Suspense=60113;var N_=60115,O_=60116;if(typeof Symbol=="function"&&Symbol.for){var Mt=Symbol.for;ji=Mt("react.element"),A_=Mt("react.portal"),de.Fragment=Mt("react.fragment"),de.StrictMode=Mt("react.strict_mode"),de.Profiler=Mt("react.profiler"),P_=Mt("react.provider"),b_=Mt("react.context"),R_=Mt("react.forward_ref"),de.Suspense=Mt("react.suspense"),N_=Mt("react.memo"),O_=Mt("react.lazy")}var Pp=typeof Symbol=="function"&&Symbol.iterator;function W1(t){return t===null||typeof t!="object"?null:(t=Pp&&t[Pp]||t["@@iterator"],typeof t=="function"?t:null)}function bo(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M_={};function Fi(t,e,n){this.props=t,this.context=e,this.refs=M_,this.updater=n||D_}Fi.prototype.isReactComponent={};Fi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(bo(85));this.updater.enqueueSetState(this,t,e,"setState")};Fi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function L_(){}L_.prototype=Fi.prototype;function yh(t,e,n){this.props=t,this.context=e,this.refs=M_,this.updater=n||D_}var wh=yh.prototype=new L_;wh.constructor=yh;vh(wh,Fi.prototype);wh.isPureReactComponent=!0;var Eh={current:null},V_=Object.prototype.hasOwnProperty,x_={key:!0,ref:!0,__self:!0,__source:!0};function j_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)V_.call(e,r)&&!x_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ji,type:t,key:s,ref:o,props:i,_owner:Eh.current}}function q1(t,e){return{$$typeof:ji,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Th(t){return typeof t=="object"&&t!==null&&t.$$typeof===ji}function K1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bp=/\/+/g;function rc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?K1(""+t.key):e.toString(36)}function La(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ji:case A_:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rc(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(bp,"$&/")+"/"),La(i,e,n,"",function(c){return c})):i!=null&&(Th(i)&&(i=q1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(bp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+rc(s,a);o+=La(s,e,n,l,i)}else if(l=W1(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+rc(s,a++),o+=La(s,e,n,l,i);else if(s==="object")throw e=""+t,Error(bo(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function la(t,e,n){if(t==null)return t;var r=[],i=0;return La(t,r,"","",function(s){return e.call(n,s,i++)}),r}function G1(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var F_={current:null};function Sn(){var t=F_.current;if(t===null)throw Error(bo(321));return t}var Q1={ReactCurrentDispatcher:F_,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Eh,IsSomeRendererActing:{current:!1},assign:vh};de.Children={map:la,forEach:function(t,e,n){la(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return la(t,function(){e++}),e},toArray:function(t){return la(t,function(e){return e})||[]},only:function(t){if(!Th(t))throw Error(bo(143));return t}};de.Component=Fi;de.PureComponent=yh;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q1;de.cloneElement=function(t,e,n){if(t==null)throw Error(bo(267,t));var r=vh({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Eh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)V_.call(e,l)&&!x_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ji,type:t.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:b_,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:P_,_context:t},t.Consumer=t};de.createElement=j_;de.createFactory=function(t){var e=j_.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:R_,render:t}};de.isValidElement=Th;de.lazy=function(t){return{$$typeof:O_,_payload:{_status:-1,_result:t},_init:G1}};de.memo=function(t,e){return{$$typeof:N_,type:t,compare:e===void 0?null:e}};de.useCallback=function(t,e){return Sn().useCallback(t,e)};de.useContext=function(t,e){return Sn().useContext(t,e)};de.useDebugValue=function(){};de.useEffect=function(t,e){return Sn().useEffect(t,e)};de.useImperativeHandle=function(t,e,n){return Sn().useImperativeHandle(t,e,n)};de.useLayoutEffect=function(t,e){return Sn().useLayoutEffect(t,e)};de.useMemo=function(t,e){return Sn().useMemo(t,e)};de.useReducer=function(t,e,n){return Sn().useReducer(t,e,n)};de.useRef=function(t){return Sn().useRef(t)};de.useState=function(t){return Sn().useState(t)};de.version="17.0.2";C_.exports=de;var ke=C_.exports;const wt=Ao(ke);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1=ke,U_=60103;Po.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Rp=Symbol.for;U_=Rp("react.element"),Po.Fragment=Rp("react.fragment")}var X1=Y1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J1=Object.prototype.hasOwnProperty,Z1={key:!0,ref:!0,__self:!0,__source:!0};function z_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)J1.call(e,r)&&!Z1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:U_,type:t,key:s,ref:o,props:i,_owner:X1.current}}Po.jsx=z_;Po.jsxs=z_;I_.exports=Po;var Y=I_.exports,$_={exports:{}},Dt={},B_={exports:{}},H_={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,c=null,f=function(){if(l!==null)try{var b=t.unstable_now();l(!0,b),l=null}catch(W){throw setTimeout(f,0),W}};e=function(b){l!==null?setTimeout(e,0,b):(l=b,setTimeout(f,0))},n=function(b,W){c=setTimeout(b,W)},r=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var g=window.setTimeout,y=window.clearTimeout;if(typeof console<"u"){var k=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof k!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var A=!1,C=null,_=-1,p=5,v=0;t.unstable_shouldYield=function(){return t.unstable_now()>=v},i=function(){},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):p=0<b?Math.floor(1e3/b):5};var I=new MessageChannel,u=I.port2;I.port1.onmessage=function(){if(C!==null){var b=t.unstable_now();v=b+p;try{C(!0,b)?u.postMessage(null):(A=!1,C=null)}catch(W){throw u.postMessage(null),W}}else A=!1},e=function(b){C=b,A||(A=!0,u.postMessage(null))},n=function(b,W){_=g(function(){b(t.unstable_now())},W)},r=function(){y(_),_=-1}}function h(b,W){var K=b.length;b.push(W);e:for(;;){var se=K-1>>>1,oe=b[se];if(oe!==void 0&&0<w(oe,W))b[se]=W,b[K]=oe,K=se;else break e}}function d(b){return b=b[0],b===void 0?null:b}function m(b){var W=b[0];if(W!==void 0){var K=b.pop();if(K!==W){b[0]=K;e:for(var se=0,oe=b.length;se<oe;){var _e=2*(se+1)-1,Se=b[_e],F=_e+1,L=b[F];if(Se!==void 0&&0>w(Se,K))L!==void 0&&0>w(L,Se)?(b[se]=L,b[F]=K,se=F):(b[se]=Se,b[_e]=K,se=_e);else if(L!==void 0&&0>w(L,K))b[se]=L,b[F]=K,se=F;else break e}}return W}return null}function w(b,W){var K=b.sortIndex-W.sortIndex;return K!==0?K:b.id-W.id}var E=[],T=[],P=1,V=null,R=3,O=!1,M=!1,S=!1;function N(b){for(var W=d(T);W!==null;){if(W.callback===null)m(T);else if(W.startTime<=b)m(T),W.sortIndex=W.expirationTime,h(E,W);else break;W=d(T)}}function B(b){if(S=!1,N(b),!M)if(d(E)!==null)M=!0,e(H);else{var W=d(T);W!==null&&n(B,W.startTime-b)}}function H(b,W){M=!1,S&&(S=!1,r()),O=!0;var K=R;try{for(N(W),V=d(E);V!==null&&(!(V.expirationTime>W)||b&&!t.unstable_shouldYield());){var se=V.callback;if(typeof se=="function"){V.callback=null,R=V.priorityLevel;var oe=se(V.expirationTime<=W);W=t.unstable_now(),typeof oe=="function"?V.callback=oe:V===d(E)&&m(E),N(W)}else m(E);V=d(E)}if(V!==null)var _e=!0;else{var Se=d(T);Se!==null&&n(B,Se.startTime-W),_e=!1}return _e}finally{V=null,R=K,O=!1}}var ae=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){M||O||(M=!0,e(H))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return d(E)},t.unstable_next=function(b){switch(R){case 1:case 2:case 3:var W=3;break;default:W=R}var K=R;R=W;try{return b()}finally{R=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=ae,t.unstable_runWithPriority=function(b,W){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var K=R;R=b;try{return W()}finally{R=K}},t.unstable_scheduleCallback=function(b,W,K){var se=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?se+K:se):K=se,b){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=K+oe,b={id:P++,callback:W,priorityLevel:b,startTime:K,expirationTime:oe,sortIndex:-1},K>se?(b.sortIndex=K,h(T,b),d(E)===null&&b===d(T)&&(S?r():S=!0,n(B,K-se))):(b.sortIndex=oe,h(E,b),M||O||(M=!0,e(H))),b},t.unstable_wrapCallback=function(b){var W=R;return function(){var K=R;R=W;try{return b.apply(this,arguments)}finally{R=K}}}})(H_);B_.exports=H_;var eE=B_.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu=ke,Te=k_,$e=eE;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Wu)throw Error(j(227));var W_=new Set,Ks={};function jr(t,e){Ii(t,e),Ii(t+"Capture",e)}function Ii(t,e){for(Ks[t]=e,t=0;t<e.length;t++)W_.add(e[t])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Np=Object.prototype.hasOwnProperty,Op={},Dp={};function nE(t){return Np.call(Dp,t)?!0:Np.call(Op,t)?!1:tE.test(t)?Dp[t]=!0:(Op[t]=!0,!1)}function rE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iE(t,e,n,r){if(e===null||typeof e>"u"||rE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ft(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sh=/[\-:]([a-z])/g;function Ih(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sh,Ih);Je[e]=new ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sh,Ih);Je[e]=new ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sh,Ih);Je[e]=new ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new ft(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function kh(t,e,n,r){var i=Je.hasOwnProperty(e)?Je[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(iE(e,n,i,r)&&(n=null),r||i===null?nE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fr=Wu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gs=60103,gr=60106,Pn=60107,Ch=60108,Ps=60114,Ah=60109,Ph=60110,qu=60112,bs=60113,eu=60120,Ku=60115,bh=60116,Rh=60121,Nh=60128,q_=60129,Oh=60130,ed=60131;if(typeof Symbol=="function"&&Symbol.for){var Ue=Symbol.for;gs=Ue("react.element"),gr=Ue("react.portal"),Pn=Ue("react.fragment"),Ch=Ue("react.strict_mode"),Ps=Ue("react.profiler"),Ah=Ue("react.provider"),Ph=Ue("react.context"),qu=Ue("react.forward_ref"),bs=Ue("react.suspense"),eu=Ue("react.suspense_list"),Ku=Ue("react.memo"),bh=Ue("react.lazy"),Rh=Ue("react.block"),Ue("react.scope"),Nh=Ue("react.opaque.id"),q_=Ue("react.debug_trace_mode"),Oh=Ue("react.offscreen"),ed=Ue("react.legacy_hidden")}var Mp=typeof Symbol=="function"&&Symbol.iterator;function Zi(t){return t===null||typeof t!="object"?null:(t=Mp&&t[Mp]||t["@@iterator"],typeof t=="function"?t:null)}var ic;function _s(t){if(ic===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ic=e&&e[1]||""}return`
`+ic+t}var sc=!1;function ca(t,e){if(!t||sc)return"";sc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=a);break}}}finally{sc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_s(t):""}function sE(t){switch(t.tag){case 5:return _s(t.type);case 16:return _s("Lazy");case 13:return _s("Suspense");case 19:return _s("SuspenseList");case 0:case 2:case 15:return t=ca(t.type,!1),t;case 11:return t=ca(t.type.render,!1),t;case 22:return t=ca(t.type._render,!1),t;case 1:return t=ca(t.type,!0),t;default:return""}}function li(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pn:return"Fragment";case gr:return"Portal";case Ps:return"Profiler";case Ch:return"StrictMode";case bs:return"Suspense";case eu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ph:return(t.displayName||"Context")+".Consumer";case Ah:return(t._context.displayName||"Context")+".Provider";case qu:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Ku:return li(t.type);case Rh:return li(t._render);case bh:e=t._payload,t=t._init;try{return li(t(e))}catch{}}return null}function Xn(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function K_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oE(t){var e=K_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function da(t){t._valueTracker||(t._valueTracker=oE(t))}function G_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=K_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function td(t,e){var n=e.checked;return Te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Lp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Q_(t,e){e=e.checked,e!=null&&kh(t,"checked",e,!1)}function nd(t,e){Q_(t,e);var n=Xn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rd(t,e.type,n):e.hasOwnProperty("defaultValue")&&rd(t,e.type,Xn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rd(t,e,n){(e!=="number"||tu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function aE(t){var e="";return Wu.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function id(t,e){return t=Te({children:void 0},e),(e=aE(e.children))&&(t.children=e),t}function ci(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xn(n)}}function Y_(t,e){var n=Xn(e.value),r=Xn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var od={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function X_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ad(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?X_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ha,J_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==od.svg||"innerHTML"in t)t.innerHTML=e;else{for(ha=ha||document.createElement("div"),ha.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ha.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Rs={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uE=["Webkit","ms","Moz","O"];Object.keys(Rs).forEach(function(t){uE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rs[e]=Rs[t]})});function Z_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Rs.hasOwnProperty(t)&&Rs[t]?(""+e).trim():e+"px"}function ev(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Z_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var lE=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ud(t,e){if(e){if(lE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function ld(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Dh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cd=null,di=null,hi=null;function Fp(t){if(t=No(t)){if(typeof cd!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Zu(e),cd(t.stateNode,t.type,e))}}function tv(t){di?hi?hi.push(t):hi=[t]:di=t}function nv(){if(di){var t=di,e=hi;if(hi=di=null,Fp(t),e)for(t=0;t<e.length;t++)Fp(e[t])}}function Mh(t,e){return t(e)}function rv(t,e,n,r,i){return t(e,n,r,i)}function Lh(){}var iv=Mh,_r=!1,oc=!1;function Vh(){(di!==null||hi!==null)&&(Lh(),nv())}function cE(t,e,n){if(oc)return t(e,n);oc=!0;try{return iv(t,e,n)}finally{oc=!1,Vh()}}function Qs(t,e){var n=t.stateNode;if(n===null)return null;var r=Zu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var dd=!1;if(yn)try{var es={};Object.defineProperty(es,"passive",{get:function(){dd=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{dd=!1}function dE(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Ns=!1,nu=null,ru=!1,hd=null,hE={onError:function(t){Ns=!0,nu=t}};function fE(t,e,n,r,i,s,o,a,l){Ns=!1,nu=null,dE.apply(hE,arguments)}function pE(t,e,n,r,i,s,o,a,l){if(fE.apply(this,arguments),Ns){if(Ns){var c=nu;Ns=!1,nu=null}else throw Error(j(198));ru||(ru=!0,hd=c)}}function Ur(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Up(t){if(Ur(t)!==t)throw Error(j(188))}function mE(t){var e=t.alternate;if(!e){if(e=Ur(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Up(i),t;if(s===r)return Up(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function ov(t){if(t=mE(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function zp(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var av,xh,uv,lv,fd=!1,qt=[],xn=null,jn=null,Fn=null,Ys=new Map,Xs=new Map,ts=[],$p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pd(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function Bp(t,e){switch(t){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":Ys.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(e.pointerId)}}function ns(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=pd(e,n,r,i,s),e!==null&&(e=No(e),e!==null&&xh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gE(t,e,n,r,i){switch(e){case"focusin":return xn=ns(xn,t,e,n,r,i),!0;case"dragenter":return jn=ns(jn,t,e,n,r,i),!0;case"mouseover":return Fn=ns(Fn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ys.set(s,ns(Ys.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Xs.set(s,ns(Xs.get(s)||null,t,e,n,r,i)),!0}return!1}function _E(t){var e=vr(t.target);if(e!==null){var n=Ur(e);if(n!==null){if(e=n.tag,e===13){if(e=sv(n),e!==null){t.blockedOn=e,lv(t.lanePriority,function(){$e.unstable_runWithPriority(t.priority,function(){uv(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Va(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=No(n),e!==null&&xh(e),t.blockedOn=n,!1;e.shift()}return!0}function Hp(t,e,n){Va(t)&&n.delete(e)}function vE(){for(fd=!1;0<qt.length;){var t=qt[0];if(t.blockedOn!==null){t=No(t.blockedOn),t!==null&&av(t);break}for(var e=t.targetContainers;0<e.length;){var n=zh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&qt.shift()}xn!==null&&Va(xn)&&(xn=null),jn!==null&&Va(jn)&&(jn=null),Fn!==null&&Va(Fn)&&(Fn=null),Ys.forEach(Hp),Xs.forEach(Hp)}function rs(t,e){t.blockedOn===e&&(t.blockedOn=null,fd||(fd=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,vE)))}function cv(t){function e(i){return rs(i,t)}if(0<qt.length){rs(qt[0],t);for(var n=1;n<qt.length;n++){var r=qt[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xn!==null&&rs(xn,t),jn!==null&&rs(jn,t),Fn!==null&&rs(Fn,t),Ys.forEach(e),Xs.forEach(e),n=0;n<ts.length;n++)r=ts[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ts.length&&(n=ts[0],n.blockedOn===null);)_E(n),n.blockedOn===null&&ts.shift()}function fa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zr={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionend:fa("Transition","TransitionEnd")},ac={},dv={};yn&&(dv=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function Gu(t){if(ac[t])return ac[t];if(!Zr[t])return t;var e=Zr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dv)return ac[t]=e[n];return t}var hv=Gu("animationend"),fv=Gu("animationiteration"),pv=Gu("animationstart"),mv=Gu("transitionend"),gv=new Map,jh=new Map,yE=["abort","abort",hv,"animationEnd",fv,"animationIteration",pv,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",mv,"transitionEnd","waiting","waiting"];function Fh(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),jh.set(r,e),gv.set(r,i),jr(i,[r])}}var wE=$e.unstable_now;wE();var me=8;function Gr(t){if(1&t)return me=15,1;if(2&t)return me=14,2;if(4&t)return me=13,4;var e=24&t;return e!==0?(me=12,e):t&32?(me=11,32):(e=192&t,e!==0?(me=10,e):t&256?(me=9,256):(e=3584&t,e!==0?(me=8,e):t&4096?(me=7,4096):(e=4186112&t,e!==0?(me=6,e):(e=62914560&t,e!==0?(me=5,e):t&67108864?(me=4,67108864):t&134217728?(me=3,134217728):(e=805306368&t,e!==0?(me=2,e):1073741824&t?(me=1,1073741824):(me=8,t))))))}function EE(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function TE(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(j(358,t))}}function Js(t,e){var n=t.pendingLanes;if(n===0)return me=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,a=t.pingedLanes;if(s!==0)r=s,i=me=15;else if(s=n&134217727,s!==0){var l=s&~o;l!==0?(r=Gr(l),i=me):(a&=s,a!==0&&(r=Gr(a),i=me))}else s=n&~o,s!==0?(r=Gr(s),i=me):a!==0&&(r=Gr(a),i=me);if(r===0)return 0;if(r=31-Jn(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&!(e&o)){if(Gr(e),i<=me)return e;me=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),i=1<<n,r|=t[n],e&=~i;return r}function _v(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iu(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Qr(24&~e),t===0?iu(10,e):t;case 10:return t=Qr(192&~e),t===0?iu(8,e):t;case 8:return t=Qr(3584&~e),t===0&&(t=Qr(4186112&~e),t===0&&(t=512)),t;case 2:return e=Qr(805306368&~e),e===0&&(e=268435456),e}throw Error(j(358,t))}function Qr(t){return t&-t}function uc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qu(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-Jn(e),t[e]=n}var Jn=Math.clz32?Math.clz32:kE,SE=Math.log,IE=Math.LN2;function kE(t){return t===0?32:31-(SE(t)/IE|0)|0}var CE=$e.unstable_UserBlockingPriority,AE=$e.unstable_runWithPriority,xa=!0;function PE(t,e,n,r){_r||Lh();var i=Uh,s=_r;_r=!0;try{rv(i,t,e,n,r)}finally{(_r=s)||Vh()}}function bE(t,e,n,r){AE(CE,Uh.bind(null,t,e,n,r))}function Uh(t,e,n,r){if(xa){var i;if((i=(e&4)===0)&&0<qt.length&&-1<$p.indexOf(t))t=pd(null,t,e,n,r),qt.push(t);else{var s=zh(t,e,n,r);if(s===null)i&&Bp(t,r);else{if(i){if(-1<$p.indexOf(t)){t=pd(s,t,e,n,r),qt.push(t);return}if(gE(s,t,e,n,r))return;Bp(t,r)}Rv(t,e,r,null,n)}}}}function zh(t,e,n,r){var i=Dh(r);if(i=vr(i),i!==null){var s=Ur(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=sv(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Rv(t,e,r,i,n),null}var Dn=null,$h=null,ja=null;function vv(){if(ja)return ja;var t,e=$h,n=e.length,r,i="value"in Dn?Dn.value:Dn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ja=i.slice(t,1<r?1-r:void 0)}function Fa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pa(){return!0}function Wp(){return!1}function It(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pa:Wp,this.isPropagationStopped=Wp,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pa)},persist:function(){},isPersistent:pa}),e}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bh=It(Ui),Ro=Te({},Ui,{view:0,detail:0}),RE=It(Ro),lc,cc,is,Yu=Te({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==is&&(is&&t.type==="mousemove"?(lc=t.screenX-is.screenX,cc=t.screenY-is.screenY):cc=lc=0,is=t),lc)},movementY:function(t){return"movementY"in t?t.movementY:cc}}),qp=It(Yu),NE=Te({},Yu,{dataTransfer:0}),OE=It(NE),DE=Te({},Ro,{relatedTarget:0}),dc=It(DE),ME=Te({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),LE=It(ME),VE=Te({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xE=It(VE),jE=Te({},Ui,{data:0}),Kp=It(jE),FE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $E(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zE[t])?!!e[t]:!1}function Hh(){return $E}var BE=Te({},Ro,{key:function(t){if(t.key){var e=FE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hh,charCode:function(t){return t.type==="keypress"?Fa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HE=It(BE),WE=Te({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gp=It(WE),qE=Te({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hh}),KE=It(qE),GE=Te({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),QE=It(GE),YE=Te({},Yu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XE=It(YE),JE=[9,13,27,32],Wh=yn&&"CompositionEvent"in window,Os=null;yn&&"documentMode"in document&&(Os=document.documentMode);var ZE=yn&&"TextEvent"in window&&!Os,yv=yn&&(!Wh||Os&&8<Os&&11>=Os),Qp=" ",Yp=!1;function wv(t,e){switch(t){case"keyup":return JE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ev(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ei=!1;function e3(t,e){switch(t){case"compositionend":return Ev(e);case"keypress":return e.which!==32?null:(Yp=!0,Qp);case"textInput":return t=e.data,t===Qp&&Yp?null:t;default:return null}}function t3(t,e){if(ei)return t==="compositionend"||!Wh&&wv(t,e)?(t=vv(),ja=$h=Dn=null,ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yv&&e.locale!=="ko"?null:e.data;default:return null}}var n3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!n3[t.type]:e==="textarea"}function Tv(t,e,n,r){tv(r),e=su(e,"onChange"),0<e.length&&(n=new Bh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ds=null,Zs=null;function r3(t){Av(t,0)}function Xu(t){var e=ni(t);if(G_(e))return t}function i3(t,e){if(t==="change")return e}var Sv=!1;if(yn){var hc;if(yn){var fc="oninput"in document;if(!fc){var Jp=document.createElement("div");Jp.setAttribute("oninput","return;"),fc=typeof Jp.oninput=="function"}hc=fc}else hc=!1;Sv=hc&&(!document.documentMode||9<document.documentMode)}function Zp(){Ds&&(Ds.detachEvent("onpropertychange",Iv),Zs=Ds=null)}function Iv(t){if(t.propertyName==="value"&&Xu(Zs)){var e=[];if(Tv(e,Zs,t,Dh(t)),t=r3,_r)t(e);else{_r=!0;try{Mh(t,e)}finally{_r=!1,Vh()}}}}function s3(t,e,n){t==="focusin"?(Zp(),Ds=e,Zs=n,Ds.attachEvent("onpropertychange",Iv)):t==="focusout"&&Zp()}function o3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(Zs)}function a3(t,e){if(t==="click")return Xu(e)}function u3(t,e){if(t==="input"||t==="change")return Xu(e)}function l3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ct=typeof Object.is=="function"?Object.is:l3,c3=Object.prototype.hasOwnProperty;function eo(t,e){if(Ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!c3.call(e,n[r])||!Ct(t[n[r]],e[n[r]]))return!1;return!0}function em(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tm(t,e){var n=em(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=em(n)}}function kv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nm(){for(var t=window,e=tu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tu(t.document)}return e}function md(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var d3=yn&&"documentMode"in document&&11>=document.documentMode,ti=null,gd=null,Ms=null,_d=!1;function rm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_d||ti==null||ti!==tu(r)||(r=ti,"selectionStart"in r&&md(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ms&&eo(Ms,r)||(Ms=r,r=su(gd,"onSelect"),0<r.length&&(e=new Bh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ti)))}Fh("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Fh("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Fh(yE,2);for(var im="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),pc=0;pc<im.length;pc++)jh.set(im[pc],0);Ii("onMouseEnter",["mouseout","mouseover"]);Ii("onMouseLeave",["mouseout","mouseover"]);Ii("onPointerEnter",["pointerout","pointerover"]);Ii("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cv=new Set("cancel close invalid load scroll toggle".split(" ").concat(vs));function sm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pE(r,e,void 0,t),t.currentTarget=null}function Av(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;sm(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;sm(i,a,c),s=l}}}if(ru)throw t=hd,ru=!1,hd=null,t}function ve(t,e){var n=Ov(e),r=t+"__bubble";n.has(r)||(bv(e,t,2,!1),n.add(r))}var om="_reactListening"+Math.random().toString(36).slice(2);function Pv(t){t[om]||(t[om]=!0,W_.forEach(function(e){Cv.has(e)||am(e,!1,t,null),am(e,!0,t,null)}))}function am(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!e&&Cv.has(t)){if(t!=="scroll")return;i|=2,s=r}var o=Ov(s),a=t+"__"+(e?"capture":"bubble");o.has(a)||(e&&(i|=4),bv(s,t,i,e),o.add(a))}function bv(t,e,n,r){var i=jh.get(e);switch(i===void 0?2:i){case 0:i=PE;break;case 1:i=bE;break;default:i=Uh}n=i.bind(null,e,n,t),i=void 0,!dd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Rv(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=vr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}cE(function(){var c=s,f=Dh(n),g=[];e:{var y=gv.get(t);if(y!==void 0){var k=Bh,A=t;switch(t){case"keypress":if(Fa(n)===0)break e;case"keydown":case"keyup":k=HE;break;case"focusin":A="focus",k=dc;break;case"focusout":A="blur",k=dc;break;case"beforeblur":case"afterblur":k=dc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=qp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=OE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=KE;break;case hv:case fv:case pv:k=LE;break;case mv:k=QE;break;case"scroll":k=RE;break;case"wheel":k=XE;break;case"copy":case"cut":case"paste":k=xE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Gp}var C=(e&4)!==0,_=!C&&t==="scroll",p=C?y!==null?y+"Capture":null:y;C=[];for(var v=c,I;v!==null;){I=v;var u=I.stateNode;if(I.tag===5&&u!==null&&(I=u,p!==null&&(u=Qs(v,p),u!=null&&C.push(to(v,u,I)))),_)break;v=v.return}0<C.length&&(y=new k(y,A,null,n,f),g.push({event:y,listeners:C}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",y&&!(e&16)&&(A=n.relatedTarget||n.fromElement)&&(vr(A)||A[zi]))break e;if((k||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,k?(A=n.relatedTarget||n.toElement,k=c,A=A?vr(A):null,A!==null&&(_=Ur(A),A!==_||A.tag!==5&&A.tag!==6)&&(A=null)):(k=null,A=c),k!==A)){if(C=qp,u="onMouseLeave",p="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(C=Gp,u="onPointerLeave",p="onPointerEnter",v="pointer"),_=k==null?y:ni(k),I=A==null?y:ni(A),y=new C(u,v+"leave",k,n,f),y.target=_,y.relatedTarget=I,u=null,vr(f)===c&&(C=new C(p,v+"enter",A,n,f),C.target=I,C.relatedTarget=_,u=C),_=u,k&&A)t:{for(C=k,p=A,v=0,I=C;I;I=qr(I))v++;for(I=0,u=p;u;u=qr(u))I++;for(;0<v-I;)C=qr(C),v--;for(;0<I-v;)p=qr(p),I--;for(;v--;){if(C===p||p!==null&&C===p.alternate)break t;C=qr(C),p=qr(p)}C=null}else C=null;k!==null&&um(g,y,k,C,!1),A!==null&&_!==null&&um(g,_,A,C,!0)}}e:{if(y=c?ni(c):window,k=y.nodeName&&y.nodeName.toLowerCase(),k==="select"||k==="input"&&y.type==="file")var h=i3;else if(Xp(y))if(Sv)h=u3;else{h=o3;var d=s3}else(k=y.nodeName)&&k.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(h=a3);if(h&&(h=h(t,c))){Tv(g,h,n,f);break e}d&&d(t,y,c),t==="focusout"&&(d=y._wrapperState)&&d.controlled&&y.type==="number"&&rd(y,"number",y.value)}switch(d=c?ni(c):window,t){case"focusin":(Xp(d)||d.contentEditable==="true")&&(ti=d,gd=c,Ms=null);break;case"focusout":Ms=gd=ti=null;break;case"mousedown":_d=!0;break;case"contextmenu":case"mouseup":case"dragend":_d=!1,rm(g,n,f);break;case"selectionchange":if(d3)break;case"keydown":case"keyup":rm(g,n,f)}var m;if(Wh)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ei?wv(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(yv&&n.locale!=="ko"&&(ei||w!=="onCompositionStart"?w==="onCompositionEnd"&&ei&&(m=vv()):(Dn=f,$h="value"in Dn?Dn.value:Dn.textContent,ei=!0)),d=su(c,w),0<d.length&&(w=new Kp(w,t,null,n,f),g.push({event:w,listeners:d}),m?w.data=m:(m=Ev(n),m!==null&&(w.data=m)))),(m=ZE?e3(t,n):t3(t,n))&&(c=su(c,"onBeforeInput"),0<c.length&&(f=new Kp("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:c}),f.data=m))}Av(g,e)})}function to(t,e,n){return{instance:t,listener:e,currentTarget:n}}function su(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Qs(t,n),s!=null&&r.unshift(to(t,s,i)),s=Qs(t,e),s!=null&&r.push(to(t,s,i))),t=t.return}return r}function qr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function um(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Qs(n,s),l!=null&&o.unshift(to(n,l,a))):i||(l=Qs(n,s),l!=null&&o.push(to(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function ou(){}var mc=null,gc=null;function Nv(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function vd(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lm=typeof setTimeout=="function"?setTimeout:void 0,h3=typeof clearTimeout=="function"?clearTimeout:void 0;function qh(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function cm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _c=0;function f3(t){return{$$typeof:Nh,toString:t,valueOf:t}}var Ju=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Ju,au="__reactProps$"+Ju,zi="__reactContainer$"+Ju,dm="__reactEvents$"+Ju;function vr(t){var e=t[Mn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zi]||n[Mn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cm(t);t!==null;){if(n=t[Mn])return n;t=cm(t)}return e}t=n,n=t.parentNode}return null}function No(t){return t=t[Mn]||t[zi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ni(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Zu(t){return t[au]||null}function Ov(t){var e=t[dm];return e===void 0&&(e=t[dm]=new Set),e}var yd=[],ri=-1;function sr(t){return{current:t}}function we(t){0>ri||(t.current=yd[ri],yd[ri]=null,ri--)}function Pe(t,e){ri++,yd[ri]=t.current,t.current=e}var Zn={},ut=sr(Zn),gt=sr(!1),Pr=Zn;function ki(t,e){var n=t.type.contextTypes;if(!n)return Zn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _t(t){return t=t.childContextTypes,t!=null}function uu(){we(gt),we(ut)}function hm(t,e,n){if(ut.current!==Zn)throw Error(j(168));Pe(ut,e),Pe(gt,n)}function Dv(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(j(108,li(e)||"Unknown",i));return Te({},n,r)}function Ua(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zn,Pr=ut.current,Pe(ut,t),Pe(gt,gt.current),!0}function fm(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=Dv(t,e,Pr),r.__reactInternalMemoizedMergedChildContext=t,we(gt),we(ut),Pe(ut,t)):we(gt),Pe(gt,n)}var Kh=null,kr=null,p3=$e.unstable_runWithPriority,Gh=$e.unstable_scheduleCallback,wd=$e.unstable_cancelCallback,m3=$e.unstable_shouldYield,pm=$e.unstable_requestPaint,Ed=$e.unstable_now,g3=$e.unstable_getCurrentPriorityLevel,el=$e.unstable_ImmediatePriority,Mv=$e.unstable_UserBlockingPriority,Lv=$e.unstable_NormalPriority,Vv=$e.unstable_LowPriority,xv=$e.unstable_IdlePriority,vc={},_3=pm!==void 0?pm:function(){},dn=null,za=null,yc=!1,mm=Ed(),it=1e4>mm?Ed:function(){return Ed()-mm};function Ci(){switch(g3()){case el:return 99;case Mv:return 98;case Lv:return 97;case Vv:return 96;case xv:return 95;default:throw Error(j(332))}}function jv(t){switch(t){case 99:return el;case 98:return Mv;case 97:return Lv;case 96:return Vv;case 95:return xv;default:throw Error(j(332))}}function br(t,e){return t=jv(t),p3(t,e)}function no(t,e,n){return t=jv(t),Gh(t,e,n)}function un(){if(za!==null){var t=za;za=null,wd(t)}Fv()}function Fv(){if(!yc&&dn!==null){yc=!0;var t=0;try{var e=dn;br(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),dn=null}catch(n){throw dn!==null&&(dn=dn.slice(t+1)),Gh(el,un),n}finally{yc=!1}}}var v3=Fr.ReactCurrentBatchConfig;function Ft(t,e){if(t&&t.defaultProps){e=Te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var lu=sr(null),cu=null,ii=null,du=null;function Qh(){du=ii=cu=null}function Yh(t){var e=lu.current;we(lu),t.type._context._currentValue=e}function Uv(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function pi(t,e){cu=t,du=ii=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function Nt(t,e){if(du!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(du=t,e=1073741823),e={context:t,observedBits:e,next:null},ii===null){if(cu===null)throw Error(j(308));ii=e,cu.dependencies={lanes:0,firstContext:e,responders:null}}else ii=ii.next=e;return t._currentValue}var An=!1;function Xh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function zv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Un(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zn(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function gm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ro(t,e,n,r){var i=t.updateQueue;An=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var f=t.alternate;if(f!==null){f=f.updateQueue;var g=f.lastBaseUpdate;g!==o&&(g===null?f.firstBaseUpdate=c:g.next=c,f.lastBaseUpdate=l)}}if(s!==null){g=i.baseState,o=0,f=c=l=null;do{a=s.lane;var y=s.eventTime;if((r&a)===a){f!==null&&(f=f.next={eventTime:y,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var k=t,A=s;switch(a=e,y=n,A.tag){case 1:if(k=A.payload,typeof k=="function"){g=k.call(y,g,a);break e}g=k;break e;case 3:k.flags=k.flags&-4097|64;case 0:if(k=A.payload,a=typeof k=="function"?k.call(y,g,a):k,a==null)break e;g=Te({},g,a);break e;case 2:An=!0}}s.callback!==null&&(t.flags|=32,a=i.effects,a===null?i.effects=[s]:a.push(s))}else y={eventTime:y,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(c=f=y,l=g):f=f.next=y,o|=a;if(s=s.next,s===null){if(a=i.shared.pending,a===null)break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(!0);f===null&&(l=g),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,Do|=o,t.lanes=o,t.memoizedState=g}}function _m(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var $v=new Wu.Component().refs;function hu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tl={isMounted:function(t){return(t=t._reactInternals)?Ur(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Et(),i=$n(t),s=Un(r,i);s.payload=e,n!=null&&(s.callback=n),zn(t,s),Bn(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Et(),i=$n(t),s=Un(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),zn(t,s),Bn(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Et(),r=$n(t),i=Un(n,r);i.tag=2,e!=null&&(i.callback=e),zn(t,i),Bn(t,r,n)}};function vm(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!eo(n,r)||!eo(i,s):!0}function Bv(t,e,n){var r=!1,i=Zn,s=e.contextType;return typeof s=="object"&&s!==null?s=Nt(s):(i=_t(e)?Pr:ut.current,r=e.contextTypes,s=(r=r!=null)?ki(t,i):Zn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ym(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&tl.enqueueReplaceState(e,e.state,null)}function Td(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=$v,Xh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Nt(s):(s=_t(e)?Pr:ut.current,i.context=ki(t,s)),ro(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hu(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&tl.enqueueReplaceState(i,i.state,null),ro(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var ma=Array.isArray;function ss(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===$v&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function ga(t,e){if(t.type!=="textarea")throw Error(j(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Hv(t){function e(_,p){if(t){var v=_.lastEffect;v!==null?(v.nextEffect=p,_.lastEffect=p):_.firstEffect=_.lastEffect=p,p.nextEffect=null,p.flags=8}}function n(_,p){if(!t)return null;for(;p!==null;)e(_,p),p=p.sibling;return null}function r(_,p){for(_=new Map;p!==null;)p.key!==null?_.set(p.key,p):_.set(p.index,p),p=p.sibling;return _}function i(_,p){return _=tr(_,p),_.index=0,_.sibling=null,_}function s(_,p,v){return _.index=v,t?(v=_.alternate,v!==null?(v=v.index,v<p?(_.flags=2,p):v):(_.flags=2,p)):p}function o(_){return t&&_.alternate===null&&(_.flags=2),_}function a(_,p,v,I){return p===null||p.tag!==6?(p=Ic(v,_.mode,I),p.return=_,p):(p=i(p,v),p.return=_,p)}function l(_,p,v,I){return p!==null&&p.elementType===v.type?(I=i(p,v.props),I.ref=ss(_,p,v),I.return=_,I):(I=Wa(v.type,v.key,v.props,null,_.mode,I),I.ref=ss(_,p,v),I.return=_,I)}function c(_,p,v,I){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=kc(v,_.mode,I),p.return=_,p):(p=i(p,v.children||[]),p.return=_,p)}function f(_,p,v,I,u){return p===null||p.tag!==7?(p=vi(v,_.mode,I,u),p.return=_,p):(p=i(p,v),p.return=_,p)}function g(_,p,v){if(typeof p=="string"||typeof p=="number")return p=Ic(""+p,_.mode,v),p.return=_,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case gs:return v=Wa(p.type,p.key,p.props,null,_.mode,v),v.ref=ss(_,null,p),v.return=_,v;case gr:return p=kc(p,_.mode,v),p.return=_,p}if(ma(p)||Zi(p))return p=vi(p,_.mode,v,null),p.return=_,p;ga(_,p)}return null}function y(_,p,v,I){var u=p!==null?p.key:null;if(typeof v=="string"||typeof v=="number")return u!==null?null:a(_,p,""+v,I);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gs:return v.key===u?v.type===Pn?f(_,p,v.props.children,I,u):l(_,p,v,I):null;case gr:return v.key===u?c(_,p,v,I):null}if(ma(v)||Zi(v))return u!==null?null:f(_,p,v,I,null);ga(_,v)}return null}function k(_,p,v,I,u){if(typeof I=="string"||typeof I=="number")return _=_.get(v)||null,a(p,_,""+I,u);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case gs:return _=_.get(I.key===null?v:I.key)||null,I.type===Pn?f(p,_,I.props.children,u,I.key):l(p,_,I,u);case gr:return _=_.get(I.key===null?v:I.key)||null,c(p,_,I,u)}if(ma(I)||Zi(I))return _=_.get(v)||null,f(p,_,I,u,null);ga(p,I)}return null}function A(_,p,v,I){for(var u=null,h=null,d=p,m=p=0,w=null;d!==null&&m<v.length;m++){d.index>m?(w=d,d=null):w=d.sibling;var E=y(_,d,v[m],I);if(E===null){d===null&&(d=w);break}t&&d&&E.alternate===null&&e(_,d),p=s(E,p,m),h===null?u=E:h.sibling=E,h=E,d=w}if(m===v.length)return n(_,d),u;if(d===null){for(;m<v.length;m++)d=g(_,v[m],I),d!==null&&(p=s(d,p,m),h===null?u=d:h.sibling=d,h=d);return u}for(d=r(_,d);m<v.length;m++)w=k(d,_,m,v[m],I),w!==null&&(t&&w.alternate!==null&&d.delete(w.key===null?m:w.key),p=s(w,p,m),h===null?u=w:h.sibling=w,h=w);return t&&d.forEach(function(T){return e(_,T)}),u}function C(_,p,v,I){var u=Zi(v);if(typeof u!="function")throw Error(j(150));if(v=u.call(v),v==null)throw Error(j(151));for(var h=u=null,d=p,m=p=0,w=null,E=v.next();d!==null&&!E.done;m++,E=v.next()){d.index>m?(w=d,d=null):w=d.sibling;var T=y(_,d,E.value,I);if(T===null){d===null&&(d=w);break}t&&d&&T.alternate===null&&e(_,d),p=s(T,p,m),h===null?u=T:h.sibling=T,h=T,d=w}if(E.done)return n(_,d),u;if(d===null){for(;!E.done;m++,E=v.next())E=g(_,E.value,I),E!==null&&(p=s(E,p,m),h===null?u=E:h.sibling=E,h=E);return u}for(d=r(_,d);!E.done;m++,E=v.next())E=k(d,_,m,E.value,I),E!==null&&(t&&E.alternate!==null&&d.delete(E.key===null?m:E.key),p=s(E,p,m),h===null?u=E:h.sibling=E,h=E);return t&&d.forEach(function(P){return e(_,P)}),u}return function(_,p,v,I){var u=typeof v=="object"&&v!==null&&v.type===Pn&&v.key===null;u&&(v=v.props.children);var h=typeof v=="object"&&v!==null;if(h)switch(v.$$typeof){case gs:e:{for(h=v.key,u=p;u!==null;){if(u.key===h){switch(u.tag){case 7:if(v.type===Pn){n(_,u.sibling),p=i(u,v.props.children),p.return=_,_=p;break e}break;default:if(u.elementType===v.type){n(_,u.sibling),p=i(u,v.props),p.ref=ss(_,u,v),p.return=_,_=p;break e}}n(_,u);break}else e(_,u);u=u.sibling}v.type===Pn?(p=vi(v.props.children,_.mode,I,v.key),p.return=_,_=p):(I=Wa(v.type,v.key,v.props,null,_.mode,I),I.ref=ss(_,p,v),I.return=_,_=I)}return o(_);case gr:e:{for(u=v.key;p!==null;){if(p.key===u)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(_,p.sibling),p=i(p,v.children||[]),p.return=_,_=p;break e}else{n(_,p);break}else e(_,p);p=p.sibling}p=kc(v,_.mode,I),p.return=_,_=p}return o(_)}if(typeof v=="string"||typeof v=="number")return v=""+v,p!==null&&p.tag===6?(n(_,p.sibling),p=i(p,v),p.return=_,_=p):(n(_,p),p=Ic(v,_.mode,I),p.return=_,_=p),o(_);if(ma(v))return A(_,p,v,I);if(Zi(v))return C(_,p,v,I);if(h&&ga(_,v),typeof v>"u"&&!u)switch(_.tag){case 1:case 22:case 0:case 11:case 15:throw Error(j(152,li(_.type)||"Component"))}return n(_,p)}}var fu=Hv(!0),Wv=Hv(!1),Oo={},Xt=sr(Oo),io=sr(Oo),so=sr(Oo);function yr(t){if(t===Oo)throw Error(j(174));return t}function Sd(t,e){switch(Pe(so,e),Pe(io,t),Pe(Xt,Oo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ad(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ad(e,t)}we(Xt),Pe(Xt,e)}function Ai(){we(Xt),we(io),we(so)}function wm(t){yr(so.current);var e=yr(Xt.current),n=ad(e,t.type);e!==n&&(Pe(io,t),Pe(Xt,n))}function Jh(t){io.current===t&&(we(Xt),we(io))}var Ae=sr(0);function pu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fn=null,Ln=null,Jt=!1;function qv(t,e){var n=At(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Em(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function Id(t){if(Jt){var e=Ln;if(e){var n=e;if(!Em(t,e)){if(e=fi(n.nextSibling),!e||!Em(t,e)){t.flags=t.flags&-1025|2,Jt=!1,fn=t;return}qv(fn,n)}fn=t,Ln=fi(e.firstChild)}else t.flags=t.flags&-1025|2,Jt=!1,fn=t}}function Tm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function _a(t){if(t!==fn)return!1;if(!Jt)return Tm(t),Jt=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!vd(e,t.memoizedProps))for(e=Ln;e;)qv(t,e),e=fi(e.nextSibling);if(Tm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ln=fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ln=null}}else Ln=fn?fi(t.stateNode.nextSibling):null;return!0}function wc(){Ln=fn=null,Jt=!1}var mi=[];function Zh(){for(var t=0;t<mi.length;t++)mi[t]._workInProgressVersionPrimary=null;mi.length=0}var Ls=Fr.ReactCurrentDispatcher,Rt=Fr.ReactCurrentBatchConfig,oo=0,Oe=null,tt=null,We=null,mu=!1,Vs=!1;function pt(){throw Error(j(321))}function ef(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ct(t[n],e[n]))return!1;return!0}function tf(t,e,n,r,i,s){if(oo=s,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ls.current=t===null||t.memoizedState===null?w3:E3,t=n(r,i),Vs){s=0;do{if(Vs=!1,!(25>s))throw Error(j(301));s+=1,We=tt=null,e.updateQueue=null,Ls.current=T3,t=n(r,i)}while(Vs)}if(Ls.current=yu,e=tt!==null&&tt.next!==null,oo=0,We=tt=Oe=null,mu=!1,e)throw Error(j(300));return t}function wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Oe.memoizedState=We=t:We=We.next=t,We}function zr(){if(tt===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=We===null?Oe.memoizedState:We.next;if(e!==null)We=e,tt=t;else{if(t===null)throw Error(j(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},We===null?Oe.memoizedState=We=t:We=We.next=t}return We}function Kt(t,e){return typeof e=="function"?e(t):e}function os(t){var e=zr(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=tt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=o=s=null,l=i;do{var c=l.lane;if((oo&c)===c)a!==null&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var f={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};a===null?(o=a=f,s=r):a=a.next=f,Oe.lanes|=c,Do|=c}l=l.next}while(l!==null&&l!==i);a===null?s=r:a.next=o,Ct(r,e.memoizedState)||(Ut=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function as(t){var e=zr(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ct(s,e.memoizedState)||(Ut=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Sm(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(oo&t)===t)&&(e._workInProgressVersionPrimary=r,mi.push(e))),t)return n(e._source);throw mi.push(e),Error(j(350))}function Kv(t,e,n,r){var i=dt;if(i===null)throw Error(j(349));var s=e._getVersion,o=s(e._source),a=Ls.current,l=a.useState(function(){return Sm(i,e,n)}),c=l[1],f=l[0];l=We;var g=t.memoizedState,y=g.refs,k=y.getSnapshot,A=g.source;g=g.subscribe;var C=Oe;return t.memoizedState={refs:y,source:e,subscribe:r},a.useEffect(function(){y.getSnapshot=n,y.setSnapshot=c;var _=s(e._source);if(!Ct(o,_)){_=n(e._source),Ct(f,_)||(c(_),_=$n(C),i.mutableReadLanes|=_&i.pendingLanes),_=i.mutableReadLanes,i.entangledLanes|=_;for(var p=i.entanglements,v=_;0<v;){var I=31-Jn(v),u=1<<I;p[I]|=_,v&=~u}}},[n,e,r]),a.useEffect(function(){return r(e._source,function(){var _=y.getSnapshot,p=y.setSnapshot;try{p(_(e._source));var v=$n(C);i.mutableReadLanes|=v&i.pendingLanes}catch(I){p(function(){throw I})}})},[e,r]),Ct(k,n)&&Ct(A,e)&&Ct(g,r)||(t={pending:null,dispatch:null,lastRenderedReducer:Kt,lastRenderedState:f},t.dispatch=c=sf.bind(null,Oe,t),l.queue=t,l.baseQueue=null,f=Sm(i,e,n),l.memoizedState=l.baseState=f),f}function Gv(t,e,n){var r=zr();return Kv(r,t,e,n)}function us(t){var e=wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Kt,lastRenderedState:t},t=t.dispatch=sf.bind(null,Oe,t),[e.memoizedState,t]}function gu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Im(t){var e=wr();return t={current:t},e.memoizedState=t}function _u(){return zr().memoizedState}function kd(t,e,n,r){var i=wr();Oe.flags|=t,i.memoizedState=gu(1|e,n,void 0,r===void 0?null:r)}function nf(t,e,n,r){var i=zr();r=r===void 0?null:r;var s=void 0;if(tt!==null){var o=tt.memoizedState;if(s=o.destroy,r!==null&&ef(r,o.deps)){gu(e,n,s,r);return}}Oe.flags|=t,i.memoizedState=gu(1|e,n,s,r)}function km(t,e){return kd(516,4,t,e)}function vu(t,e){return nf(516,4,t,e)}function Qv(t,e){return nf(4,2,t,e)}function Yv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xv(t,e,n){return n=n!=null?n.concat([t]):null,nf(4,2,Yv.bind(null,e,t),n)}function rf(){}function Jv(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ef(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Zv(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ef(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function y3(t,e){var n=Ci();br(98>n?98:n,function(){t(!0)}),br(97<n?97:n,function(){var r=Rt.transition;Rt.transition=1;try{t(!1),e()}finally{Rt.transition=r}})}function sf(t,e,n){var r=Et(),i=$n(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===Oe||o!==null&&o===Oe)Vs=mu=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,n);if(s.eagerReducer=o,s.eagerState=l,Ct(l,a))return}catch{}finally{}Bn(t,i,r)}}var yu={readContext:Nt,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useOpaqueIdentifier:pt,unstable_isNewReconciler:!1},w3={readContext:Nt,useCallback:function(t,e){return wr().memoizedState=[t,e===void 0?null:e],t},useContext:Nt,useEffect:km,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,kd(4,2,Yv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kd(4,2,t,e)},useMemo:function(t,e){var n=wr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=sf.bind(null,Oe,t),[r.memoizedState,t]},useRef:Im,useState:us,useDebugValue:rf,useDeferredValue:function(t){var e=us(t),n=e[0],r=e[1];return km(function(){var i=Rt.transition;Rt.transition=1;try{r(t)}finally{Rt.transition=i}},[t]),n},useTransition:function(){var t=us(!1),e=t[0];return t=y3.bind(null,t[1]),Im(t),[t,e]},useMutableSource:function(t,e,n){var r=wr();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},Kv(r,t,e,n)},useOpaqueIdentifier:function(){if(Jt){var t=!1,e=f3(function(){throw t||(t=!0,n("r:"+(_c++).toString(36))),Error(j(355))}),n=us(e)[1];return!(Oe.mode&2)&&(Oe.flags|=516,gu(5,function(){n("r:"+(_c++).toString(36))},void 0,null)),e}return e="r:"+(_c++).toString(36),us(e),e},unstable_isNewReconciler:!1},E3={readContext:Nt,useCallback:Jv,useContext:Nt,useEffect:vu,useImperativeHandle:Xv,useLayoutEffect:Qv,useMemo:Zv,useReducer:os,useRef:_u,useState:function(){return os(Kt)},useDebugValue:rf,useDeferredValue:function(t){var e=os(Kt),n=e[0],r=e[1];return vu(function(){var i=Rt.transition;Rt.transition=1;try{r(t)}finally{Rt.transition=i}},[t]),n},useTransition:function(){var t=os(Kt)[0];return[_u().current,t]},useMutableSource:Gv,useOpaqueIdentifier:function(){return os(Kt)[0]},unstable_isNewReconciler:!1},T3={readContext:Nt,useCallback:Jv,useContext:Nt,useEffect:vu,useImperativeHandle:Xv,useLayoutEffect:Qv,useMemo:Zv,useReducer:as,useRef:_u,useState:function(){return as(Kt)},useDebugValue:rf,useDeferredValue:function(t){var e=as(Kt),n=e[0],r=e[1];return vu(function(){var i=Rt.transition;Rt.transition=1;try{r(t)}finally{Rt.transition=i}},[t]),n},useTransition:function(){var t=as(Kt)[0];return[_u().current,t]},useMutableSource:Gv,useOpaqueIdentifier:function(){return as(Kt)[0]},unstable_isNewReconciler:!1},S3=Fr.ReactCurrentOwner,Ut=!1;function mt(t,e,n,r){e.child=t===null?Wv(e,null,n,r):fu(e,t.child,n,r)}function Cm(t,e,n,r,i){n=n.render;var s=e.ref;return pi(e,i),r=tf(t,e,n,r,s,i),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,pn(t,e,i)):(e.flags|=1,mt(t,e,r,i),e.child)}function Am(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!df(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,ey(t,e,o,r,i,s)):(t=Wa(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&s)&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:eo,n(i,r)&&t.ref===e.ref)?pn(t,e,s):(e.flags|=1,t=tr(o,r),t.ref=e.ref,t.return=e,e.child=t)}function ey(t,e,n,r,i,s){if(t!==null&&eo(t.memoizedProps,r)&&t.ref===e.ref)if(Ut=!1,(s&i)!==0)t.flags&16384&&(Ut=!0);else return e.lanes=t.lanes,pn(t,e,s);return Cd(t,e,n,r,s)}function Ec(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},ya(e,n);else if(n&1073741824)e.memoizedState={baseLanes:0},ya(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},ya(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ya(e,r);return mt(t,e,i,n),e.child}function ty(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function Cd(t,e,n,r,i){var s=_t(n)?Pr:ut.current;return s=ki(e,s),pi(e,i),n=tf(t,e,n,r,s,i),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,pn(t,e,i)):(e.flags|=1,mt(t,e,n,i),e.child)}function Pm(t,e,n,r,i){if(_t(n)){var s=!0;Ua(e)}else s=!1;if(pi(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),Bv(e,n,r),Td(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Nt(c):(c=_t(n)?Pr:ut.current,c=ki(e,c));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&ym(e,o,r,c),An=!1;var y=e.memoizedState;o.state=y,ro(e,r,o,i),l=e.memoizedState,a!==r||y!==l||gt.current||An?(typeof f=="function"&&(hu(e,n,f,r),l=e.memoizedState),(a=An||vm(e,n,a,r,y,l,c))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,zv(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ft(e.type,a),o.props=c,g=e.pendingProps,y=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nt(l):(l=_t(n)?Pr:ut.current,l=ki(e,l));var k=n.getDerivedStateFromProps;(f=typeof k=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||y!==l)&&ym(e,o,r,l),An=!1,y=e.memoizedState,o.state=y,ro(e,r,o,i);var A=e.memoizedState;a!==g||y!==A||gt.current||An?(typeof k=="function"&&(hu(e,n,k,r),A=e.memoizedState),(c=An||vm(e,n,c,r,y,A,l))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=256),r=!1)}return Ad(t,e,n,r,s,i)}function Ad(t,e,n,r,i,s){ty(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&fm(e,n,!1),pn(t,e,s);r=e.stateNode,S3.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=fu(e,t.child,null,s),e.child=fu(e,null,a,s)):mt(t,e,a,s),e.memoizedState=r.state,i&&fm(e,n,!0),e.child}function bm(t){var e=t.stateNode;e.pendingContext?hm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hm(t,e.context,!1),Sd(t,e.containerInfo)}var va={dehydrated:null,retryLane:0};function Rm(t,e,n){var r=e.pendingProps,i=Ae.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Pe(Ae,i&1),t===null?(r.fallback!==void 0&&Id(e),t=r.children,i=r.fallback,s?(t=Nm(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=va,t):typeof r.unstable_expectedLoadTime=="number"?(t=Nm(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=va,e.lanes=33554432,t):(n=hf({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=Dm(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=va,r):(n=Om(t,e,r.children,n),e.memoizedState=null,n):s?(r=Dm(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=va,r):(n=Om(t,e,r.children,n),e.memoizedState=null,n)}function Nm(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},!(i&2)&&s!==null?(s.childLanes=0,s.pendingProps=e):s=hf(e,i,0,null),n=vi(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function Om(t,e,n,r){var i=t.child;return t=i.sibling,n=tr(i,{mode:"visible",children:n}),!(e.mode&2)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function Dm(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var a={mode:"hidden",children:n};return!(s&2)&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=a,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=tr(o,a),t!==null?r=tr(t,r):(r=vi(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Mm(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Uv(t.return,e)}function Tc(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function Lm(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(mt(t,e,r.children,n),r=Ae.current,r&2)r=r&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mm(t,n);else if(t.tag===19)Mm(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Ae,r),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&pu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tc(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tc(e,!0,n,null,s,e.lastEffect);break;case"together":Tc(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function pn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Do|=e.lanes,n&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=tr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=tr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var ny,Pd,ry,iy;ny=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pd=function(){};ry=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,yr(Xt.current);var s=null;switch(n){case"input":i=td(t,i),r=td(t,r),s=[];break;case"option":i=id(t,i),r=id(t,r),s=[];break;case"select":i=Te({},i,{value:void 0}),r=Te({},r,{value:void 0}),s=[];break;case"textarea":i=sd(t,i),r=sd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ou)}ud(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ks.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ks.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ve("scroll",t),s||a===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===Nh?l.toString():(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};iy=function(t,e,n,r){n!==r&&(e.flags|=4)};function ls(t,e){if(!Jt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function I3(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return _t(e.type)&&uu(),null;case 3:return Ai(),we(gt),we(ut),Zh(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_a(e)?e.flags|=4:r.hydrate||(e.flags|=256)),Pd(e),null;case 5:Jh(e);var i=yr(so.current);if(n=e.type,t!==null&&e.stateNode!=null)ry(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(j(166));return null}if(t=yr(Xt.current),_a(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Mn]=e,r[au]=s,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(t=0;t<vs.length;t++)ve(vs[t],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Lp(r,s),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ve("invalid",r);break;case"textarea":xp(r,s),ve("invalid",r)}ud(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):Ks.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&ve("scroll",r));switch(n){case"input":da(r),Vp(r,s,!0);break;case"textarea":da(r),jp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ou)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===od.html&&(t=X_(n)),t===od.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Mn]=e,t[au]=r,ny(t,e,!1,!1),e.stateNode=t,o=ld(n,r),n){case"dialog":ve("cancel",t),ve("close",t),i=r;break;case"iframe":case"object":case"embed":ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<vs.length;i++)ve(vs[i],t);i=r;break;case"source":ve("error",t),i=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),i=r;break;case"details":ve("toggle",t),i=r;break;case"input":Lp(t,r),i=td(t,r),ve("invalid",t);break;case"option":i=id(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Te({},r,{value:void 0}),ve("invalid",t);break;case"textarea":xp(t,r),i=sd(t,r),ve("invalid",t);break;default:i=r}ud(n,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ev(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&J_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gs(t,l):typeof l=="number"&&Gs(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ks.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ve("scroll",t):l!=null&&kh(t,s,l,o))}switch(n){case"input":da(t),Vp(t,r,!1);break;case"textarea":da(t),jp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ci(t,!!r.multiple,s,!1):r.defaultValue!=null&&ci(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ou)}Nv(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)iy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));n=yr(so.current),yr(Xt.current),_a(e)?(r=e.stateNode,n=e.memoizedProps,r[Mn]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mn]=e,e.stateNode=r)}return null;case 13:return we(Ae),r=e.memoizedState,e.flags&64?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&_a(e):n=t.memoizedState!==null,r&&!n&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Ae.current&1?Ke===0&&(Ke=3):((Ke===0||Ke===3)&&(Ke=4),dt===null||!(Do&134217727)&&!(Bi&134217727)||gi(dt,st))),(r||n)&&(e.flags|=4),null);case 4:return Ai(),Pd(e),t===null&&Pv(e.stateNode.containerInfo),null;case 10:return Yh(e),null;case 17:return _t(e.type)&&uu(),null;case 19:if(we(Ae),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)ls(r,!1);else{if(Ke!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=pu(t),o!==null){for(e.flags|=64,ls(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Ae,Ae.current&1|2),e.child}t=t.sibling}r.tail!==null&&it()>Md&&(e.flags|=64,s=!0,ls(r,!1),e.lanes=33554432)}else{if(!s)if(t=pu(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ls(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Jt)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*it()-r.renderingStartTime>Md&&n!==1073741824&&(e.flags|=64,s=!0,ls(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=it(),n.sibling=null,e=Ae.current,Pe(Ae,s?e&1|2:e&1),n):null;case 23:case 24:return cf(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(j(156,e.tag))}function k3(t){switch(t.tag){case 1:_t(t.type)&&uu();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Ai(),we(gt),we(ut),Zh(),e=t.flags,e&64)throw Error(j(285));return t.flags=e&-4097|64,t;case 5:return Jh(t),null;case 13:return we(Ae),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return we(Ae),null;case 4:return Ai(),null;case 10:return Yh(t),null;case 23:case 24:return cf(),null;default:return null}}function of(t,e){try{var n="",r=e;do n+=sE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function bd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var C3=typeof WeakMap=="function"?WeakMap:Map;function sy(t,e,n){n=Un(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Eu||(Eu=!0,Ld=r),bd(t,e)},n}function oy(t,e,n){n=Un(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return bd(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this),bd(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var A3=typeof WeakSet=="function"?WeakSet:Set;function Vm(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Hn(t,n)}else e.current=null}function P3(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Ft(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&qh(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(j(163))}function b3(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,i&4&&i&1&&(my(n,t),x3(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Ft(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&_m(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}_m(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&Nv(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&cv(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(j(163))}function xm(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=Z_("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function jm(t,e){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(Kh,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)my(e,n);else{r=e;try{i()}catch(s){Hn(r,s)}}n=n.next}while(n!==t)}break;case 1:if(Vm(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Hn(e,s)}break;case 5:Vm(e);break;case 4:ay(t,e)}}function Fm(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function Um(t){return t.tag===5||t.tag===3||t.tag===4}function zm(t){e:{for(var e=t.return;e!==null;){if(Um(e))break e;e=e.return}throw Error(j(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(j(161))}n.flags&16&&(Gs(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||Um(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?Rd(t,n,e):Nd(t,n,e)}function Rd(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ou));else if(r!==4&&(t=t.child,t!==null))for(Rd(t,e,n),t=t.sibling;t!==null;)Rd(t,e,n),t=t.sibling}function Nd(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nd(t,e,n),t=t.sibling;t!==null;)Nd(t,e,n),t=t.sibling}function ay(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(j(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,a=n,l=a;;)if(jm(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(o=i,a=n.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(jm(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Sc(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[au]=r,t==="input"&&r.type==="radio"&&r.name!=null&&Q_(n,r),ld(t,i),e=ld(t,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?ev(n,a):o==="dangerouslySetInnerHTML"?J_(n,a):o==="children"?Gs(n,a):kh(n,o,a,e)}switch(t){case"input":nd(n,r);break;case"textarea":Y_(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?ci(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?ci(n,!!r.multiple,r.defaultValue,!0):ci(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(j(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,cv(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(lf=it(),xm(e.child,!0)),$m(e);return;case 19:$m(e);return;case 17:return;case 23:case 24:xm(e,e.memoizedState!==null);return}throw Error(j(163))}function $m(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new A3),e.forEach(function(r){var i=U3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function R3(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var N3=Math.ceil,wu=Fr.ReactCurrentDispatcher,af=Fr.ReactCurrentOwner,Z=0,dt=null,je=null,st=0,Rr=0,Od=sr(0),Ke=0,nl=null,$i=0,Do=0,Bi=0,uf=0,Dd=null,lf=0,Md=1/0;function Hi(){Md=it()+500}var q=null,Eu=!1,Ld=null,Gt=null,er=!1,xs=null,ys=90,Vd=[],xd=[],vn=null,js=0,jd=null,$a=-1,hn=0,Ba=0,Fs=null,Ha=!1;function Et(){return Z&48?it():$a!==-1?$a:$a=it()}function $n(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return Ci()===99?1:2;if(hn===0&&(hn=$i),v3.transition!==0){Ba!==0&&(Ba=Dd!==null?Dd.pendingLanes:0),t=hn;var e=4186112&~Ba;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Ci(),Z&4&&t===98?t=iu(12,hn):(t=EE(t),t=iu(t,hn)),t}function Bn(t,e,n){if(50<js)throw js=0,jd=null,Error(j(185));if(t=rl(t,e),t===null)return null;Qu(t,e,n),t===dt&&(Bi|=e,Ke===4&&gi(t,st));var r=Ci();e===1?Z&8&&!(Z&48)?Fd(t):(Ot(t,n),Z===0&&(Hi(),un())):(!(Z&4)||r!==98&&r!==99||(vn===null?vn=new Set([t]):vn.add(t)),Ot(t,n)),Dd=t}function rl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function Ot(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Jn(o),l=1<<a,c=s[a];if(c===-1){if(!(l&r)||l&i){c=e,Gr(l);var f=me;s[a]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=e&&(t.expiredLanes|=l);o&=~l}if(r=Js(t,t===dt?st:0),e=me,r===0)n!==null&&(n!==vc&&wd(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==vc&&wd(n)}e===15?(n=Fd.bind(null,t),dn===null?(dn=[n],za=Gh(el,Fv)):dn.push(n),n=vc):e===14?n=no(99,Fd.bind(null,t)):(n=TE(e),n=no(n,uy.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function uy(t){if($a=-1,Ba=hn=0,Z&48)throw Error(j(327));var e=t.callbackNode;if(or()&&t.callbackNode!==e)return null;var n=Js(t,t===dt?st:0);if(n===0)return null;var r=n,i=Z;Z|=16;var s=hy();(dt!==t||st!==r)&&(Hi(),_i(t,r));do try{M3();break}catch(a){dy(t,a)}while(!0);if(Qh(),wu.current=s,Z=i,je!==null?r=0:(dt=null,st=0,r=Ke),$i&Bi)_i(t,0);else if(r!==0){if(r===2&&(Z|=64,t.hydrate&&(t.hydrate=!1,qh(t.containerInfo)),n=_v(t),n!==0&&(r=ws(t,n))),r===1)throw e=nl,_i(t,0),gi(t,n),Ot(t,it()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(j(345));case 2:fr(t);break;case 3:if(gi(t,n),(n&62914560)===n&&(r=lf+500-it(),10<r)){if(Js(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Et(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=lm(fr.bind(null,t),r);break}fr(t);break;case 4:if(gi(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-Jn(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=it()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*N3(n/1960))-n,10<n){t.timeoutHandle=lm(fr.bind(null,t),n);break}fr(t);break;case 5:fr(t);break;default:throw Error(j(329))}}return Ot(t,it()),t.callbackNode===e?uy.bind(null,t):null}function gi(t,e){for(e&=~uf,e&=~Bi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function Fd(t){if(Z&48)throw Error(j(327));if(or(),t===dt&&t.expiredLanes&st){var e=st,n=ws(t,e);$i&Bi&&(e=Js(t,e),n=ws(t,e))}else e=Js(t,0),n=ws(t,e);if(t.tag!==0&&n===2&&(Z|=64,t.hydrate&&(t.hydrate=!1,qh(t.containerInfo)),e=_v(t),e!==0&&(n=ws(t,e))),n===1)throw n=nl,_i(t,0),gi(t,e),Ot(t,it()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,fr(t),Ot(t,it()),null}function O3(){if(vn!==null){var t=vn;vn=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Ot(e,it())})}un()}function ly(t,e){var n=Z;Z|=1;try{return t(e)}finally{Z=n,Z===0&&(Hi(),un())}}function cy(t,e){var n=Z;Z&=-2,Z|=8;try{return t(e)}finally{Z=n,Z===0&&(Hi(),un())}}function ya(t,e){Pe(Od,Rr),Rr|=e,$i|=e}function cf(){Rr=Od.current,we(Od)}function _i(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,h3(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&uu();break;case 3:Ai(),we(gt),we(ut),Zh();break;case 5:Jh(r);break;case 4:Ai();break;case 13:we(Ae);break;case 19:we(Ae);break;case 10:Yh(r);break;case 23:case 24:cf()}n=n.return}dt=t,je=tr(t.current,null),st=Rr=$i=e,Ke=0,nl=null,uf=Bi=Do=0}function dy(t,e){do{var n=je;try{if(Qh(),Ls.current=yu,mu){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mu=!1}if(oo=0,We=tt=Oe=null,Vs=!1,af.current=null,n===null||n.return===null){Ke=1,nl=e,je=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=st,a.flags|=2048,a.firstEffect=a.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l;if(!(a.mode&2)){var f=a.alternate;f?(a.updateQueue=f.updateQueue,a.memoizedState=f.memoizedState,a.lanes=f.lanes):(a.updateQueue=null,a.memoizedState=null)}var g=(Ae.current&1)!==0,y=o;do{var k;if(k=y.tag===13){var A=y.memoizedState;if(A!==null)k=A.dehydrated!==null;else{var C=y.memoizedProps;k=C.fallback===void 0?!1:C.unstable_avoidThisFallback!==!0?!0:!g}}if(k){var _=y.updateQueue;if(_===null){var p=new Set;p.add(c),y.updateQueue=p}else _.add(c);if(!(y.mode&2)){if(y.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var v=Un(-1,1);v.tag=2,zn(a,v)}a.lanes|=1;break e}l=void 0,a=e;var I=s.pingCache;if(I===null?(I=s.pingCache=new C3,l=new Set,I.set(c,l)):(l=I.get(c),l===void 0&&(l=new Set,I.set(c,l))),!l.has(a)){l.add(a);var u=F3.bind(null,s,c,a);c.then(u,u)}y.flags|=4096,y.lanes=e;break e}y=y.return}while(y!==null);l=Error((li(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Ke!==5&&(Ke=2),l=of(l,a),y=o;do{switch(y.tag){case 3:s=l,y.flags|=4096,e&=-e,y.lanes|=e;var h=sy(y,s,e);gm(y,h);break e;case 1:s=l;var d=y.type,m=y.stateNode;if(!(y.flags&64)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gt===null||!Gt.has(m)))){y.flags|=4096,e&=-e,y.lanes|=e;var w=oy(y,s,e);gm(y,w);break e}}y=y.return}while(y!==null)}py(n)}catch(E){e=E,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function hy(){var t=wu.current;return wu.current=yu,t===null?yu:t}function ws(t,e){var n=Z;Z|=16;var r=hy();dt===t&&st===e||_i(t,e);do try{D3();break}catch(i){dy(t,i)}while(!0);if(Qh(),Z=n,wu.current=r,je!==null)throw Error(j(261));return dt=null,st=0,Ke}function D3(){for(;je!==null;)fy(je)}function M3(){for(;je!==null&&!m3();)fy(je)}function fy(t){var e=gy(t.alternate,t,Rr);t.memoizedProps=t.pendingProps,e===null?py(t):je=e,af.current=null}function py(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&2048){if(n=k3(e),n!==null){n.flags&=2047,je=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(n=I3(n,e,Rr),n!==null){je=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||Rr&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);Ke===0&&(Ke=5)}function fr(t){var e=Ci();return br(99,L3.bind(null,t,e)),null}function L3(t,e){do or();while(xs!==null);if(Z&48)throw Error(j(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,a=t.expirationTimes;0<s;){var l=31-Jn(s),c=1<<l;i[l]=0,o[l]=-1,a[l]=-1,s&=~c}if(vn!==null&&!(r&24)&&vn.has(t)&&vn.delete(t),t===dt&&(je=dt=null,st=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=Z,Z|=32,af.current=null,mc=xa,o=nm(),md(o)){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(c=a.getSelection&&a.getSelection())&&c.rangeCount!==0){a=c.anchorNode,s=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var f=0,g=-1,y=-1,k=0,A=0,C=o,_=null;t:for(;;){for(var p;C!==a||s!==0&&C.nodeType!==3||(g=f+s),C!==l||c!==0&&C.nodeType!==3||(y=f+c),C.nodeType===3&&(f+=C.nodeValue.length),(p=C.firstChild)!==null;)_=C,C=p;for(;;){if(C===o)break t;if(_===a&&++k===s&&(g=f),_===l&&++A===c&&(y=f),(p=C.nextSibling)!==null)break;C=_,_=C.parentNode}C=p}a=g===-1||y===-1?null:{start:g,end:y}}else a=null;a=a||{start:0,end:0}}else a=null;gc={focusedElem:o,selectionRange:a},xa=!1,Fs=null,Ha=!1,q=r;do try{V3()}catch(E){if(q===null)throw Error(j(330));Hn(q,E),q=q.nextEffect}while(q!==null);Fs=null,q=r;do try{for(o=t;q!==null;){var v=q.flags;if(v&16&&Gs(q.stateNode,""),v&128){var I=q.alternate;if(I!==null){var u=I.ref;u!==null&&(typeof u=="function"?u(null):u.current=null)}}switch(v&1038){case 2:zm(q),q.flags&=-3;break;case 6:zm(q),q.flags&=-3,Sc(q.alternate,q);break;case 1024:q.flags&=-1025;break;case 1028:q.flags&=-1025,Sc(q.alternate,q);break;case 4:Sc(q.alternate,q);break;case 8:a=q,ay(o,a);var h=a.alternate;Fm(a),h!==null&&Fm(h)}q=q.nextEffect}}catch(E){if(q===null)throw Error(j(330));Hn(q,E),q=q.nextEffect}while(q!==null);if(u=gc,I=nm(),v=u.focusedElem,o=u.selectionRange,I!==v&&v&&v.ownerDocument&&kv(v.ownerDocument.documentElement,v)){for(o!==null&&md(v)&&(I=o.start,u=o.end,u===void 0&&(u=I),"selectionStart"in v?(v.selectionStart=I,v.selectionEnd=Math.min(u,v.value.length)):(u=(I=v.ownerDocument||document)&&I.defaultView||window,u.getSelection&&(u=u.getSelection(),a=v.textContent.length,h=Math.min(o.start,a),o=o.end===void 0?h:Math.min(o.end,a),!u.extend&&h>o&&(a=o,o=h,h=a),a=tm(v,h),s=tm(v,o),a&&s&&(u.rangeCount!==1||u.anchorNode!==a.node||u.anchorOffset!==a.offset||u.focusNode!==s.node||u.focusOffset!==s.offset)&&(I=I.createRange(),I.setStart(a.node,a.offset),u.removeAllRanges(),h>o?(u.addRange(I),u.extend(s.node,s.offset)):(I.setEnd(s.node,s.offset),u.addRange(I)))))),I=[],u=v;u=u.parentNode;)u.nodeType===1&&I.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<I.length;v++)u=I[v],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}xa=!!mc,gc=mc=null,t.current=n,q=r;do try{for(v=t;q!==null;){var d=q.flags;if(d&36&&b3(v,q.alternate,q),d&128){I=void 0;var m=q.ref;if(m!==null){var w=q.stateNode;switch(q.tag){case 5:I=w;break;default:I=w}typeof m=="function"?m(I):m.current=I}}q=q.nextEffect}}catch(E){if(q===null)throw Error(j(330));Hn(q,E),q=q.nextEffect}while(q!==null);q=null,_3(),Z=i}else t.current=n;if(er)er=!1,xs=t,ys=e;else for(q=r;q!==null;)e=q.nextEffect,q.nextEffect=null,q.flags&8&&(d=q,d.sibling=null,d.stateNode=null),q=e;if(r=t.pendingLanes,r===0&&(Gt=null),r===1?t===jd?js++:(js=0,jd=t):js=0,n=n.stateNode,kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(Kh,n,void 0,(n.current.flags&64)===64)}catch{}if(Ot(t,it()),Eu)throw Eu=!1,t=Ld,Ld=null,t;return Z&8||un(),null}function V3(){for(;q!==null;){var t=q.alternate;Ha||Fs===null||(q.flags&8?zp(q,Fs)&&(Ha=!0):q.tag===13&&R3(t,q)&&zp(q,Fs)&&(Ha=!0));var e=q.flags;e&256&&P3(t,q),!(e&512)||er||(er=!0,no(97,function(){return or(),null})),q=q.nextEffect}}function or(){if(ys!==90){var t=97<ys?97:ys;return ys=90,br(t,j3)}return!1}function x3(t,e){Vd.push(e,t),er||(er=!0,no(97,function(){return or(),null}))}function my(t,e){xd.push(e,t),er||(er=!0,no(97,function(){return or(),null}))}function j3(){if(xs===null)return!1;var t=xs;if(xs=null,Z&48)throw Error(j(331));var e=Z;Z|=32;var n=xd;xd=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(s===null)throw Error(j(330));Hn(s,l)}}for(n=Vd,Vd=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var a=i.create;i.destroy=a()}catch(l){if(s===null)throw Error(j(330));Hn(s,l)}}for(a=t.current.firstEffect;a!==null;)t=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=t;return Z=e,un(),!0}function Bm(t,e,n){e=of(n,e),e=sy(t,e,1),zn(t,e),e=Et(),t=rl(t,1),t!==null&&(Qu(t,1,e),Ot(t,e))}function Hn(t,e){if(t.tag===3)Bm(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){Bm(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gt===null||!Gt.has(r))){t=of(e,t);var i=oy(n,t,1);if(zn(n,i),i=Et(),n=rl(n,1),n!==null)Qu(n,1,i),Ot(n,i);else if(typeof r.componentDidCatch=="function"&&(Gt===null||!Gt.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function F3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Et(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(st&n)===n&&(Ke===4||Ke===3&&(st&62914560)===st&&500>it()-lf?_i(t,0):uf|=n),Ot(t,e)}function U3(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(hn===0&&(hn=$i),e=Qr(62914560&~hn),e===0&&(e=4194304)):e=Ci()===99?1:2:e=1),n=Et(),t=rl(t,e),t!==null&&(Qu(t,e,n),Ot(t,n))}var gy;gy=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||gt.current)Ut=!0;else if(n&r)Ut=!!(t.flags&16384);else{switch(Ut=!1,e.tag){case 3:bm(e),wc();break;case 5:wm(e);break;case 1:_t(e.type)&&Ua(e);break;case 4:Sd(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;Pe(lu,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return n&e.child.childLanes?Rm(t,e,n):(Pe(Ae,Ae.current&1),e=pn(t,e,n),e!==null?e.sibling:null);Pe(Ae,Ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&64){if(r)return Lm(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(Ae,Ae.current),r)break;return null;case 23:case 24:return e.lanes=0,Ec(t,e,n)}return pn(t,e,n)}else Ut=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=ki(e,ut.current),pi(e,n),i=tf(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,_t(r)){var s=!0;Ua(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xh(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&hu(e,r,o,t),i.updater=tl,e.stateNode=i,i._reactInternals=e,Td(e,r,t,n),e=Ad(null,e,r,!0,s,n)}else e.tag=0,mt(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=$3(i),t=Ft(i,t),s){case 0:e=Cd(null,e,i,t,n);break e;case 1:e=Pm(null,e,i,t,n);break e;case 11:e=Cm(null,e,i,t,n);break e;case 14:e=Am(null,e,i,Ft(i.type,t),r,n);break e}throw Error(j(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ft(r,i),Cd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ft(r,i),Pm(t,e,r,i,n);case 3:if(bm(e),r=e.updateQueue,t===null||r===null)throw Error(j(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,zv(t,e),ro(e,r,null,n),r=e.memoizedState.element,r===i)wc(),e=pn(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(Ln=fi(e.stateNode.containerInfo.firstChild),fn=e,s=Jt=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],mi.push(s);for(n=Wv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else mt(t,e,r,n),wc();e=e.child}return e;case 5:return wm(e),t===null&&Id(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,vd(r,i)?o=null:s!==null&&vd(r,s)&&(e.flags|=16),ty(t,e),mt(t,e,o,n),e.child;case 6:return t===null&&Id(e),null;case 13:return Rm(t,e,n);case 4:return Sd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fu(e,null,r,n):mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ft(r,i),Cm(t,e,r,i,n);case 7:return mt(t,e,e.pendingProps,n),e.child;case 8:return mt(t,e,e.pendingProps.children,n),e.child;case 12:return mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var a=e.type._context;if(Pe(lu,a._currentValue),a._currentValue=s,o!==null)if(a=o.value,s=Ct(a,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,s):1073741823)|0,s===0){if(o.children===i.children&&!gt.current){e=pn(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r&&c.observedBits&s){a.tag===1&&(c=Un(-1,n&-n),c.tag=2,zn(a,c)),a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Uv(a.return,n),l.lanes|=n;break}c=c.next}}else o=a.tag===10&&a.type===e.type?null:a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,pi(e,n),i=Nt(i,s.unstable_observedBits),r=r(i),e.flags|=1,mt(t,e,r,n),e.child;case 14:return i=e.type,s=Ft(i,e.pendingProps),s=Ft(i.type,s),Am(t,e,i,s,r,n);case 15:return ey(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ft(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,_t(r)?(t=!0,Ua(e)):t=!1,pi(e,n),Bv(e,r,i),Td(e,r,i,n),Ad(null,e,r,!0,t,n);case 19:return Lm(t,e,n);case 23:return Ec(t,e,n);case 24:return Ec(t,e,n)}throw Error(j(156,e.tag))};function z3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function At(t,e,n,r){return new z3(t,e,n,r)}function df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $3(t){if(typeof t=="function")return df(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qu)return 11;if(t===Ku)return 14}return 2}function tr(t,e){var n=t.alternate;return n===null?(n=At(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wa(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")df(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Pn:return vi(n.children,i,s,e);case q_:o=8,i|=16;break;case Ch:o=8,i|=1;break;case Ps:return t=At(12,n,e,i|8),t.elementType=Ps,t.type=Ps,t.lanes=s,t;case bs:return t=At(13,n,e,i),t.type=bs,t.elementType=bs,t.lanes=s,t;case eu:return t=At(19,n,e,i),t.elementType=eu,t.lanes=s,t;case Oh:return hf(n,i,s,e);case ed:return t=At(24,n,e,i),t.elementType=ed,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ah:o=10;break e;case Ph:o=9;break e;case qu:o=11;break e;case Ku:o=14;break e;case bh:o=16,r=null;break e;case Rh:o=22;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=At(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function vi(t,e,n,r){return t=At(7,t,r,e),t.lanes=n,t}function hf(t,e,n,r){return t=At(23,t,r,e),t.elementType=Oh,t.lanes=n,t}function Ic(t,e,n){return t=At(6,t,null,e),t.lanes=n,t}function kc(t,e,n){return e=At(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function B3(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=uc(0),this.expirationTimes=uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.mutableSourceEagerHydrationData=null}function H3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Tu(t,e,n,r){var i=e.current,s=Et(),o=$n(i);e:if(n){n=n._reactInternals;t:{if(Ur(n)!==n||n.tag!==1)throw Error(j(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(_t(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(j(171))}if(n.tag===1){var l=n.type;if(_t(l)){n=Dv(n,l,a);break e}}n=a}else n=Zn;return e.context===null?e.context=n:e.pendingContext=n,e=Un(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),zn(i,e),Bn(i,o,s),o}function Cc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ff(t,e){Hm(t,e),(t=t.alternate)&&Hm(t,e)}function W3(){return null}function pf(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new B3(t,e,n!=null&&n.hydrate===!0),e=At(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,Xh(e),t[zi]=n.current,Pv(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}pf.prototype.render=function(t){Tu(t,this._internalRoot,null,null)};pf.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Tu(null,t,null,function(){e[zi]=null})};function Mo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function q3(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new pf(t,0,e?{hydrate:!0}:void 0)}function il(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var a=i;i=function(){var c=Cc(o);a.call(c)}}Tu(e,o,t,i)}else{if(s=n._reactRootContainer=q3(n,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var c=Cc(o);l.call(c)}}cy(function(){Tu(e,o,t,i)})}return Cc(o)}av=function(t){if(t.tag===13){var e=Et();Bn(t,4,e),ff(t,4)}};xh=function(t){if(t.tag===13){var e=Et();Bn(t,67108864,e),ff(t,67108864)}};uv=function(t){if(t.tag===13){var e=Et(),n=$n(t);Bn(t,n,e),ff(t,n)}};lv=function(t,e){return e()};cd=function(t,e,n){switch(e){case"input":if(nd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zu(r);if(!i)throw Error(j(90));G_(r),nd(r,i)}}}break;case"textarea":Y_(t,n);break;case"select":e=n.value,e!=null&&ci(t,!!n.multiple,e,!1)}};Mh=ly;rv=function(t,e,n,r,i){var s=Z;Z|=4;try{return br(98,t.bind(null,e,n,r,i))}finally{Z=s,Z===0&&(Hi(),un())}};Lh=function(){!(Z&49)&&(O3(),or())};iv=function(t,e){var n=Z;Z|=2;try{return t(e)}finally{Z=n,Z===0&&(Hi(),un())}};function _y(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mo(e))throw Error(j(200));return H3(t,e,null,n)}var K3={Events:[No,ni,Zu,tv,nv,or,{current:!1}]},cs={findFiberByHostInstance:vr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},G3={bundleType:cs.bundleType,version:cs.version,rendererPackageName:cs.rendererPackageName,rendererConfig:cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ov(t),t===null?null:t.stateNode},findFiberByHostInstance:cs.findFiberByHostInstance||W3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wa.isDisabled&&wa.supportsFiber)try{Kh=wa.inject(G3),kr=wa}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K3;Dt.createPortal=_y;Dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):Error(j(268,Object.keys(t)));return t=ov(e),t=t===null?null:t.stateNode,t};Dt.flushSync=function(t,e){var n=Z;if(n&48)return t(e);Z|=1;try{if(t)return br(99,t.bind(null,e))}finally{Z=n,un()}};Dt.hydrate=function(t,e,n){if(!Mo(e))throw Error(j(200));return il(null,t,e,!0,n)};Dt.render=function(t,e,n){if(!Mo(e))throw Error(j(200));return il(null,t,e,!1,n)};Dt.unmountComponentAtNode=function(t){if(!Mo(t))throw Error(j(40));return t._reactRootContainer?(cy(function(){il(null,null,t,!1,function(){t._reactRootContainer=null,t[zi]=null})}),!0):!1};Dt.unstable_batchedUpdates=ly;Dt.unstable_createPortal=function(t,e){return _y(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Dt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mo(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return il(t,e,n,!1,r)};Dt.version="17.0.2";function vy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vy)}catch(t){console.error(t)}}vy(),$_.exports=Dt;var Q3=$_.exports;const Y3=Ao(Q3);var Wm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},X3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},wy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,f=s>>2,g=(s&3)<<4|a>>4;let y=(a&15)<<2|c>>6,k=c&63;l||(k=64,o||(y=64)),r.push(n[f],n[g],n[y],n[k])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):X3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||g==null)throw new J3;const y=s<<2|a>>4;if(r.push(y),c!==64){const k=a<<4&240|c>>2;if(r.push(k),g!==64){const A=c<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class J3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z3=function(t){const e=yy(t);return wy.encodeByteArray(e,!0)},Su=function(t){return Z3(t).replace(/\./g,"")},Ey=function(t){try{return wy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=()=>eT().__FIREBASE_DEFAULTS__,nT=()=>{if(typeof process>"u"||typeof Wm>"u")return;const t=Wm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ey(t[1]);return e&&JSON.parse(e)},sl=()=>{try{return tT()||nT()||rT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ty=t=>{var e,n;return(n=(e=sl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iT=t=>{const e=Ty(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Sy=()=>{var t;return(t=sl())===null||t===void 0?void 0:t.config},Iy=t=>{var e;return(e=sl())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Su(JSON.stringify(n)),Su(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function uT(){var t;const e=(t=sl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dT(){const t=Ve();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hT(){return!uT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ky(){try{return typeof indexedDB=="object"}catch{return!1}}function fT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="FirebaseError";class In extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pT,Object.setPrototypeOf(this,In.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mT(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new In(i,a,r)}}function mT(t,e){return t.replace(gT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gT=/\{\$([^}]+)}/g;function _T(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Iu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(qm(s)&&qm(o)){if(!Iu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function qm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Es(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ts(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vT(t,e){const n=new yT(t,e);return n.subscribe.bind(n)}class yT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wT(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ac),i.error===void 0&&(i.error=Ac),i.complete===void 0&&(i.complete=Ac);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ac(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class Nr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ST(e))try{this.getOrInitializeService({instanceIdentifier:pr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=pr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pr){return this.instances.has(e)}getOptions(e=pr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pr){return this.component?this.component.multipleInstances?e:pr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TT(t){return t===pr?void 0:t}function ST(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ET(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const kT={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},CT=le.INFO,AT={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},PT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=AT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mf{constructor(e){this.name=e,this._logLevel=CT,this._logHandler=PT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const bT=(t,e)=>e.some(n=>t instanceof n);let Km,Gm;function RT(){return Km||(Km=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NT(){return Gm||(Gm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cy=new WeakMap,Ud=new WeakMap,Ay=new WeakMap,Pc=new WeakMap,gf=new WeakMap;function OT(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Cy.set(n,t)}).catch(()=>{}),gf.set(e,t),e}function DT(t){if(Ud.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ud.set(t,e)}let zd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ud.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ay.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MT(t){zd=t(zd)}function LT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bc(this),e,...n);return Ay.set(r,e.sort?e.sort():[e]),Wn(r)}:NT().includes(t)?function(...e){return t.apply(bc(this),e),Wn(Cy.get(this))}:function(...e){return Wn(t.apply(bc(this),e))}}function VT(t){return typeof t=="function"?LT(t):(t instanceof IDBTransaction&&DT(t),bT(t,RT())?new Proxy(t,zd):t)}function Wn(t){if(t instanceof IDBRequest)return OT(t);if(Pc.has(t))return Pc.get(t);const e=VT(t);return e!==t&&(Pc.set(t,e),gf.set(e,t)),e}const bc=t=>gf.get(t);function xT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Wn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Wn(o.result),l.oldVersion,l.newVersion,Wn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const jT=["get","getKey","getAll","getAllKeys","count"],FT=["put","add","delete","clear"],Rc=new Map;function Qm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rc.get(e))return Rc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jT.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Rc.set(e,s),s}MT(t=>({...t,get:(e,n,r)=>Qm(e,n)||t.get(e,n,r),has:(e,n)=>!!Qm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $d="@firebase/app",Ym="0.9.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new mf("@firebase/app"),$T="@firebase/app-compat",BT="@firebase/analytics-compat",HT="@firebase/analytics",WT="@firebase/app-check-compat",qT="@firebase/app-check",KT="@firebase/auth",GT="@firebase/auth-compat",QT="@firebase/database",YT="@firebase/database-compat",XT="@firebase/functions",JT="@firebase/functions-compat",ZT="@firebase/installations",eS="@firebase/installations-compat",tS="@firebase/messaging",nS="@firebase/messaging-compat",rS="@firebase/performance",iS="@firebase/performance-compat",sS="@firebase/remote-config",oS="@firebase/remote-config-compat",aS="@firebase/storage",uS="@firebase/storage-compat",lS="@firebase/firestore",cS="@firebase/firestore-compat",dS="firebase",hS="10.8.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="[DEFAULT]",fS={[$d]:"fire-core",[$T]:"fire-core-compat",[HT]:"fire-analytics",[BT]:"fire-analytics-compat",[qT]:"fire-app-check",[WT]:"fire-app-check-compat",[KT]:"fire-auth",[GT]:"fire-auth-compat",[QT]:"fire-rtdb",[YT]:"fire-rtdb-compat",[XT]:"fire-fn",[JT]:"fire-fn-compat",[ZT]:"fire-iid",[eS]:"fire-iid-compat",[tS]:"fire-fcm",[nS]:"fire-fcm-compat",[rS]:"fire-perf",[iS]:"fire-perf-compat",[sS]:"fire-rc",[oS]:"fire-rc-compat",[aS]:"fire-gcs",[uS]:"fire-gcs-compat",[lS]:"fire-fst",[cS]:"fire-fst-compat","fire-js":"fire-js",[dS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Map,Hd=new Map;function pS(t,e){try{t.container.addComponent(e)}catch(n){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pi(t){const e=t.name;if(Hd.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;Hd.set(e,t);for(const n of ku.values())pS(n,t);return!0}function _f(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qn=new Lo("app","Firebase",mS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=hS;function Py(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qn.create("bad-app-name",{appName:String(i)});if(n||(n=Sy()),!n)throw qn.create("no-options");const s=ku.get(i);if(s){if(Iu(n,s.options)&&Iu(r,s.config))return s;throw qn.create("duplicate-app",{appName:i})}const o=new IT(i);for(const l of Hd.values())o.addComponent(l);const a=new gS(n,r,o);return ku.set(i,a),a}function by(t=Bd){const e=ku.get(t);if(!e&&t===Bd&&Sy())return Py();if(!e)throw qn.create("no-app",{appName:t});return e}function Kn(t,e,n){var r;let i=(r=fS[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(a.join(" "));return}Pi(new Nr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="firebase-heartbeat-database",vS=1,ao="firebase-heartbeat-store";let Nc=null;function Ry(){return Nc||(Nc=xT(_S,vS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ao)}catch(n){console.warn(n)}}}}).catch(t=>{throw qn.create("idb-open",{originalErrorMessage:t.message})})),Nc}async function yS(t){try{const n=(await Ry()).transaction(ao),r=await n.objectStore(ao).get(Ny(t));return await n.done,r}catch(e){if(e instanceof In)Or.warn(e.message);else{const n=qn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Or.warn(n.message)}}}async function Xm(t,e){try{const r=(await Ry()).transaction(ao,"readwrite");await r.objectStore(ao).put(e,Ny(t)),await r.done}catch(n){if(n instanceof In)Or.warn(n.message);else{const r=qn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Or.warn(r.message)}}}function Ny(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=1024,ES=30*24*60*60*1e3;class TS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Jm();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=ES}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Jm(),{heartbeatsToSend:r,unsentEntries:i}=SS(this._heartbeatsCache.heartbeats),s=Su(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Jm(){return new Date().toISOString().substring(0,10)}function SS(t,e=wS){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Zm(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Zm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ky()?fT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Zm(t){return Su(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){Pi(new Nr("platform-logger",e=>new UT(e),"PRIVATE")),Pi(new Nr("heartbeat",e=>new TS(e),"PRIVATE")),Kn($d,Ym,t),Kn($d,Ym,"esm2017"),Kn("fire-js","")}kS("");function vf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Oy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CS=Oy,Dy=new Lo("auth","Firebase",Oy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=new mf("@firebase/auth");function AS(t,...e){Cu.logLevel<=le.WARN&&Cu.warn(`Auth (${Wi}): ${t}`,...e)}function qa(t,...e){Cu.logLevel<=le.ERROR&&Cu.error(`Auth (${Wi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t,...e){throw yf(t,...e)}function Zt(t,...e){return yf(t,...e)}function PS(t,e,n){const r=Object.assign(Object.assign({},CS()),{[e]:n});return new Lo("auth","Firebase",r).create(e,{appName:t.name})}function yf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Dy.create(t,...e)}function J(t,e,...n){if(!t)throw yf(e,...n)}function mn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qa(e),new Error(e)}function wn(t,e){t||mn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bS(){return eg()==="http:"||eg()==="https:"}function eg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bS()||lT()||"connection"in navigator)?navigator.onLine:!0}function NS(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n){this.shortDelay=e,this.longDelay=n,wn(n>e,"Short delay should be less than long delay!"),this.isMobile=aT()||cT()}get(){return RS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t,e){wn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=new xo(3e4,6e4);function ar(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ur(t,e,n,r,i={}){return Ly(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Vo(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),My.fetch()(Vy(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Ly(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},OS),e);try{const i=new LS(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ea(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ea(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ea(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ea(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw PS(t,f,c);Bt(t,f)}}catch(i){if(i instanceof In)throw i;Bt(t,"network-request-failed",{message:String(i)})}}async function jo(t,e,n,r,i={}){const s=await ur(t,e,n,r,i);return"mfaPendingCredential"in s&&Bt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Vy(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?wf(t.config,i):`${t.config.apiScheme}://${i}`}function MS(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LS{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zt(this.auth,"network-request-failed")),DS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ea(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zt(t,e,r);return i.customData._tokenResponse=n,i}function tg(t){return t!==void 0&&t.enterprise!==void 0}class VS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return MS(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function xS(t,e){return ur(t,"GET","/v2/recaptchaConfig",ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(t,e){return ur(t,"POST","/v1/accounts:delete",e)}async function FS(t,e){return ur(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function US(t,e=!1){const n=ht(t),r=await n.getIdToken(e),i=Ef(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Us(Oc(i.auth_time)),issuedAtTime:Us(Oc(i.iat)),expirationTime:Us(Oc(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Oc(t){return Number(t)*1e3}function Ef(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qa("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ey(n);return i?JSON.parse(i):(qa("Failed to decode base64 JWT payload"),null)}catch(i){return qa("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function zS(t){const e=Ef(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof In&&$S(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $S({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Us(this.lastLoginAt),this.creationTime=Us(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t){var e;const n=t.auth,r=await t.getIdToken(),i=await uo(t,FS(n,{idToken:r}));J(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?qS(s.providerUserInfo):[],a=WS(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?c:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new xy(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function HS(t){const e=ht(t);await Au(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WS(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qS(t){return t.map(e=>{var{providerId:n}=e,r=vf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS(t,e){const n=await Ly(t,{},async()=>{const r=Vo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Vy(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",My.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GS(t,e){return ur(t,"POST","/v2/accounts:revokeToken",ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return J(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await KS(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new lo;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(J(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return mn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=vf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await uo(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return US(this,e)}reload(){return HS(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Au(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await uo(this,jS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,f;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,k=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,p=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:I,emailVerified:u,isAnonymous:h,providerData:d,stsTokenManager:m}=n;J(I&&m,e,"internal-error");const w=lo.fromJSON(this.name,m);J(typeof I=="string",e,"internal-error"),Cn(g,e.name),Cn(y,e.name),J(typeof u=="boolean",e,"internal-error"),J(typeof h=="boolean",e,"internal-error"),Cn(k,e.name),Cn(A,e.name),Cn(C,e.name),Cn(_,e.name),Cn(p,e.name),Cn(v,e.name);const E=new Cr({uid:I,auth:e,email:y,emailVerified:u,displayName:g,isAnonymous:h,photoURL:A,phoneNumber:k,tenantId:C,stsTokenManager:w,createdAt:p,lastLoginAt:v});return d&&Array.isArray(d)&&(E.providerData=d.map(T=>Object.assign({},T))),_&&(E._redirectEventId=_),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new lo;i.updateFromServerResponse(n);const s=new Cr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Au(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=new Map;function gn(t){wn(t instanceof Function,"Expected a class definition");let e=ng.get(t);return e?(wn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ng.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jy.type="NONE";const rg=jy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t,e,n){return`firebase:${t}:${e}:${n}`}class yi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ka(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ka("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new yi(gn(rg),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||gn(rg);const o=Ka(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){const g=Cr._fromJSON(e,f);c!==s&&(a=g),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new yi(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new yi(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(By(e))return"Blackberry";if(Hy(e))return"Webos";if(Tf(e))return"Safari";if((e.includes("chrome/")||Uy(e))&&!e.includes("edge/"))return"Chrome";if($y(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Fy(t=Ve()){return/firefox\//i.test(t)}function Tf(t=Ve()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uy(t=Ve()){return/crios\//i.test(t)}function zy(t=Ve()){return/iemobile/i.test(t)}function $y(t=Ve()){return/android/i.test(t)}function By(t=Ve()){return/blackberry/i.test(t)}function Hy(t=Ve()){return/webos/i.test(t)}function ol(t=Ve()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QS(t=Ve()){var e;return ol(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YS(){return dT()&&document.documentMode===10}function Wy(t=Ve()){return ol(t)||$y(t)||Hy(t)||By(t)||/windows phone/i.test(t)||zy(t)}function XS(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t,e=[]){let n;switch(t){case"Browser":n=ig(Ve());break;case"Worker":n=`${ig(Ve())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(t,e={}){return ur(t,"GET","/v2/passwordPolicy",ar(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=6;class tI{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:eI,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sg(this),this.idTokenSubscription=new sg(this),this.beforeStateQueue=new JS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await yi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Au(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ht(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(gn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZS(this),n=new tI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await GS(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gn(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await yi.create(this,[gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&AS(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $r(t){return ht(t)}class sg{constructor(e){this.auth=e,this.observer=null,this.addObserver=vT(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rI(t){al=t}function Ky(t){return al.loadJS(t)}function iI(){return al.recaptchaEnterpriseScript}function sI(){return al.gapiScript}function oI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const aI="recaptcha-enterprise",uI="NO_RECAPTCHA";class lI{constructor(e){this.type=aI,this.auth=$r(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{xS(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new VS(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;tg(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(uI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&tg(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=iI();l.length!==0&&(l+=a),Ky(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function og(t,e,n,r=!1){const i=new lI(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function qd(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await og(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await og(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t,e){const n=_f(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Iu(s,e??{}))return i;Bt(i,"already-initialized")}return n.initialize({options:e})}function dI(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hI(t,e,n){const r=$r(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Gy(e),{host:o,port:a}=fI(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||pI()}function Gy(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fI(t){const e=Gy(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ag(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ag(o)}}}function ag(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pI(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mn("not implemented")}_getIdTokenResponse(e){return mn("not implemented")}_linkToIdToken(e,n){return mn("not implemented")}_getReauthenticationResolver(e){return mn("not implemented")}}async function mI(t,e){return ur(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(t,e){return jo(t,"POST","/v1/accounts:signInWithPassword",ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(t,e){return jo(t,"POST","/v1/accounts:signInWithEmailLink",ar(t,e))}async function vI(t,e){return jo(t,"POST","/v1/accounts:signInWithEmailLink",ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends Sf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new co(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new co(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qd(e,n,"signInWithPassword",gI);case"emailLink":return _I(e,{email:this._email,oobCode:this._password});default:Bt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qd(e,r,"signUpPassword",mI);case"emailLink":return vI(e,{idToken:n,email:this._email,oobCode:this._password});default:Bt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wi(t,e){return jo(t,"POST","/v1/accounts:signInWithIdp",ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="http://localhost";class Dr extends Sf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Dr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=vf(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Dr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wi(e,n)}buildRequest(){const e={requestUri:yI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EI(t){const e=Es(Ts(t)).link,n=e?Es(Ts(e)).deep_link_id:null,r=Es(Ts(t)).deep_link_id;return(r?Es(Ts(r)).link:null)||r||n||e||t}class If{constructor(e){var n,r,i,s,o,a;const l=Es(Ts(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,g=wI((i=l.mode)!==null&&i!==void 0?i:null);J(c&&f&&g,"argument-error"),this.apiKey=c,this.operation=g,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=EI(e);try{return new If(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.providerId=qi.PROVIDER_ID}static credential(e,n){return co._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=If.parseLink(n);return J(r,"argument-error"),co._fromEmailAndCode(e,r.code,r.tenantId)}}qi.PROVIDER_ID="password";qi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends Qy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn extends Fo{constructor(){super("facebook.com")}static credential(e){return Dr._fromParams({providerId:bn.PROVIDER_ID,signInMethod:bn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bn.credentialFromTaggedObject(e)}static credentialFromError(e){return bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bn.credential(e.oauthAccessToken)}catch{return null}}}bn.FACEBOOK_SIGN_IN_METHOD="facebook.com";bn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn extends Fo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Dr._fromParams({providerId:Rn.PROVIDER_ID,signInMethod:Rn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rn.credentialFromTaggedObject(e)}static credentialFromError(e){return Rn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rn.credential(n,r)}catch{return null}}}Rn.GOOGLE_SIGN_IN_METHOD="google.com";Rn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn extends Fo{constructor(){super("github.com")}static credential(e){return Dr._fromParams({providerId:Nn.PROVIDER_ID,signInMethod:Nn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nn.credentialFromTaggedObject(e)}static credentialFromError(e){return Nn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nn.credential(e.oauthAccessToken)}catch{return null}}}Nn.GITHUB_SIGN_IN_METHOD="github.com";Nn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On extends Fo{constructor(){super("twitter.com")}static credential(e,n){return Dr._fromParams({providerId:On.PROVIDER_ID,signInMethod:On.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return On.credentialFromTaggedObject(e)}static credentialFromError(e){return On.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return On.credential(n,r)}catch{return null}}}On.TWITTER_SIGN_IN_METHOD="twitter.com";On.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(t,e){return jo(t,"POST","/v1/accounts:signUp",ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Cr._fromIdTokenResponse(e,r,i),o=ug(r);return new Mr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ug(r);return new Mr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ug(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends In{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Pu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Pu(e,n,r,i)}}function Yy(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Pu._fromErrorAndOperation(t,s,e,r):s})}async function SI(t,e,n=!1){const r=await uo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mr._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await uo(t,Yy(r,i,e,t),n);J(s.idToken,r,"internal-error");const o=Ef(s.idToken);J(o,r,"internal-error");const{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),Mr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Bt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xy(t,e,n=!1){const r="signIn",i=await Yy(t,r,e),s=await Mr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function kI(t,e){return Xy($r(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jy(t){const e=$r(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CI(t,e,n){const r=$r(t),o=await qd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TI).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Jy(t),l}),a=await Mr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function AI(t,e,n){return kI(ht(t),qi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Jy(t),r})}function PI(t,e,n,r){return ht(t).onIdTokenChanged(e,n,r)}function bI(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function RI(t,e,n,r){return ht(t).onAuthStateChanged(e,n,r)}function Zy(t){return ht(t).signOut()}const bu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bu,"1"),this.storage.removeItem(bu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){const t=Ve();return Tf(t)||ol(t)}const OI=1e3,DI=10;class t0 extends e0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=NI()&&XS(),this.fallbackToPolling=Wy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);YS()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,DI):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}t0.type="LOCAL";const MI=t0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0 extends e0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}n0.type="SESSION";const r0=n0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ul(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await LI(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ul.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=kf("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===c)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(y.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return window}function xI(t){en().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(){return typeof en().WorkerGlobalScope<"u"&&typeof en().importScripts=="function"}async function jI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function UI(){return i0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="firebaseLocalStorageDb",zI=1,Ru="firebaseLocalStorage",o0="fbase_key";class Uo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ll(t,e){return t.transaction([Ru],e?"readwrite":"readonly").objectStore(Ru)}function $I(){const t=indexedDB.deleteDatabase(s0);return new Uo(t).toPromise()}function Kd(){const t=indexedDB.open(s0,zI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ru,{keyPath:o0})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ru)?e(r):(r.close(),await $I(),e(await Kd()))})})}async function lg(t,e,n){const r=ll(t,!0).put({[o0]:e,value:n});return new Uo(r).toPromise()}async function BI(t,e){const n=ll(t,!1).get(e),r=await new Uo(n).toPromise();return r===void 0?null:r.value}function cg(t,e){const n=ll(t,!0).delete(e);return new Uo(n).toPromise()}const HI=800,WI=3;class a0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>WI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ul._getInstance(UI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jI(),!this.activeServiceWorker)return;this.sender=new VI(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kd();return await lg(e,bu,"1"),await cg(e,bu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lg(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>BI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ll(i,!1).getAll();return new Uo(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a0.type="LOCAL";const qI=a0;new xo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t,e){return e?gn(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf extends Sf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GI(t){return Xy(t.auth,new Cf(t),t.bypassAuthState)}function QI(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),II(n,new Cf(t),t.bypassAuthState)}async function YI(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),SI(n,new Cf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GI;case"linkViaPopup":case"linkViaRedirect":return YI;case"reauthViaPopup":case"reauthViaRedirect":return QI;default:Bt(this.auth,"internal-error")}}resolve(e){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=new xo(2e3,1e4);class si extends u0{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,si.currentPopupAction&&si.currentPopupAction.cancel(),si.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){wn(this.filter.length===1,"Popup operations only handle one event");const e=kf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,si.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XI.get())};e()}}si.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="pendingRedirect",Ga=new Map;class ZI extends u0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ga.get(this.auth._key());if(!e){try{const r=await e8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ga.set(this.auth._key(),e)}return this.bypassAuthState||Ga.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e8(t,e){const n=r8(e),r=n8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function t8(t,e){Ga.set(t._key(),e)}function n8(t){return gn(t._redirectPersistence)}function r8(t){return Ka(JI,t.config.apiKey,t.name)}async function i8(t,e,n=!1){const r=$r(t),i=KI(r,e),o=await new ZI(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=10*60*1e3;class o8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!l0(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s8&&this.cachedEventUids.clear(),this.cachedEventUids.has(dg(e))}saveEventToCache(e){this.cachedEventUids.add(dg(e)),this.lastProcessedEventTime=Date.now()}}function dg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function l0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u8(t,e={}){return ur(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c8=/^https?/;async function d8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await u8(t);for(const n of e)try{if(h8(n))return}catch{}Bt(t,"unauthorized-domain")}function h8(t){const e=Wd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!c8.test(n))return!1;if(l8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=new xo(3e4,6e4);function hg(){const t=en().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function p8(t){return new Promise((e,n)=>{var r,i,s;function o(){hg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hg(),n(Zt(t,"network-request-failed"))},timeout:f8.get()})}if(!((i=(r=en().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=en().gapi)===null||s===void 0)&&s.load)o();else{const a=oI("iframefcb");return en()[a]=()=>{gapi.load?o():n(Zt(t,"network-request-failed"))},Ky(`${sI()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Qa=null,e})}let Qa=null;function m8(t){return Qa=Qa||p8(t),Qa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=new xo(5e3,15e3),_8="__/auth/iframe",v8="emulator/auth/iframe",y8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E8(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wf(e,v8):`https://${t.config.authDomain}/${_8}`,r={apiKey:e.apiKey,appName:t.name,v:Wi},i=w8.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Vo(r).slice(1)}`}async function T8(t){const e=await m8(t),n=en().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:E8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y8,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Zt(t,"network-request-failed"),a=en().setTimeout(()=>{s(o)},g8.get());function l(){en().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I8=500,k8=600,C8="_blank",A8="http://localhost";class fg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P8(t,e,n,r=I8,i=k8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},S8),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ve().toLowerCase();n&&(a=Uy(c)?C8:n),Fy(c)&&(e=e||A8,l.scrollbars="yes");const f=Object.entries(l).reduce((y,[k,A])=>`${y}${k}=${A},`,"");if(QS(c)&&a!=="_self")return b8(e||"",a),new fg(null);const g=window.open(e||"",a,f);J(g,t,"popup-blocked");try{g.focus()}catch{}return new fg(g)}function b8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8="__/auth/handler",N8="emulator/auth/handler",O8=encodeURIComponent("fac");async function pg(t,e,n,r,i,s){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wi,eventId:i};if(e instanceof Qy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_T(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof Fo){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),c=l?`#${O8}=${encodeURIComponent(l)}`:"";return`${D8(t)}?${Vo(a).slice(1)}${c}`}function D8({config:t}){return t.emulator?wf(t,N8):`https://${t.authDomain}/${R8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="webStorageSupport";class M8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r0,this._completeRedirectFn=i8,this._overrideRedirectResult=t8}async _openPopup(e,n,r,i){var s;wn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await pg(e,n,r,Wd(),i);return P8(e,o,kf())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await pg(e,n,r,Wd(),i);return xI(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(wn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await T8(e),r=new o8(e);return n.register("authEvent",i=>(J(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dc,{type:Dc},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Dc];o!==void 0&&n(!!o),Bt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Wy()||Tf()||ol()}}const L8=M8;var mg="@firebase/auth",gg="1.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j8(t){Pi(new Nr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qy(t)},c=new nI(r,i,s,l);return dI(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pi(new Nr("auth-internal",e=>{const n=$r(e.getProvider("auth").getImmediate());return(r=>new V8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(mg,gg,x8(t)),Kn(mg,gg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8=5*60,U8=Iy("authIdTokenMaxAge")||F8;let _g=null;const z8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>U8)return;const i=n==null?void 0:n.token;_g!==i&&(_g=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $8(t=by()){const e=_f(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cI(t,{popupRedirectResolver:L8,persistence:[qI,MI,r0]}),r=Iy("authTokenSyncURL");if(r){const s=z8(r);bI(n,s,()=>s(n.currentUser)),PI(n,o=>s(o))}const i=Ty("auth");return i&&hI(n,`http://${i}`),n}function B8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rI({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",B8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j8("Browser");var H8="firebase",W8="10.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn(H8,W8,"app");var q8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$,Af=Af||{},te=q8||self;function cl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function zo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function K8(t){return Object.prototype.hasOwnProperty.call(t,Mc)&&t[Mc]||(t[Mc]=++G8)}var Mc="closure_uid_"+(1e9*Math.random()>>>0),G8=0;function Q8(t,e,n){return t.call.apply(t.bind,arguments)}function Y8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ot(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ot=Q8:ot=Y8,ot.apply(null,arguments)}function Ta(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function He(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function lr(){this.s=this.s,this.o=this.o}var X8=0;lr.prototype.s=!1;lr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),X8!=0)&&K8(this)};lr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const c0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Pf(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function vg(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(cl(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function at(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var J8=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};te.addEventListener("test",n,e),te.removeEventListener("test",n,e)}catch{}return t}();function ho(t){return/^[\s\xa0]*$/.test(t)}function dl(){var t=te.navigator;return t&&(t=t.userAgent)?t:""}function Wt(t){return dl().indexOf(t)!=-1}function bf(t){return bf[" "](t),t}bf[" "]=function(){};function Z8(t,e){var n=Wk;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var ek=Wt("Opera"),bi=Wt("Trident")||Wt("MSIE"),d0=Wt("Edge"),Gd=d0||bi,h0=Wt("Gecko")&&!(dl().toLowerCase().indexOf("webkit")!=-1&&!Wt("Edge"))&&!(Wt("Trident")||Wt("MSIE"))&&!Wt("Edge"),tk=dl().toLowerCase().indexOf("webkit")!=-1&&!Wt("Edge");function f0(){var t=te.document;return t?t.documentMode:void 0}var Qd;e:{var Lc="",Vc=function(){var t=dl();if(h0)return/rv:([^\);]+)(\)|;)/.exec(t);if(d0)return/Edge\/([\d\.]+)/.exec(t);if(bi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(tk)return/WebKit\/(\S+)/.exec(t);if(ek)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Vc&&(Lc=Vc?Vc[1]:""),bi){var xc=f0();if(xc!=null&&xc>parseFloat(Lc)){Qd=String(xc);break e}}Qd=Lc}var Yd;if(te.document&&bi){var yg=f0();Yd=yg||parseInt(Qd,10)||void 0}else Yd=void 0;var nk=Yd;function fo(t,e){if(at.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(h0){e:{try{bf(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:rk[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&fo.$.h.call(this)}}He(fo,at);var rk={2:"touch",3:"pen",4:"mouse"};fo.prototype.h=function(){fo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $o="closure_listenable_"+(1e6*Math.random()|0),ik=0;function sk(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++ik,this.fa=this.ia=!1}function hl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Rf(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function ok(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function p0(t){const e={};for(const n in t)e[n]=t[n];return e}const wg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function m0(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<wg.length;s++)n=wg[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function fl(t){this.src=t,this.g={},this.h=0}fl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Jd(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new sk(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Xd(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=c0(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(hl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Jd(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Nf="closure_lm_"+(1e6*Math.random()|0),jc={};function g0(t,e,n,r,i){if(r&&r.once)return v0(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)g0(t,e[s],n,r,i);return null}return n=Mf(n),t&&t[$o]?t.O(e,n,zo(r)?!!r.capture:!!r,i):_0(t,e,n,!1,r,i)}function _0(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=zo(i)?!!i.capture:!!i,a=Df(t);if(a||(t[Nf]=a=new fl(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=ak(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)J8||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(w0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ak(){function t(n){return e.call(t.src,t.listener,n)}const e=uk;return t}function v0(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)v0(t,e[s],n,r,i);return null}return n=Mf(n),t&&t[$o]?t.P(e,n,zo(r)?!!r.capture:!!r,i):_0(t,e,n,!0,r,i)}function y0(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)y0(t,e[s],n,r,i);else r=zo(r)?!!r.capture:!!r,n=Mf(n),t&&t[$o]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Jd(s,n,r,i),-1<n&&(hl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Df(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Jd(e,n,r,i)),(n=-1<t?e[t]:null)&&Of(n))}function Of(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[$o])Xd(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(w0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Df(e))?(Xd(n,t),n.h==0&&(n.src=null,e[Nf]=null)):hl(t)}}}function w0(t){return t in jc?jc[t]:jc[t]="on"+t}function uk(t,e){if(t.fa)t=!0;else{e=new fo(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Of(t),t=n.call(r,e)}return t}function Df(t){return t=t[Nf],t instanceof fl?t:null}var Fc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mf(t){return typeof t=="function"?t:(t[Fc]||(t[Fc]=function(e){return t.handleEvent(e)}),t[Fc])}function Be(){lr.call(this),this.i=new fl(this),this.S=this,this.J=null}He(Be,lr);Be.prototype[$o]=!0;Be.prototype.removeEventListener=function(t,e,n,r){y0(this,t,e,n,r)};function Ye(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new at(e,t);else if(e instanceof at)e.target=e.target||t;else{var i=e;e=new at(r,t),m0(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Sa(o,r,!0,e)&&i}if(o=e.g=t,i=Sa(o,r,!0,e)&&i,i=Sa(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Sa(o,r,!1,e)&&i}Be.prototype.N=function(){if(Be.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hl(n[r]);delete t.g[e],t.h--}}this.J=null};Be.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Be.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Sa(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Xd(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Lf=te.JSON.stringify;class lk{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function ck(){var t=Vf;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class dk{constructor(){this.h=this.g=null}add(e,n){const r=E0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var E0=new lk(()=>new hk,t=>t.reset());class hk{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function fk(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function pk(t){te.setTimeout(()=>{throw t},0)}let po,mo=!1,Vf=new dk,T0=()=>{const t=te.Promise.resolve(void 0);po=()=>{t.then(mk)}};var mk=()=>{for(var t;t=ck();){try{t.h.call(t.g)}catch(n){pk(n)}var e=E0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}mo=!1};function pl(t,e){Be.call(this),this.h=t||1,this.g=e||te,this.j=ot(this.qb,this),this.l=Date.now()}He(pl,Be);$=pl.prototype;$.ga=!1;$.T=null;$.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ye(this,"tick"),this.ga&&(xf(this),this.start()))}};$.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xf(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}$.N=function(){pl.$.N.call(this),xf(this),delete this.g};function jf(t,e,n){if(typeof t=="function")n&&(t=ot(t,n));else if(t&&typeof t.handleEvent=="function")t=ot(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function S0(t){t.g=jf(()=>{t.g=null,t.i&&(t.i=!1,S0(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class gk extends lr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:S0(this)}N(){super.N(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function go(t){lr.call(this),this.h=t,this.g={}}He(go,lr);var Eg=[];function I0(t,e,n,r){Array.isArray(n)||(n&&(Eg[0]=n.toString()),n=Eg);for(var i=0;i<n.length;i++){var s=g0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function k0(t){Rf(t.g,function(e,n){this.g.hasOwnProperty(n)&&Of(e)},t),t.g={}}go.prototype.N=function(){go.$.N.call(this),k0(this)};go.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ml(){this.g=!0}ml.prototype.Ea=function(){this.g=!1};function _k(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var f=c[0];c=c[1];var g=f.split("_");o=2<=g.length&&g[1]=="type"?o+(f+"="+c+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function vk(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function oi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+wk(t,n)+(r?" "+r:"")})}function yk(t,e){t.info(function(){return"TIMEOUT: "+e})}ml.prototype.info=function(){};function wk(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Lf(n)}catch{return e}}var Br={},Tg=null;function gl(){return Tg=Tg||new Be}Br.Ta="serverreachability";function C0(t){at.call(this,Br.Ta,t)}He(C0,at);function _o(t){const e=gl();Ye(e,new C0(e))}Br.STAT_EVENT="statevent";function A0(t,e){at.call(this,Br.STAT_EVENT,t),this.stat=e}He(A0,at);function ct(t){const e=gl();Ye(e,new A0(e,t))}Br.Ua="timingevent";function P0(t,e){at.call(this,Br.Ua,t),this.size=e}He(P0,at);function Bo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}var _l={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},b0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ff(){}Ff.prototype.h=null;function Sg(t){return t.h||(t.h=t.i())}function R0(){}var Ho={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Uf(){at.call(this,"d")}He(Uf,at);function zf(){at.call(this,"c")}He(zf,at);var Zd;function vl(){}He(vl,Ff);vl.prototype.g=function(){return new XMLHttpRequest};vl.prototype.i=function(){return{}};Zd=new vl;function Wo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new go(this),this.P=Ek,t=Gd?125:void 0,this.V=new pl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new N0}function N0(){this.i=null,this.g="",this.h=!1}var Ek=45e3,O0={},eh={};$=Wo.prototype;$.setTimeout=function(t){this.P=t};function th(t,e,n){t.L=1,t.A=wl(En(e)),t.u=n,t.S=!0,D0(t,null)}function D0(t,e){t.G=Date.now(),qo(t),t.B=En(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),z0(n.i,"t",r),t.o=0,n=t.l.J,t.h=new N0,t.g=uw(t.l,n?e:null,!t.u),0<t.O&&(t.M=new gk(ot(t.Pa,t,t.g),t.O)),I0(t.U,t.g,"readystatechange",t.nb),e=t.I?p0(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),_o(),_k(t.j,t.v,t.B,t.m,t.W,t.u)}$.nb=function(t){t=t.target;const e=this.M;e&&Qt(t)==3?e.l():this.Pa(t)};$.Pa=function(t){try{if(t==this.g)e:{const f=Qt(this.g);var e=this.g.Ia();const g=this.g.da();if(!(3>f)&&(f!=3||Gd||this.g&&(this.h.h||this.g.ja()||Ag(this.g)))){this.J||f!=4||e==7||(e==8||0>=g?_o(3):_o(2)),yl(this);var n=this.g.da();this.ca=n;t:if(M0(this)){var r=Ag(this.g);t="";var i=r.length,s=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Er(this),zs(this);var o="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,vk(this.j,this.v,this.B,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ho(a)){var c=a;break t}}c=null}if(n=c)oi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nh(this,n);else{this.i=!1,this.s=3,ct(12),Er(this),zs(this);break e}}this.S?(L0(this,f,o),Gd&&this.i&&f==3&&(I0(this.U,this.V,"tick",this.mb),this.V.start())):(oi(this.j,this.m,o,null),nh(this,o)),f==4&&Er(this),this.i&&!this.J&&(f==4?iw(this.l,this):(this.i=!1,qo(this)))}else $k(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Er(this),zs(this)}}}catch{}finally{}};function M0(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function L0(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Tk(t,n),i==eh){e==4&&(t.s=4,ct(14),r=!1),oi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==O0){t.s=4,ct(15),oi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else oi(t.j,t.m,i,null),nh(t,i);M0(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,ct(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kf(e),e.M=!0,ct(11))):(oi(t.j,t.m,n,"[Invalid Chunked Response]"),Er(t),zs(t))}$.mb=function(){if(this.g){var t=Qt(this.g),e=this.g.ja();this.o<e.length&&(yl(this),L0(this,t,e),this.i&&t!=4&&qo(this))}};function Tk(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?eh:(n=Number(e.substring(n,r)),isNaN(n)?O0:(r+=1,r+n>e.length?eh:(e=e.slice(r,r+n),t.o=r+n,e)))}$.cancel=function(){this.J=!0,Er(this)};function qo(t){t.Y=Date.now()+t.P,V0(t,t.P)}function V0(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Bo(ot(t.lb,t),e)}function yl(t){t.C&&(te.clearTimeout(t.C),t.C=null)}$.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(yk(this.j,this.B),this.L!=2&&(_o(),ct(17)),Er(this),this.s=2,zs(this)):V0(this,this.Y-t)};function zs(t){t.l.H==0||t.J||iw(t.l,t)}function Er(t){yl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,xf(t.V),k0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function nh(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||rh(n.i,t))){if(!t.K&&rh(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Du(n),Il(n);else break e;qf(n),ct(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Bo(ot(n.ib,n),6e3));if(1>=H0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Tr(n,11)}else if((t.K||n.g==t)&&Du(n),!ho(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const f=c[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const g=c[4];g!=null&&(n.Ga=g,n.l.info("SVER="+n.Ga));const y=c[5];y!=null&&typeof y=="number"&&0<y&&(r=1.5*y,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const k=t.g;if(k){const A=k.g?k.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(A){var s=r.i;s.g||A.indexOf("spdy")==-1&&A.indexOf("quic")==-1&&A.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&($f(s,s.h),s.h=null))}if(r.F){const C=k.g?k.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,ye(r.I,r.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=aw(r,r.J?r.pa:null,r.Y),o.K){W0(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(yl(a),qo(a)),r.g=o}else nw(r);0<n.j.length&&kl(n)}else c[0]!="stop"&&c[0]!="close"||Tr(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Tr(n,7):Wf(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}_o(4)}catch{}}function Sk(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(cl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Ik(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(cl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function x0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(cl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Ik(t),r=Sk(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var j0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kk(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ar(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ar){this.h=t.h,Nu(this,t.j),this.s=t.s,this.g=t.g,Ou(this,t.m),this.l=t.l;var e=t.i,n=new vo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ig(this,n),this.o=t.o}else t&&(e=String(t).match(j0))?(this.h=!1,Nu(this,e[1]||"",!0),this.s=Ss(e[2]||""),this.g=Ss(e[3]||"",!0),Ou(this,e[4]),this.l=Ss(e[5]||"",!0),Ig(this,e[6]||"",!0),this.o=Ss(e[7]||"")):(this.h=!1,this.i=new vo(null,this.h))}Ar.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Is(e,kg,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Is(e,kg,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Is(n,n.charAt(0)=="/"?Pk:Ak,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Is(n,Rk)),t.join("")};function En(t){return new Ar(t)}function Nu(t,e,n){t.j=n?Ss(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ou(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ig(t,e,n){e instanceof vo?(t.i=e,Nk(t.i,t.h)):(n||(e=Is(e,bk)),t.i=new vo(e,t.h))}function ye(t,e,n){t.i.set(e,n)}function wl(t){return ye(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ss(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Is(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Ck),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ck(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var kg=/[#\/\?@]/g,Ak=/[#\?:]/g,Pk=/[#\?]/g,bk=/[#\?@]/g,Rk=/#/g;function vo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function cr(t){t.g||(t.g=new Map,t.h=0,t.i&&kk(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}$=vo.prototype;$.add=function(t,e){cr(this),this.i=null,t=Ki(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function F0(t,e){cr(t),e=Ki(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function U0(t,e){return cr(t),e=Ki(t,e),t.g.has(e)}$.forEach=function(t,e){cr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};$.ta=function(){cr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};$.Z=function(t){cr(this);let e=[];if(typeof t=="string")U0(this,t)&&(e=e.concat(this.g.get(Ki(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};$.set=function(t,e){return cr(this),this.i=null,t=Ki(this,t),U0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};$.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function z0(t,e,n){F0(t,e),0<n.length&&(t.i=null,t.g.set(Ki(t,e),Pf(n)),t.h+=n.length)}$.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ki(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Nk(t,e){e&&!t.j&&(cr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(F0(this,r),z0(this,i,n))},t)),t.j=e}var Ok=class{constructor(t,e){this.g=t,this.map=e}};function $0(t){this.l=t||Dk,te.PerformanceNavigationTiming?(t=te.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(te.g&&te.g.Ka&&te.g.Ka()&&te.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Dk=10;function B0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function H0(t){return t.h?1:t.g?t.g.size:0}function rh(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function $f(t,e){t.g?t.g.add(e):t.h=e}function W0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}$0.prototype.cancel=function(){if(this.i=q0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function q0(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Pf(t.i)}var Mk=class{stringify(t){return te.JSON.stringify(t,void 0)}parse(t){return te.JSON.parse(t,void 0)}};function Lk(){this.g=new Mk}function Vk(t,e,n){const r=n||"";try{x0(t,function(i,s){let o=i;zo(i)&&(o=Lf(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function xk(t,e){const n=new ml;if(te.Image){const r=new Image;r.onload=Ta(Ia,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ta(Ia,n,r,"TestLoadImage: error",!1,e),r.onabort=Ta(Ia,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ta(Ia,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ia(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function El(t){this.l=t.ec||null,this.j=t.ob||!1}He(El,Ff);El.prototype.g=function(){return new Tl(this.l,this.j)};El.prototype.i=function(t){return function(){return t}}({});function Tl(t,e){Be.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Bf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}He(Tl,Be);var Bf=0;$=Tl.prototype;$.open=function(t,e){if(this.readyState!=Bf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,yo(this)};$.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};$.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ko(this)),this.readyState=Bf};$.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,yo(this)),this.g&&(this.readyState=3,yo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;K0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function K0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}$.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ko(this):yo(this),this.readyState==3&&K0(this)}};$.Za=function(t){this.g&&(this.response=this.responseText=t,Ko(this))};$.Ya=function(t){this.g&&(this.response=t,Ko(this))};$.ka=function(){this.g&&Ko(this)};function Ko(t){t.readyState=4,t.l=null,t.j=null,t.A=null,yo(t)}$.setRequestHeader=function(t,e){this.v.append(t,e)};$.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};$.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function yo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Tl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var jk=te.JSON.parse;function be(t){Be.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=G0,this.L=this.M=!1}He(be,Be);var G0="",Fk=/^https?$/i,Uk=["POST","PUT"];$=be.prototype;$.Oa=function(t){this.M=t};$.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zd.g(),this.C=this.u?Sg(this.u):Sg(Zd),this.g.onreadystatechange=ot(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Cg(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=te.FormData&&t instanceof te.FormData,!(0<=c0(Uk,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{X0(this),0<this.B&&((this.L=zk(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ot(this.ua,this)):this.A=jf(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Cg(this,s)}};function zk(t){return bi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}$.ua=function(){typeof Af<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ye(this,"timeout"),this.abort(8))};function Cg(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Q0(t),Sl(t)}function Q0(t){t.F||(t.F=!0,Ye(t,"complete"),Ye(t,"error"))}$.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ye(this,"complete"),Ye(this,"abort"),Sl(this))};$.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sl(this,!0)),be.$.N.call(this)};$.La=function(){this.s||(this.G||this.v||this.l?Y0(this):this.kb())};$.kb=function(){Y0(this)};function Y0(t){if(t.h&&typeof Af<"u"&&(!t.C[1]||Qt(t)!=4||t.da()!=2)){if(t.v&&Qt(t)==4)jf(t.La,0,t);else if(Ye(t,"readystatechange"),Qt(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(j0)[1]||null;!i&&te.self&&te.self.location&&(i=te.self.location.protocol.slice(0,-1)),r=!Fk.test(i?i.toLowerCase():"")}n=r}if(n)Ye(t,"complete"),Ye(t,"success");else{t.m=6;try{var s=2<Qt(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Q0(t)}}finally{Sl(t)}}}}function Sl(t,e){if(t.g){X0(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ye(t,"ready");try{n.onreadystatechange=r}catch{}}}function X0(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}$.isActive=function(){return!!this.g};function Qt(t){return t.g?t.g.readyState:0}$.da=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}};$.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};$.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),jk(e)}};function Ag(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case G0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function $k(t){const e={};t=(t.g&&2<=Qt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ho(t[r]))continue;var n=fk(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}ok(e,function(r){return r.join(", ")})}$.Ia=function(){return this.m};$.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function J0(t){let e="";return Rf(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Hf(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=J0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ye(t,e,n))}function ds(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Z0(t){this.Ga=0,this.j=[],this.l=new ml,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ds("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ds("baseRetryDelayMs",5e3,t),this.hb=ds("retryDelaySeedMs",1e4,t),this.eb=ds("forwardChannelMaxRetries",2,t),this.xa=ds("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new $0(t&&t.concurrentRequestLimit),this.Ja=new Lk,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}$=Z0.prototype;$.ra=8;$.H=1;function Wf(t){if(ew(t),t.H==3){var e=t.W++,n=En(t.I);if(ye(n,"SID",t.K),ye(n,"RID",e),ye(n,"TYPE","terminate"),Go(t,n),e=new Wo(t,t.l,e),e.L=2,e.A=wl(En(n)),n=!1,te.navigator&&te.navigator.sendBeacon)try{n=te.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&te.Image&&(new Image().src=e.A,n=!0),n||(e.g=uw(e.l,null),e.g.ha(e.A)),e.G=Date.now(),qo(e)}ow(t)}function Il(t){t.g&&(Kf(t),t.g.cancel(),t.g=null)}function ew(t){Il(t),t.u&&(te.clearTimeout(t.u),t.u=null),Du(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&te.clearTimeout(t.m),t.m=null)}function kl(t){if(!B0(t.i)&&!t.m){t.m=!0;var e=t.Na;po||T0(),mo||(po(),mo=!0),Vf.add(e,t),t.C=0}}function Bk(t,e){return H0(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Bo(ot(t.Na,t,e),sw(t,t.C)),t.C++,!0)}$.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Wo(this,this.l,t);let s=this.s;if(this.U&&(s?(s=p0(s),m0(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=tw(this,i,e),n=En(this.I),ye(n,"RID",t),ye(n,"CVER",22),this.F&&ye(n,"X-HTTP-Session-Id",this.F),Go(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(J0(s)))+"&"+e:this.o&&Hf(n,this.o,s)),$f(this.i,i),this.bb&&ye(n,"TYPE","init"),this.P?(ye(n,"$req",e),ye(n,"SID","null"),i.aa=!0,th(i,n,null)):th(i,n,e),this.H=2}}else this.H==3&&(t?Pg(this,t):this.j.length==0||B0(this.i)||Pg(this))};function Pg(t,e){var n;e?n=e.m:n=t.W++;const r=En(t.I);ye(r,"SID",t.K),ye(r,"RID",n),ye(r,"AID",t.V),Go(t,r),t.o&&t.s&&Hf(r,t.o,t.s),n=new Wo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=tw(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),$f(t.i,n),th(n,r,e)}function Go(t,e){t.na&&Rf(t.na,function(n,r){ye(e,r,n)}),t.h&&x0({},function(n,r){ye(e,r,n)})}function tw(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ot(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const f=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{Vk(f,o,"req"+c+"_")}catch{r&&r(f)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function nw(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;po||T0(),mo||(po(),mo=!0),Vf.add(e,t),t.A=0}}function qf(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Bo(ot(t.Ma,t),sw(t,t.A)),t.A++,!0)}$.Ma=function(){if(this.u=null,rw(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Bo(ot(this.jb,this),t)}};$.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ct(10),Il(this),rw(this))};function Kf(t){t.B!=null&&(te.clearTimeout(t.B),t.B=null)}function rw(t){t.g=new Wo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=En(t.wa);ye(e,"RID","rpc"),ye(e,"SID",t.K),ye(e,"AID",t.V),ye(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ye(e,"TO",t.qa),ye(e,"TYPE","xmlhttp"),Go(t,e),t.o&&t.s&&Hf(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=wl(En(e)),n.u=null,n.S=!0,D0(n,t)}$.ib=function(){this.v!=null&&(this.v=null,Il(this),qf(this),ct(19))};function Du(t){t.v!=null&&(te.clearTimeout(t.v),t.v=null)}function iw(t,e){var n=null;if(t.g==e){Du(t),Kf(t),t.g=null;var r=2}else if(rh(t.i,e))n=e.F,W0(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=gl(),Ye(r,new P0(r,n)),kl(t)}else nw(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&Bk(t,e)||r==2&&qf(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Tr(t,5);break;case 4:Tr(t,10);break;case 3:Tr(t,6);break;default:Tr(t,2)}}}function sw(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Tr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ot(t.pb,t);n||(n=new Ar("//www.google.com/images/cleardot.gif"),te.location&&te.location.protocol=="http"||Nu(n,"https"),wl(n)),xk(n.toString(),r)}else ct(2);t.H=0,t.h&&t.h.za(e),ow(t),ew(t)}$.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ct(2)):(this.l.info("Failed to ping google.com"),ct(1))};function ow(t){if(t.H=0,t.ma=[],t.h){const e=q0(t.i);(e.length!=0||t.j.length!=0)&&(vg(t.ma,e),vg(t.ma,t.j),t.i.i.length=0,Pf(t.j),t.j.length=0),t.h.ya()}}function aw(t,e,n){var r=n instanceof Ar?En(n):new Ar(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ou(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ar(null);r&&Nu(s,r),e&&(s.g=e),i&&Ou(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ye(r,n,e),ye(r,"VER",t.ra),Go(t,r),r}function uw(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new be(new El({ob:n})):new be(t.va),e.Oa(t.J),e}$.isActive=function(){return!!this.h&&this.h.isActive(this)};function lw(){}$=lw.prototype;$.Ba=function(){};$.Aa=function(){};$.za=function(){};$.ya=function(){};$.isActive=function(){return!0};$.Va=function(){};function Mu(){if(bi&&!(10<=Number(nk)))throw Error("Environmental error: no available transport.")}Mu.prototype.g=function(t,e){return new St(t,e)};function St(t,e){Be.call(this),this.g=new Z0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ho(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ho(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Gi(this)}He(St,Be);St.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ct(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=aw(t,null,t.Y),kl(t)};St.prototype.close=function(){Wf(this.g)};St.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Lf(t),t=n);e.j.push(new Ok(e.fb++,t)),e.H==3&&kl(e)};St.prototype.N=function(){this.g.h=null,delete this.j,Wf(this.g),delete this.g,St.$.N.call(this)};function cw(t){Uf.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}He(cw,Uf);function dw(){zf.call(this),this.status=1}He(dw,zf);function Gi(t){this.g=t}He(Gi,lw);Gi.prototype.Ba=function(){Ye(this.g,"a")};Gi.prototype.Aa=function(t){Ye(this.g,new cw(t))};Gi.prototype.za=function(t){Ye(this.g,new dw)};Gi.prototype.ya=function(){Ye(this.g,"b")};function Hk(){this.blockSize=-1}function Ht(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}He(Ht,Hk);Ht.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Uc(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Ht.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Uc(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Uc(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Uc(this,r),i=0;break}}this.h=i,this.i+=e};Ht.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function fe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Wk={};function Gf(t){return-128<=t&&128>t?Z8(t,function(e){return new fe([e|0],0>e?-1:0)}):new fe([t|0],0>t?-1:0)}function Yt(t){if(isNaN(t)||!isFinite(t))return Ei;if(0>t)return Ge(Yt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ih;return new fe(e,0)}function hw(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ge(hw(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Yt(Math.pow(e,8)),r=Ei,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Yt(Math.pow(e,s)),r=r.R(s).add(Yt(o))):(r=r.R(n),r=r.add(Yt(o)))}return r}var ih=4294967296,Ei=Gf(0),sh=Gf(1),bg=Gf(16777216);$=fe.prototype;$.ea=function(){if(Pt(this))return-Ge(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ih+r)*e,e*=ih}return t};$.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(_n(this))return"0";if(Pt(this))return"-"+Ge(this).toString(t);for(var e=Yt(Math.pow(t,6)),n=this,r="";;){var i=Vu(n,e).g;n=Lu(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,_n(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};$.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function _n(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Pt(t){return t.h==-1}$.X=function(t){return t=Lu(this,t),Pt(t)?-1:_n(t)?0:1};function Ge(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new fe(n,~t.h).add(sh)}$.abs=function(){return Pt(this)?Ge(this):this};$.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new fe(n,n[n.length-1]&-2147483648?-1:0)};function Lu(t,e){return t.add(Ge(e))}$.R=function(t){if(_n(this)||_n(t))return Ei;if(Pt(this))return Pt(t)?Ge(this).R(Ge(t)):Ge(Ge(this).R(t));if(Pt(t))return Ge(this.R(Ge(t)));if(0>this.X(bg)&&0>t.X(bg))return Yt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,ka(n,2*r+2*i),n[2*r+2*i+1]+=s*l,ka(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ka(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ka(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new fe(n,0)};function ka(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function hs(t,e){this.g=t,this.h=e}function Vu(t,e){if(_n(e))throw Error("division by zero");if(_n(t))return new hs(Ei,Ei);if(Pt(t))return e=Vu(Ge(t),e),new hs(Ge(e.g),Ge(e.h));if(Pt(e))return e=Vu(t,Ge(e)),new hs(Ge(e.g),e.h);if(30<t.g.length){if(Pt(t)||Pt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=sh,r=e;0>=r.X(t);)n=Rg(n),r=Rg(r);var i=Kr(n,1),s=Kr(r,1);for(r=Kr(r,2),n=Kr(n,2);!_n(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Kr(r,1),n=Kr(n,1)}return e=Lu(t,i.R(e)),new hs(i,e)}for(i=Ei;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Yt(n),o=s.R(e);Pt(o)||0<o.X(t);)n-=r,s=Yt(n),o=s.R(e);_n(s)&&(s=sh),i=i.add(s),t=Lu(t,o)}return new hs(i,t)}$.gb=function(t){return Vu(this,t).h};$.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new fe(n,this.h&t.h)};$.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new fe(n,this.h|t.h)};$.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new fe(n,this.h^t.h)};function Rg(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new fe(n,t.h)}function Kr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new fe(i,t.h)}Mu.prototype.createWebChannel=Mu.prototype.g;St.prototype.send=St.prototype.u;St.prototype.open=St.prototype.m;St.prototype.close=St.prototype.close;_l.NO_ERROR=0;_l.TIMEOUT=8;_l.HTTP_ERROR=6;b0.COMPLETE="complete";R0.EventType=Ho;Ho.OPEN="a";Ho.CLOSE="b";Ho.ERROR="c";Ho.MESSAGE="d";Be.prototype.listen=Be.prototype.O;be.prototype.listenOnce=be.prototype.P;be.prototype.getLastError=be.prototype.Sa;be.prototype.getLastErrorCode=be.prototype.Ia;be.prototype.getStatus=be.prototype.da;be.prototype.getResponseJson=be.prototype.Wa;be.prototype.getResponseText=be.prototype.ja;be.prototype.send=be.prototype.ha;be.prototype.setWithCredentials=be.prototype.Oa;Ht.prototype.digest=Ht.prototype.l;Ht.prototype.reset=Ht.prototype.reset;Ht.prototype.update=Ht.prototype.j;fe.prototype.add=fe.prototype.add;fe.prototype.multiply=fe.prototype.R;fe.prototype.modulo=fe.prototype.gb;fe.prototype.compare=fe.prototype.X;fe.prototype.toNumber=fe.prototype.ea;fe.prototype.toString=fe.prototype.toString;fe.prototype.getBits=fe.prototype.D;fe.fromNumber=Yt;fe.fromString=hw;var qk=function(){return new Mu},Kk=function(){return gl()},zc=_l,Gk=b0,Qk=Br,Ng={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ca=R0,Yk=be,Xk=Ht,Ti=fe;const Og="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nt.UNAUTHENTICATED=new nt(null),nt.GOOGLE_CREDENTIALS=new nt("google-credentials-uid"),nt.FIRST_PARTY=new nt("first-party-uid"),nt.MOCK_USER=new nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qi="10.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new mf("@firebase/firestore");function fs(){return Lr.logLevel}function z(t,...e){if(Lr.logLevel<=le.DEBUG){const n=e.map(Qf);Lr.debug(`Firestore (${Qi}): ${t}`,...n)}}function sn(t,...e){if(Lr.logLevel<=le.ERROR){const n=e.map(Qf);Lr.error(`Firestore (${Qi}): ${t}`,...n)}}function Ri(t,...e){if(Lr.logLevel<=le.WARN){const n=e.map(Qf);Lr.warn(`Firestore (${Qi}): ${t}`,...n)}}function Qf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${Qi}) INTERNAL ASSERTION FAILED: `+t;throw sn(e),new Error(e)}function ge(t,e){t||ee()}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends In{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nt.UNAUTHENTICATED))}shutdown(){}}class Zk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class e2{constructor(e){this.t=e,this.currentUser=nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Gn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string"),new fw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string"),new nt(e)}}class t2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class n2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new t2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string"),this.R=n.token,new r2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=s2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Ni(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Fe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Fe(0,0))}static max(){return new ne(new Fe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return wo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ee extends wo{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const o2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends wo{construct(e,n,r){return new Qe(e,n,r)}static isValidIdentifier(e){return o2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(Ee.fromString(e))}static fromName(e){return new X(Ee.fromString(e).popFirst(5))}static empty(){return new X(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new Ee(e.slice()))}}function a2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new nr(i,X.empty(),e)}function u2(t){return new nr(t.readTime,t.key,-1)}class nr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new nr(ne.min(),X.empty(),-1)}static max(){return new nr(ne.max(),X.empty(),-1)}}function l2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t){if(t.code!==x.FAILED_PRECONDITION||t.message!==c2)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new D((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):D.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):D.reject(n)}static resolve(e){return new D((n,r)=>{n(e)})}static reject(e){return new D((n,r)=>{r(e)})}static waitFor(e){return new D((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=D.resolve(!1);for(const r of e)n=n.next(i=>i?D.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new D((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(f=>{o[c]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new D((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Gn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new $s(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Xf(r.target.error);this.V.reject(new $s(e,i))}}static open(e,n,r,i){try{return new Yf(n,e.transaction(i,r))}catch(s){throw new $s(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(z("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new f2(n)}}class Sr{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Sr.S(Ve())===12.2&&sn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return z("SimpleDb","Removing database:",e),mr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ky())return!1;if(Sr.C())return!0;const e=Ve(),n=Sr.S(e),r=0<n&&n<10,i=Sr.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(z("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new $s(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new G(x.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new G(x.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new $s(e,o))},i.onupgradeneeded=s=>{z("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{z("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Yf.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),D.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(z("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class h2{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return mr(this.k.delete())}}class $s extends G{constructor(e,n){super(x.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Yo(t){return t.name==="IndexedDbTransactionError"}class f2{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(z("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(z("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),mr(r)}add(e){return z("SimpleDb","ADD",this.store.name,e,e),mr(this.store.add(e))}get(e){return mr(this.store.get(e)).next(n=>(n===void 0&&(n=null),z("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return z("SimpleDb","DELETE",this.store.name,e),mr(this.store.delete(e))}count(){return z("SimpleDb","COUNT",this.store.name),mr(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new D((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new D((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){z("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new D((r,i)=>{n.onerror=s=>{const o=Xf(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new D((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new h2(a),c=n(a.primaryKey,a.value,l);if(c instanceof D){const f=c.catch(g=>(l.done(),D.reject(g)));r.push(f)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>D.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function mr(t){return new D((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Xf(r.target.error);n(i)}})}let Dg=!1;function Xf(t){const e=Sr.S(Ve());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new G("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Dg||(Dg=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Jf._e=-1;function Cl(t){return t==null}function xu(t){return t===0&&1/t==-1/0}function p2(t){return typeof t=="number"&&Number.isInteger(t)&&!xu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,n){this.comparator=e,this.root=n||qe.EMPTY}insert(e,n){return new Ce(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new Ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Aa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Aa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Aa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Aa(this.root,e,this.comparator,!0)}}class Aa{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??qe.RED,this.left=i??qe.EMPTY,this.right=s??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new qe(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return qe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new qe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lg(this.data.getIterator())}getIteratorFrom(e){return new Lg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class Lg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new zt([])}unionWith(e){let n=new Xe(Qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ni(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gw("Invalid base64 string: "+s):s}}(e);return new lt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const m2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(t){if(ge(!!t),typeof t=="string"){let e=0;const n=m2.exec(t);if(ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vr(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ep(t){const e=t.mapValue.fields.__previous_value__;return Zf(e)?ep(e):e}function Eo(t){const e=rr(t.mapValue.fields.__local_write_time__.timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class To{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new To("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof To&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zf(t)?4:_2(t)?9007199254740991:10:ee()}function on(t,e){if(t===e)return!0;const n=xr(t);if(n!==xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Eo(t).isEqual(Eo(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=rr(i.timestampValue),a=rr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Vr(i.bytesValue).isEqual(Vr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Me(i.geoPointValue.latitude)===Me(s.geoPointValue.latitude)&&Me(i.geoPointValue.longitude)===Me(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Me(i.integerValue)===Me(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Me(i.doubleValue),a=Me(s.doubleValue);return o===a?xu(o)===xu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ni(t.arrayValue.values||[],e.arrayValue.values||[],on);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Mg(o)!==Mg(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!on(o[l],a[l])))return!1;return!0}(t,e);default:return ee()}}function So(t,e){return(t.values||[]).find(n=>on(n,e))!==void 0}function Oi(t,e){if(t===e)return 0;const n=xr(t),r=xr(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Me(s.integerValue||s.doubleValue),l=Me(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Vg(t.timestampValue,e.timestampValue);case 4:return Vg(Eo(t),Eo(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Vr(s),l=Vr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const f=he(a[c],l[c]);if(f!==0)return f}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=he(Me(s.latitude),Me(o.latitude));return a!==0?a:he(Me(s.longitude),Me(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const f=Oi(a[c],l[c]);if(f)return f}return he(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Pa.mapValue&&o===Pa.mapValue)return 0;if(s===Pa.mapValue)return 1;if(o===Pa.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let g=0;g<l.length&&g<f.length;++g){const y=he(l[g],f[g]);if(y!==0)return y;const k=Oi(a[l[g]],c[f[g]]);if(k!==0)return k}return he(l.length,f.length)}(t.mapValue,e.mapValue);default:throw ee()}}function Vg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=rr(t),r=rr(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function Di(t){return oh(t)}function oh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=rr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=oh(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${oh(n.fields[o])}`;return i+"}"}(t.mapValue):ee()}function ah(t){return!!t&&"integerValue"in t}function tp(t){return!!t&&"arrayValue"in t}function xg(t){return!!t&&"nullValue"in t}function jg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ya(t){return!!t&&"mapValue"in t}function Bs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.value=e}static empty(){return new bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ya(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bs(n)}setAll(e){let n=Qe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Bs(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ya(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return on(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ya(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bt(Bs(this.value))}}function _w(t){const e=[];return Yi(t.fields,(n,r)=>{const i=new Qe([n]);if(Ya(r)){const s=_w(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new rt(e,0,ne.min(),ne.min(),ne.min(),bt.empty(),0)}static newFoundDocument(e,n,r,i){return new rt(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new rt(e,2,n,ne.min(),ne.min(),bt.empty(),0)}static newUnknownDocument(e,n){return new rt(e,3,n,ne.min(),ne.min(),bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.position=e,this.inclusive=n}}function Fg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=Oi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ug(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!on(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function v2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{}class xe extends vw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new w2(e,n,r):n==="array-contains"?new S2(e,r):n==="in"?new I2(e,r):n==="not-in"?new k2(e,r):n==="array-contains-any"?new C2(e,r):new xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new E2(e,r):new T2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Oi(n,this.value)):n!==null&&xr(this.value)===xr(n)&&this.matchesComparison(Oi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class an extends vw{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new an(e,n)}matches(e){return yw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function yw(t){return t.op==="and"}function ww(t){return y2(t)&&yw(t)}function y2(t){for(const e of t.filters)if(e instanceof an)return!1;return!0}function uh(t){if(t instanceof xe)return t.field.canonicalString()+t.op.toString()+Di(t.value);if(ww(t))return t.filters.map(e=>uh(e)).join(",");{const e=t.filters.map(n=>uh(n)).join(",");return`${t.op}(${e})`}}function Ew(t,e){return t instanceof xe?function(r,i){return i instanceof xe&&r.op===i.op&&r.field.isEqual(i.field)&&on(r.value,i.value)}(t,e):t instanceof an?function(r,i){return i instanceof an&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Ew(o,i.filters[a]),!0):!1}(t,e):void ee()}function Tw(t){return t instanceof xe?function(n){return`${n.field.canonicalString()} ${n.op} ${Di(n.value)}`}(t):t instanceof an?function(n){return n.op.toString()+" {"+n.getFilters().map(Tw).join(" ,")+"}"}(t):"Filter"}class w2 extends xe{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class E2 extends xe{constructor(e,n){super(e,"in",n),this.keys=Sw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class T2 extends xe{constructor(e,n){super(e,"not-in",n),this.keys=Sw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Sw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class S2 extends xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tp(n)&&So(n.arrayValue,this.value)}}class I2 extends xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&So(this.value.arrayValue,n)}}class k2 extends xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(So(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!So(this.value.arrayValue,n)}}class C2 extends xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>So(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function zg(t,e=null,n=[],r=[],i=null,s=null,o=null){return new A2(t,e,n,r,i,s,o)}function np(t){const e=ie(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Cl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Di(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Di(r)).join(",")),e.ce=n}return e.ce}function rp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!v2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ew(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ug(t.startAt,e.startAt)&&Ug(t.endAt,e.endAt)}function lh(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function P2(t,e,n,r,i,s,o,a){return new Al(t,e,n,r,i,s,o,a)}function ip(t){return new Al(t)}function $g(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function b2(t){return t.collectionGroup!==null}function Hs(t){const e=ie(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xe(Qe.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Fu(s,r))}),n.has(Qe.keyField().canonicalString())||e.le.push(new Fu(Qe.keyField(),r))}return e.le}function tn(t){const e=ie(t);return e.he||(e.he=R2(e,Hs(t))),e.he}function R2(t,e){if(t.limitType==="F")return zg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Fu(i.field,s)});const n=t.endAt?new ju(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ju(t.startAt.position,t.startAt.inclusive):null;return zg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ch(t,e,n){return new Al(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pl(t,e){return rp(tn(t),tn(e))&&t.limitType===e.limitType}function Iw(t){return`${np(tn(t))}|lt:${t.limitType}`}function Yr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Tw(i)).join(", ")}]`),Cl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Di(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Di(i)).join(",")),`Target(${r})`}(tn(t))}; limitType=${t.limitType})`}function bl(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Hs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Fg(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Hs(r),i)||r.endAt&&!function(o,a,l){const c=Fg(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Hs(r),i))}(t,e)}function N2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kw(t){return(e,n)=>{let r=!1;for(const i of Hs(t)){const s=O2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function O2(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Oi(l,c):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return mw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new Ce(X.comparator);function Tn(){return D2}const Cw=new Ce(X.comparator);function ks(...t){let e=Cw;for(const n of t)e=e.insert(n.key,n);return e}function Aw(t){let e=Cw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ir(){return Ws()}function Pw(){return Ws()}function Ws(){return new Xi(t=>t.toString(),(t,e)=>t.isEqual(e))}const M2=new Ce(X.comparator),L2=new Xe(X.comparator);function ue(...t){let e=L2;for(const n of t)e=e.add(n);return e}const V2=new Xe(he);function x2(){return V2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xu(e)?"-0":e}}function Rw(t){return{integerValue:""+t}}function j2(t,e){return p2(e)?Rw(e):bw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this._=void 0}}function F2(t,e,n){return t instanceof Uu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Zf(s)&&(s=ep(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Io?Ow(t,e):t instanceof ko?Dw(t,e):function(i,s){const o=Nw(i,s),a=Bg(o)+Bg(i.Ie);return ah(o)&&ah(i.Ie)?Rw(a):bw(i.serializer,a)}(t,e)}function U2(t,e,n){return t instanceof Io?Ow(t,e):t instanceof ko?Dw(t,e):n}function Nw(t,e){return t instanceof zu?function(r){return ah(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Uu extends Rl{}class Io extends Rl{constructor(e){super(),this.elements=e}}function Ow(t,e){const n=Mw(e);for(const r of t.elements)n.some(i=>on(i,r))||n.push(r);return{arrayValue:{values:n}}}class ko extends Rl{constructor(e){super(),this.elements=e}}function Dw(t,e){let n=Mw(e);for(const r of t.elements)n=n.filter(i=>!on(i,r));return{arrayValue:{values:n}}}class zu extends Rl{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Bg(t){return Me(t.integerValue||t.doubleValue)}function Mw(t){return tp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function z2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Io&&i instanceof Io||r instanceof ko&&i instanceof ko?Ni(r.elements,i.elements,on):r instanceof zu&&i instanceof zu?on(r.Ie,i.Ie):r instanceof Uu&&i instanceof Uu}(t.transform,e.transform)}class $2{constructor(e,n){this.version=e,this.transformResults=n}}class $t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $t}static exists(e){return new $t(void 0,e)}static updateTime(e){return new $t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nl{}function Lw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sp(t.key,$t.none()):new Xo(t.key,t.data,$t.none());{const n=t.data,r=bt.empty();let i=new Xe(Qe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Hr(t.key,r,new zt(i.toArray()),$t.none())}}function B2(t,e,n){t instanceof Xo?function(i,s,o){const a=i.value.clone(),l=Wg(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Hr?function(i,s,o){if(!Xa(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Wg(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Vw(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function qs(t,e,n,r){return t instanceof Xo?function(s,o,a,l){if(!Xa(s.precondition,o))return a;const c=s.value.clone(),f=qg(s.fieldTransforms,l,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Hr?function(s,o,a,l){if(!Xa(s.precondition,o))return a;const c=qg(s.fieldTransforms,l,o),f=o.data;return f.setAll(Vw(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,a){return Xa(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function H2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Nw(r.transform,i||null);s!=null&&(n===null&&(n=bt.empty()),n.set(r.field,s))}return n||null}function Hg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ni(r,i,(s,o)=>z2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xo extends Nl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hr extends Nl{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Vw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Wg(t,e,n){const r=new Map;ge(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,U2(o,a,n[i]))}return r}function qg(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,F2(s,o,e))}return r}class sp extends Nl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W2 extends Nl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&B2(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Pw();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Lw(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Ni(this.mutations,e.mutations,(n,r)=>Hg(n,r))&&Ni(this.baseMutations,e.baseMutations,(n,r)=>Hg(n,r))}}class op{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length);let i=function(){return M2}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new op(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,ce;function Q2(t){switch(t){default:return ee();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function xw(t){if(t===void 0)return sn("GRPC error has no .code"),x.UNKNOWN;switch(t){case De.OK:return x.OK;case De.CANCELLED:return x.CANCELLED;case De.UNKNOWN:return x.UNKNOWN;case De.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case De.INTERNAL:return x.INTERNAL;case De.UNAVAILABLE:return x.UNAVAILABLE;case De.UNAUTHENTICATED:return x.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case De.NOT_FOUND:return x.NOT_FOUND;case De.ALREADY_EXISTS:return x.ALREADY_EXISTS;case De.PERMISSION_DENIED:return x.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case De.ABORTED:return x.ABORTED;case De.OUT_OF_RANGE:return x.OUT_OF_RANGE;case De.UNIMPLEMENTED:return x.UNIMPLEMENTED;case De.DATA_LOSS:return x.DATA_LOSS;default:return ee()}}(ce=De||(De={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new Ti([4294967295,4294967295],0);function Kg(t){const e=Y2().encode(t),n=new Xk;return n.update(e),new Uint8Array(n.digest())}function Gg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ti([n,r],0),new Ti([i,s],0)]}class ap{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cs(`Invalid padding: ${n}`);if(r<0)throw new Cs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cs(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ti.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ti.fromNumber(r)));return i.compare(X2)===1&&(i=new Ti([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Kg(e),[r,i]=Gg(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ap(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Kg(e),[r,i]=Gg(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Jo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ol(ne.min(),i,new Ce(he),Tn(),ue())}}class Jo{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jo(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class jw{constructor(e,n){this.targetId=e,this.fe=n}}class Fw{constructor(e,n,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Qg{constructor(){this.ge=0,this.pe=Xg(),this.ye=lt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ue(),n=ue(),r=ue();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Jo(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Xg()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ge(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class J2{constructor(e){this.Le=e,this.ke=new Map,this.qe=Tn(),this.Qe=Yg(),this.Ke=new Ce(he)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(lh(s))if(r===0){const o=new X(s.path);this.We(n,o,rt.newNoDocument(o,ne.min()))}else ge(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Vr(r).toUint8Array()}catch(l){if(l instanceof gw)return Ri("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ap(o,i,s)}catch(l){return Ri(l instanceof Cs?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&lh(a.target)){const l=new X(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,rt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ue();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Ol(e,n,this.Ke,this.qe,r);return this.qe=Tn(),this.Qe=Yg(),this.Ke=new Ce(he),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Qg,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Xe(he),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Qg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Yg(){return new Ce(X.comparator)}function Xg(){return new Ce(X.comparator)}const Z2={asc:"ASCENDING",desc:"DESCENDING"},eC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tC={and:"AND",or:"OR"};class nC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dh(t,e){return t.useProto3Json||Cl(e)?e:{value:e}}function $u(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rC(t,e){return $u(t,e.toTimestamp())}function nn(t){return ge(!!t),ne.fromTimestamp(function(n){const r=rr(n);return new Fe(r.seconds,r.nanos)}(t))}function up(t,e){return hh(t,e).canonicalString()}function hh(t,e){const n=function(i){return new Ee(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zw(t){const e=Ee.fromString(t);return ge(qw(e)),e}function fh(t,e){return up(t.databaseId,e.path)}function $c(t,e){const n=zw(e);if(n.get(1)!==t.databaseId.projectId)throw new G(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(Bw(n))}function $w(t,e){return up(t.databaseId,e)}function iC(t){const e=zw(t);return e.length===4?Ee.emptyPath():Bw(e)}function ph(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bw(t){return ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Jg(t,e,n){return{name:fh(t,e),fields:n.value.mapValue.fields}}function sC(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(ge(f===void 0||typeof f=="string"),lt.fromBase64String(f||"")):(ge(f===void 0||f instanceof Uint8Array),lt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=c.code===void 0?x.UNKNOWN:xw(c.code);return new G(f,c.message||"")}(o);n=new Fw(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=$c(t,r.document.name),s=nn(r.document.updateTime),o=r.document.createTime?nn(r.document.createTime):ne.min(),a=new bt({mapValue:{fields:r.document.fields}}),l=rt.newFoundDocument(i,s,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new Ja(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=$c(t,r.document),s=r.readTime?nn(r.readTime):ne.min(),o=rt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ja([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=$c(t,r.document),s=r.removedTargetIds||[];n=new Ja([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new G2(i,s),a=r.targetId;n=new jw(a,o)}}return n}function oC(t,e){let n;if(e instanceof Xo)n={update:Jg(t,e.key,e.value)};else if(e instanceof sp)n={delete:fh(t,e.key)};else if(e instanceof Hr)n={update:Jg(t,e.key,e.data),updateMask:mC(e.fieldMask)};else{if(!(e instanceof W2))return ee();n={verify:fh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Uu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Io)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ko)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zu)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:rC(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee()}(t,e.precondition)),n}function aC(t,e){return t&&t.length>0?(ge(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?nn(i.updateTime):nn(s);return o.isEqual(ne.min())&&(o=nn(s)),new $2(o,i.transformResults||[])}(n,e))):[]}function uC(t,e){return{documents:[$w(t,e.path)]}}function lC(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$w(t,i);const s=function(c){if(c.length!==0)return Ww(an.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(f=>function(y){return{field:Xr(y.field),direction:hC(y.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=dh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function cC(t){let e=iC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){const y=Hw(g);return y instanceof an&&ww(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(y=>function(A){return new Fu(Jr(A.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(g){let y;return y=typeof g=="object"?g.value:g,Cl(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(g){const y=!!g.before,k=g.values||[];return new ju(k,y)}(n.startAt));let c=null;return n.endAt&&(c=function(g){const y=!g.before,k=g.values||[];return new ju(k,y)}(n.endAt)),P2(e,i,o,s,a,"F",l,c)}function dC(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jr(n.unaryFilter.field);return xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Jr(n.unaryFilter.field);return xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Jr(n.unaryFilter.field);return xe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Jr(n.unaryFilter.field);return xe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return xe.create(Jr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return an.create(n.compositeFilter.filters.map(r=>Hw(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function hC(t){return Z2[t]}function fC(t){return eC[t]}function pC(t){return tC[t]}function Xr(t){return{fieldPath:t.canonicalString()}}function Jr(t){return Qe.fromServerFormat(t.fieldPath)}function Ww(t){return t instanceof xe?function(n){if(n.op==="=="){if(jg(n.value))return{unaryFilter:{field:Xr(n.field),op:"IS_NAN"}};if(xg(n.value))return{unaryFilter:{field:Xr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jg(n.value))return{unaryFilter:{field:Xr(n.field),op:"IS_NOT_NAN"}};if(xg(n.value))return{unaryFilter:{field:Xr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xr(n.field),op:fC(n.op),value:n.value}}}(t):t instanceof an?function(n){const r=n.getFilters().map(i=>Ww(i));return r.length===1?r[0]:{compositeFilter:{op:pC(n.op),filters:r}}}(t):ee()}function mC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Vn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.ct=e}}function _C(t){const e=cC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ch(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this._n=new yC}addToCollectionParentIndex(e,n){return this._n.add(n),D.resolve()}getCollectionParents(e,n){return D.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return D.resolve()}deleteFieldIndex(e,n){return D.resolve()}deleteAllFieldIndexes(e){return D.resolve()}createTargetIndexes(e,n){return D.resolve()}getDocumentsMatchingTarget(e,n){return D.resolve(null)}getIndexType(e,n){return D.resolve(0)}getFieldIndexes(e,n){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,n){return D.resolve(nr.min())}getMinOffsetFromCollectionGroup(e,n){return D.resolve(nr.min())}updateCollectionGroup(e,n,r){return D.resolve()}updateIndexEntries(e,n){return D.resolve()}}class yC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xe(Ee.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Mi(0)}static Bn(){return new Mi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.changes=new Xi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?D.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qs(r.mutation,i,zt.empty(),Fe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=Ir();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ks();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ir();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Tn();const o=Ws(),a=function(){return Ws()}();return n.forEach((l,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Hr)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),qs(f.mutation,c,f.mutation.getFieldMask(),Fe.now())):o.set(c.key,zt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var g;return a.set(c,new EC(f,(g=o.get(c))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ws();let i=new Ce((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let f=r.get(l)||zt.empty();f=a.applyToLocalView(c,f),r.set(l,f);const g=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,f=l.value,g=Pw();f.forEach(y=>{if(!s.has(y)){const k=Lw(n.get(y),r.get(y));k!==null&&g.set(y,k),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,g))}return D.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):b2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):D.resolve(Ir());let a=-1,l=s;return o.next(c=>D.forEach(c,(f,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(f)?D.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{l=l.insert(f,y)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ue())).next(f=>({batchId:a,changes:Aw(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=ks();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ks();return this.indexManager.getCollectionParents(e,s).next(a=>D.forEach(a,l=>{const c=function(g,y){return new Al(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((g,y)=>{o=o.insert(g,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,rt.newInvalidDocument(f)))});let a=ks();return o.forEach((l,c)=>{const f=s.get(l);f!==void 0&&qs(f.mutation,c,zt.empty(),Fe.now()),bl(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return D.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:nn(i.createTime)}}(n)),D.resolve()}getNamedQuery(e,n){return D.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:_C(i.bundledQuery),readTime:nn(i.readTime)}}(n)),D.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.overlays=new Ce(X.comparator),this.hr=new Map}getOverlay(e,n){return D.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ir();return D.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),D.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),D.resolve()}getOverlaysForCollection(e,n,r){const i=Ir(),s=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return D.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ce((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=Ir(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=Ir(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=i)););return D.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new K2(n,r));let s=this.hr.get(n);s===void 0&&(s=ue(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(){this.Pr=new Xe(ze.Ir),this.Tr=new Xe(ze.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new ze(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new ze(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new X(new Ee([])),r=new ze(n,e),i=new ze(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new X(new Ee([])),r=new ze(n,e),i=new ze(n,e+1);let s=ue();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ze(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ze{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return X.comparator(e.key,n.key)||he(e.pr,n.pr)}static Er(e,n){return he(e.pr,n.pr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Xe(ze.Ir)}checkEmpty(e){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new q2(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new ze(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return D.resolve(o)}lookupMutationBatch(e,n){return D.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return D.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ze(n,0),i=new ze(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),D.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(he);return n.forEach(i=>{const s=new ze(i,0),o=new ze(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),D.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;X.isDocumentKey(s)||(s=s.child(""));const o=new ze(new X(s),0);let a=new Xe(he);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),D.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return D.forEach(n.mutations,i=>{const s=new ze(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new ze(n,0),i=this.wr.firstAfterOrEqual(r);return D.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,D.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.vr=e,this.docs=function(){return new Ce(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return D.resolve(r?r.document.mutableCopy():rt.newInvalidDocument(n))}getEntries(e,n){let r=Tn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():rt.newInvalidDocument(i))}),D.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Tn();const o=n.path,a=new X(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||l2(u2(f),r)<=0||(i.has(f.key)||bl(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return D.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}Fr(e,n){return D.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AC(this)}getSize(e){return D.resolve(this.size)}}class AC extends wC{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),D.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.persistence=e,this.Mr=new Xi(n=>np(n),rp),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Or=0,this.Nr=new lp,this.targetCount=0,this.Br=Mi.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),D.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Mi(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,D.resolve()}updateTargetData(e,n){return this.qn(n),D.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),D.waitFor(s).next(()=>i)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return D.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),D.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),D.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),D.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return D.resolve(r)}containsKey(e,n){return D.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Jf(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new PC(this),this.indexManager=new vC,this.remoteDocumentCache=function(i){return new CC(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new gC(n),this.$r=new SC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new kC(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const i=new RC(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return D.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class RC extends d2{constructor(e){super(),this.currentSequenceNumber=e}}class cp{constructor(e){this.persistence=e,this.zr=new lp,this.jr=null}static Hr(e){return new cp(e)}get Jr(){if(this.jr)return this.jr;throw ee()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),D.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),D.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),D.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Jr,r=>{const i=X.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return D.or([()=>D.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new dp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return hT()?8:Sr.v(Ve())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new NC;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(fs()<=le.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",Yr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),D.resolve()):(fs()<=le.DEBUG&&z("QueryEngine","Query:",Yr(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(fs()<=le.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",Yr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tn(n))):D.resolve())}ji(e,n){if($g(n))return D.resolve(null);let r=tn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ch(n,null,"F"),r=tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,ch(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return $g(n)||i.isEqual(ne.min())?D.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?D.resolve(null):(fs()<=le.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yr(n)),this.es(e,o,n,a2(i,-1)).next(a=>a))})}Zi(e,n){let r=new Xe(kw(e));return n.forEach((i,s)=>{bl(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return fs()<=le.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Yr(n)),this.zi.getDocumentsMatchingQuery(e,n,nr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ce(he),this.rs=new Xi(s=>np(s),rp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TC(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function MC(t,e,n,r){return new DC(t,e,n,r)}async function Kw(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ue();for(const c of i){o.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of s){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function LC(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,f){const g=c.batch,y=g.keys();let k=D.resolve();return y.forEach(A=>{k=k.next(()=>f.getEntry(l,A)).next(C=>{const _=c.docVersions.get(A);ge(_!==null),C.version.compareTo(_)<0&&(g.applyToRemoteDocument(C,c),C.isValidDocument()&&(C.setReadTime(c.commitVersion),f.addEntry(C)))})}),k.next(()=>a.mutationQueue.removeMutationBatch(l,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Gw(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function VC(t,e){const n=ie(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((f,g)=>{const y=i.get(g);if(!y)return;a.push(n.Qr.removeMatchingKeys(s,f.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(s,f.addedDocuments,g)));let k=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?k=k.withResumeToken(lt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):f.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(f.resumeToken,r)),i=i.insert(g,k),function(C,_,p){return C.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(y,k,f)&&a.push(n.Qr.updateTargetData(s,k))});let l=Tn(),c=ue();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(xC(s,o,e.documentUpdates).next(f=>{l=f.cs,c=f.ls})),!r.isEqual(ne.min())){const f=n.Qr.getLastRemoteSnapshotVersion(s).next(g=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return D.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function xC(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Tn();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function jC(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FC(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,D.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Vn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function mh(t,e,n){const r=ie(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Yo(o))throw o;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Zg(t,e,n){const r=ie(t);let i=ne.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,f){const g=ie(l),y=g.rs.get(f);return y!==void 0?D.resolve(g.ns.get(y)):g.Qr.getTargetData(c,f)}(r,o,tn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:ue())).next(a=>(UC(r,N2(e),a),{documents:a,hs:s})))}function UC(t,e,n){let r=t.ss.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class e_{constructor(){this.activeTargetIds=x2()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zC{constructor(){this.no=new e_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new e_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba=null;function Bc(){return ba===null?ba=function(){return 268435456+Math.round(2147483648*Math.random())}():ba++,"0x"+ba.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class WC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=Bc(),l=this.bo(n,r.toUriEncodedString());z("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,l,c,i).then(f=>(z("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Ri("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",i),f})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=BC[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=Bc();return new Promise((o,a)=>{const l=new Yk;l.setWithCredentials(!0),l.listenOnce(Gk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case zc.NO_ERROR:const f=l.getResponseJson();z(Ze,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case zc.TIMEOUT:z(Ze,`RPC '${e}' ${s} timed out`),a(new G(x.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const g=l.getStatus();if(z(Ze,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);const k=y==null?void 0:y.error;if(k&&k.status&&k.message){const A=function(_){const p=_.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(p)>=0?p:x.UNKNOWN}(k.status);a(new G(A,k.message))}else a(new G(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new G(x.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{z(Ze,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);z(Ze,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=Bc(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qk(),a=Kk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");z(Ze,`Creating RPC '${e}' stream ${i}: ${f}`,l);const g=o.createWebChannel(f,l);let y=!1,k=!1;const A=new HC({lo:_=>{k?z(Ze,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(y||(z(Ze,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),z(Ze,`RPC '${e}' stream ${i} sending:`,_),g.send(_))},ho:()=>g.close()}),C=(_,p,v)=>{_.listen(p,I=>{try{v(I)}catch(u){setTimeout(()=>{throw u},0)}})};return C(g,Ca.EventType.OPEN,()=>{k||z(Ze,`RPC '${e}' stream ${i} transport opened.`)}),C(g,Ca.EventType.CLOSE,()=>{k||(k=!0,z(Ze,`RPC '${e}' stream ${i} transport closed`),A.Vo())}),C(g,Ca.EventType.ERROR,_=>{k||(k=!0,Ri(Ze,`RPC '${e}' stream ${i} transport errored:`,_),A.Vo(new G(x.UNAVAILABLE,"The operation could not be completed")))}),C(g,Ca.EventType.MESSAGE,_=>{var p;if(!k){const v=_.data[0];ge(!!v);const I=v,u=I.error||((p=I[0])===null||p===void 0?void 0:p.error);if(u){z(Ze,`RPC '${e}' stream ${i} received error:`,u);const h=u.status;let d=function(E){const T=De[E];if(T!==void 0)return xw(T)}(h),m=u.message;d===void 0&&(d=x.INTERNAL,m="Unknown error status: "+h+" with message "+u.message),k=!0,A.Vo(new G(d,m)),g.close()}else z(Ze,`RPC '${e}' stream ${i} received:`,v),A.mo(v)}}),C(a,Qk.STAT_EVENT,_=>{_.stat===Ng.PROXY?z(Ze,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Ng.NOPROXY&&z(Ze,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.Ro()},0),A}}function Hc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t){return new nC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Qw(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(sn(n.toString()),sn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new G(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qC extends Yw{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=sC(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?nn(o.readTime):ne.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=ph(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=lh(l)?{documents:uC(s,l)}:{query:lC(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Uw(s,o.resumeToken);const c=dh(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=$u(s,o.snapshotVersion.toTimestamp());const c=dh(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=dC(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=ph(this.serializer),n.removeTarget=e,this.t_(n)}}class KC extends Yw{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=aC(e.writeResults,e.commitTime),r=nn(e.commitTime);return this.listener.T_(r,n)}return ge(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=ph(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oC(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new G(x.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,hh(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(x.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,hh(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(x.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class QC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(sn(n),this.g_=!1):z("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{Wr(this)&&(z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ie(l);c.v_.add(4),await Zo(c),c.x_.set("Unknown"),c.v_.delete(4),await Ml(c)}(this))})}),this.x_=new QC(r,i)}}async function Ml(t){if(Wr(t))for(const e of t.F_)await e(!0)}async function Zo(t){for(const e of t.F_)await e(!1)}function Xw(t,e){const n=ie(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),pp(n)?fp(n):Ji(n).Jo()&&hp(n,e))}function Jw(t,e){const n=ie(t),r=Ji(n);n.C_.delete(e),r.Jo()&&Zw(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Wr(n)&&n.x_.set("Unknown"))}function hp(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ji(t).c_(e)}function Zw(t,e){t.O_.Oe(e),Ji(t).l_(e)}function fp(t){t.O_=new J2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ji(t).start(),t.x_.p_()}function pp(t){return Wr(t)&&!Ji(t).Ho()&&t.C_.size>0}function Wr(t){return ie(t).v_.size===0}function e1(t){t.O_=void 0}async function XC(t){t.C_.forEach((e,n)=>{hp(t,e)})}async function JC(t,e){e1(t),pp(t)?(t.x_.S_(e),fp(t)):t.x_.set("Unknown")}async function ZC(t,e,n){if(t.x_.set("Online"),e instanceof Fw&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bu(t,r)}else if(e instanceof Ja?t.O_.$e(e):e instanceof jw?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ne.min()))try{const r=await Gw(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.C_.get(c);f&&s.C_.set(c,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const f=s.C_.get(l);if(!f)return;s.C_.set(l,f.withResumeToken(lt.EMPTY_BYTE_STRING,f.snapshotVersion)),Zw(s,l);const g=new Vn(f.target,l,c,f.sequenceNumber);hp(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){z("RemoteStore","Failed to raise snapshot:",r),await Bu(t,r)}}async function Bu(t,e,n){if(!Yo(e))throw e;t.v_.add(1),await Zo(t),t.x_.set("Offline"),n||(n=()=>Gw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Ml(t)})}function t1(t,e){return e().catch(n=>Bu(t,n,e))}async function Ll(t){const e=ie(t),n=ir(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;eA(e);)try{const i=await jC(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,tA(e,i)}catch(i){await Bu(e,i)}n1(e)&&r1(e)}function eA(t){return Wr(t)&&t.D_.length<10}function tA(t,e){t.D_.push(e);const n=ir(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function n1(t){return Wr(t)&&!ir(t).Ho()&&t.D_.length>0}function r1(t){ir(t).start()}async function nA(t){ir(t).d_()}async function rA(t){const e=ir(t);for(const n of t.D_)e.I_(n.mutations)}async function iA(t,e,n){const r=t.D_.shift(),i=op.from(r,e,n);await t1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ll(t)}async function sA(t,e){e&&ir(t).P_&&await async function(r,i){if(function(o){return Q2(o)&&o!==x.ABORTED}(i.code)){const s=r.D_.shift();ir(r).Zo(),await t1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ll(r)}}(t,e),n1(t)&&r1(t)}async function n_(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");const r=Wr(n);n.v_.add(3),await Zo(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Ml(n)}async function oA(t,e){const n=ie(t);e?(n.v_.delete(2),await Ml(n)):e||(n.v_.add(2),await Zo(n),n.x_.set("Unknown"))}function Ji(t){return t.N_||(t.N_=function(n,r,i){const s=ie(n);return s.R_(),new qC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:XC.bind(null,t),To:JC.bind(null,t),u_:ZC.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),pp(t)?fp(t):t.x_.set("Unknown")):(await t.N_.stop(),e1(t))})),t.N_}function ir(t){return t.B_||(t.B_=function(n,r,i){const s=ie(n);return s.R_(),new KC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:nA.bind(null,t),To:sA.bind(null,t),E_:rA.bind(null,t),T_:iA.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Ll(t)):(await t.B_.stop(),t.D_.length>0&&(z("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new mp(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gp(t,e){if(sn("AsyncQueue",`${e}: ${t}`),Yo(t))return new G(x.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=ks(),this.sortedSet=new Ce(this.comparator)}static emptySet(e){return new Si(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Si)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Si;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.L_=new Ce(X.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ee():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Li{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Li(e,n,Si.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.q_=void 0,this.Q_=[]}}class uA{constructor(){this.queries=new Xi(e=>Iw(e),Pl),this.onlineState="Unknown",this.K_=new Set}}async function lA(t,e){const n=ie(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new aA),i)try{s.q_=await n.onListen(r)}catch(o){const a=gp(o,`Initialization of query '${Yr(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&_p(n)}async function cA(t,e){const n=ie(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function dA(t,e){const n=ie(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&_p(n)}function hA(t,e,n){const r=ie(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function _p(t){t.K_.forEach(e=>{e.next()})}class fA{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Li(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Li.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.key=e}}class s1{constructor(e){this.key=e}}class pA{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ue(),this.mutatedKeys=ue(),this.ua=kw(e),this.ca=new Si(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new r_,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{const y=i.get(f),k=bl(this.query,g)?g:null,A=!!y&&this.mutatedKeys.has(y.key),C=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let _=!1;y&&k?y.data.isEqual(k.data)?A!==C&&(r.track({type:3,doc:k}),_=!0):this.Ia(y,k)||(r.track({type:2,doc:k}),_=!0,(l&&this.ua(k,l)>0||c&&this.ua(k,c)<0)&&(a=!0)):!y&&k?(r.track({type:0,doc:k}),_=!0):y&&!k&&(r.track({type:1,doc:y}),_=!0,(l||c)&&(a=!0)),_&&(k?(o=o.add(k),s=C?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((f,g)=>function(k,A){const C=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return C(k)-C(A)}(f.type,g.type)||this.ua(f.doc,g.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,c=l!==this._a;return this._a=l,o.length!==0||c?{snapshot:new Li(this.query,e.ca,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new r_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=ue(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new s1(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new i1(r))}),n}Ra(e){this.oa=e.hs,this.aa=ue();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Li.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class mA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gA{constructor(e){this.key=e,this.ma=!1}}class _A{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Xi(a=>Iw(a),Pl),this.pa=new Map,this.ya=new Set,this.wa=new Ce(X.comparator),this.Sa=new Map,this.ba=new lp,this.Da={},this.Ca=new Map,this.va=Mi.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function vA(t,e){const n=PA(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await FC(n.localStore,tn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await yA(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Xw(n.remoteStore,o)}return i}async function yA(t,e,n,r,i){t.Ma=(g,y,k)=>async function(C,_,p,v){let I=_.view.ha(p);I.Xi&&(I=await Zg(C.localStore,_.query,!1).then(({documents:m})=>_.view.ha(m,I)));const u=v&&v.targetChanges.get(_.targetId),h=v&&v.targetMismatches.get(_.targetId)!=null,d=_.view.applyChanges(I,C.isPrimaryClient,u,h);return s_(C,_.targetId,d.da),d.snapshot}(t,g,y,k);const s=await Zg(t.localStore,e,!0),o=new pA(e,s.hs),a=o.ha(s.documents),l=Jo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);s_(t,n,c.da);const f=new mA(e,n,o);return t.ga.set(e,f),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}async function wA(t,e){const n=ie(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Pl(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await mh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Jw(n.remoteStore,r.targetId),gh(n,r.targetId)}).catch(Qo)):(gh(n,r.targetId),await mh(n.localStore,r.targetId,!0))}async function EA(t,e,n){const r=bA(t);try{const i=await function(o,a){const l=ie(o),c=Fe.now(),f=a.reduce((k,A)=>k.add(A.key),ue());let g,y;return l.persistence.runTransaction("Locally write mutations","readwrite",k=>{let A=Tn(),C=ue();return l.os.getEntries(k,f).next(_=>{A=_,A.forEach((p,v)=>{v.isValidDocument()||(C=C.add(p))})}).next(()=>l.localDocuments.getOverlayedDocuments(k,A)).next(_=>{g=_;const p=[];for(const v of a){const I=H2(v,g.get(v.key).overlayedDocument);I!=null&&p.push(new Hr(v.key,I,_w(I.value.mapValue),$t.exists(!0)))}return l.mutationQueue.addMutationBatch(k,c,p,a)}).next(_=>{y=_;const p=_.applyToLocalDocumentSet(g,C);return l.documentOverlayCache.saveOverlays(k,_.batchId,p)})}).then(()=>({batchId:y.batchId,changes:Aw(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Da[o.currentUser.toKey()];c||(c=new Ce(he)),c=c.insert(a,l),o.Da[o.currentUser.toKey()]=c}(r,i.batchId,n),await ea(r,i.changes),await Ll(r.remoteStore)}catch(i){const s=gp(i,"Failed to persist write");n.reject(s)}}async function o1(t,e){const n=ie(t);try{const r=await VC(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ge(o.ma):i.removedDocuments.size>0&&(ge(o.ma),o.ma=!1))}),await ea(n,r,e)}catch(r){await Qo(r)}}function i_(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ie(o);l.onlineState=a;let c=!1;l.queries.forEach((f,g)=>{for(const y of g.Q_)y.U_(a)&&(c=!0)}),c&&_p(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TA(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Ce(X.comparator);o=o.insert(s,rt.newNoDocument(s,ne.min()));const a=ue().add(s),l=new Ol(ne.min(),new Map,new Ce(he),o,a);await o1(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),vp(r)}else await mh(r.localStore,e,!1).then(()=>gh(r,e,n)).catch(Qo)}async function SA(t,e){const n=ie(t),r=e.batch.batchId;try{const i=await LC(n.localStore,e);u1(n,r,null),a1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ea(n,i)}catch(i){await Qo(i)}}async function IA(t,e,n){const r=ie(t);try{const i=await function(o,a){const l=ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return l.mutationQueue.lookupMutationBatch(c,a).next(g=>(ge(g!==null),f=g.keys(),l.mutationQueue.removeMutationBatch(c,g))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>l.localDocuments.getDocuments(c,f))})}(r.localStore,e);u1(r,e,n),a1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ea(r,i)}catch(i){await Qo(i)}}function a1(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function u1(t,e,n){const r=ie(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function gh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||l1(t,r)})}function l1(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(Jw(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),vp(t))}function s_(t,e,n){for(const r of n)r instanceof i1?(t.ba.addReference(r.key,e),kA(t,r)):r instanceof s1?(z("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||l1(t,r.key)):ee()}function kA(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(z("SyncEngine","New document in limbo: "+n),t.ya.add(r),vp(t))}function vp(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new X(Ee.fromString(e)),r=t.va.next();t.Sa.set(r,new gA(n)),t.wa=t.wa.insert(n,r),Xw(t.remoteStore,new Vn(tn(ip(n.path)),r,"TargetPurposeLimboResolution",Jf._e))}}async function ea(t,e,n){const r=ie(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const f=dp.Ki(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,c){const f=ie(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>D.forEach(c,y=>D.forEach(y.qi,k=>f.persistence.referenceDelegate.addReference(g,y.targetId,k)).next(()=>D.forEach(y.Qi,k=>f.persistence.referenceDelegate.removeReference(g,y.targetId,k)))))}catch(g){if(!Yo(g))throw g;z("LocalStore","Failed to update sequence numbers: "+g)}for(const g of c){const y=g.targetId;if(!g.fromCache){const k=f.ns.get(y),A=k.snapshotVersion,C=k.withLastLimboFreeSnapshotVersion(A);f.ns=f.ns.insert(y,C)}}}(r.localStore,s))}async function CA(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());const r=await Kw(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new G(x.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ea(n,r.us)}}function AA(t,e){const n=ie(t),r=n.Sa.get(e);if(r&&r.ma)return ue().add(r.key);{let i=ue();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function PA(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=o1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TA.bind(null,e),e.fa.u_=dA.bind(null,e.eventManager),e.fa.xa=hA.bind(null,e.eventManager),e}function bA(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IA.bind(null,e),e}class o_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Dl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return MC(this.persistence,new OC,e.initialUser,this.serializer)}createPersistence(e){return new bC(cp.Hr,this.serializer)}createSharedClientState(e){return new zC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class RA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>i_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CA.bind(null,this.syncEngine),await oA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uA}()}createDatastore(e){const n=Dl(e.databaseInfo.databaseId),r=function(s){return new WC(s)}(e.databaseInfo);return function(s,o,a,l){return new GC(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new YC(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>i_(this.syncEngine,n,0),function(){return t_.D()?new t_:new $C}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,f){const g=new _A(i,s,o,a,l,c);return f&&(g.Fa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ie(r);z("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Zo(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):sn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nt.UNAUTHENTICATED,this.clientId=pw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wc(t,e){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Kw(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function a_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await MA(t);z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>n_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>n_(e.remoteStore,i)),t._onlineComponents=e}function DA(t){return t.name==="FirebaseError"?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function MA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!DA(n))throw n;Ri("Error using user provided cache. Falling back to memory cache: "+n),await Wc(t,new o_)}}else z("FirestoreClient","Using default OfflineComponentProvider"),await Wc(t,new o_);return t._offlineComponents}async function c1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),await a_(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),await a_(t,new RA))),t._onlineComponents}function LA(t){return c1(t).then(e=>e.syncEngine)}async function u_(t){const e=await c1(t),n=e.eventManager;return n.onListen=vA.bind(null,e.syncEngine),n.onUnlisten=wA.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t,e,n){if(!n)throw new G(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VA(t,e,n,r){if(e===!0&&r===!0)throw new G(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function c_(t){if(!X.isDocumentKey(t))throw new G(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function d_(t){if(X.isDocumentKey(t))throw new G(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function Qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yp(t);throw new G(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Jk;switch(r.type){case"firstParty":return new n2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=l_.get(n);r&&(z("ComponentProvider","Removing Datastore"),l_.delete(n),r.terminate())}(this),Promise.resolve()}}function xA(t,e,n,r={}){var i;const s=(t=Qn(t,Vl))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ri("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=nt.MOCK_USER;else{a=oT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new G(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new nt(c)}t._authCredentials=new Zk(new fw(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xl(this.firestore,e,this._query)}}class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}}class Yn extends xl{constructor(e,n,r){super(e,n,ip(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new X(e))}withConverter(e){return new Yn(this.firestore,e,this._path)}}function f_(t,e,...n){if(t=ht(t),h1("collection","path",e),t instanceof Vl){const r=Ee.fromString(e,...n);return d_(r),new Yn(t,null,r)}{if(!(t instanceof Tt||t instanceof Yn))throw new G(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return d_(r),new Yn(t.firestore,null,r)}}function _h(t,e,...n){if(t=ht(t),arguments.length===1&&(e=pw.newId()),h1("doc","path",e),t instanceof Vl){const r=Ee.fromString(e,...n);return c_(r),new Tt(t,null,new X(r))}{if(!(t instanceof Tt||t instanceof Yn))throw new G(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return c_(r),new Tt(t.firestore,t instanceof Yn?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Qw(this,"async_queue_retry"),this._u=()=>{const n=Hc();n&&z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Hc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Hc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Gn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Yo(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw sn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=mp.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&ee()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function p_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Vi extends Vl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new jA}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||p1(this),this._firestoreClient.terminate()}}function FA(t,e){const n=typeof t=="object"?t:by(),r=typeof t=="string"?t:e||"(default)",i=_f(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=iT("firestore");s&&xA(i,...s)}return i}function f1(t){return t._firestoreClient||p1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function p1(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,f){return new g2(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,d1(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new OA(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xi(lt.fromBase64String(e))}catch(n){throw new G(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xi(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=/^__.*__$/;class zA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xo(e,this.data,n,this.fieldTransforms)}}function g1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class Tp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Tp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Hu(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(g1(this.du)&&UA.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class $A{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dl(e)}Su(e,n,r,i=!1){return new Tp({du:e,methodName:n,wu:r,path:Qe.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _1(t){const e=t._freezeSettings(),n=Dl(t._databaseId);return new $A(t._databaseId,!!e.ignoreUndefinedProperties,n)}function v1(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);T1("Data must be an object, but it was:",o,r);const a=w1(r,o);let l,c;if(s.merge)l=new zt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const g of s.mergeFields){const y=BA(e,g,n);if(!o.contains(y))throw new G(x.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);WA(f,y)||f.push(y)}l=new zt(f),c=o.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,c=o.fieldTransforms;return new zA(new bt(a),l,c)}function y1(t,e){if(E1(t=ht(t)))return T1("Unsupported field value:",e,t),w1(t,e);if(t instanceof m1)return function(r,i){if(!g1(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=y1(a,i.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return j2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Fe.fromDate(r);return{timestampValue:$u(i.serializer,s)}}if(r instanceof Fe){const s=new Fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$u(i.serializer,s)}}if(r instanceof Ep)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xi)return{bytesValue:Uw(i.serializer,r._byteString)};if(r instanceof Tt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:up(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${yp(r)}`)}(t,e)}function w1(t,e){const n={};return mw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(t,(r,i)=>{const s=y1(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function E1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof Ep||t instanceof xi||t instanceof Tt||t instanceof m1)}function T1(t,e,n){if(!E1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=yp(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function BA(t,e,n){if((e=ht(e))instanceof wp)return e._internalPath;if(typeof e=="string")return S1(t,e);throw Hu("Field path arguments must be of type string or ",t,!1,void 0,n)}const HA=new RegExp("[~\\*/\\[\\]]");function S1(t,e,n){if(e.search(HA)>=0)throw Hu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wp(...e.split("."))._internalPath}catch{throw Hu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new G(x.INVALID_ARGUMENT,a+t+l)}function WA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(k1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qA extends I1{data(){return super.data()}}function k1(t,e){return typeof e=="string"?S1(t,e):e instanceof wp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GA{convertValue(e,n="none"){switch(xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ep(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ep(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Eo(e));default:return null}}convertTimestamp(e){const n=rr(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);ge(qw(r));const i=new To(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(n)||sn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class A1 extends I1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Za(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(k1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Za extends A1{data(e={}){return super.data(e)}}class QA{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new As(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Za(this._firestore,this._userDataWriter,r.key,r,new As(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Za(i._firestore,i._userDataWriter,a.doc.key,a.doc,new As(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Za(i._firestore,i._userDataWriter,a.doc.key,a.doc,new As(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:YA(a.type),doc:l,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function YA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}class P1 extends GA{constructor(e){super(),this.firestore=e}convertBytes(e){return new xi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function XA(t,e,n){t=Qn(t,Tt);const r=Qn(t.firestore,Vi),i=C1(t.converter,e,n);return Sp(r,[v1(_1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$t.none())])}function JA(t){return Sp(Qn(t.firestore,Vi),[new sp(t._key,$t.none())])}function ZA(t,e){const n=Qn(t.firestore,Vi),r=_h(t),i=C1(t.converter,e);return Sp(n,[v1(_1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$t.exists(!1))]).then(()=>r)}function eP(t,...e){var n,r,i;t=ht(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||p_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(p_(e[o])){const g=e[o];e[o]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[o+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[o+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let l,c,f;if(t instanceof Tt)c=Qn(t.firestore,Vi),f=ip(t._key.path),l={next:g=>{e[o]&&e[o](tP(c,t,g))},error:e[o+1],complete:e[o+2]};else{const g=Qn(t,xl);c=Qn(g.firestore,Vi),f=g._query;const y=new P1(c);l={next:k=>{e[o]&&e[o](new QA(c,y,g,k))},error:e[o+1],complete:e[o+2]},KA(t._query)}return function(y,k,A,C){const _=new NA(C),p=new fA(k,_,A);return y.asyncQueue.enqueueAndForget(async()=>lA(await u_(y),p)),()=>{_.La(),y.asyncQueue.enqueueAndForget(async()=>cA(await u_(y),p))}}(f1(c),f,a,l)}function Sp(t,e){return function(r,i){const s=new Gn;return r.asyncQueue.enqueueAndForget(async()=>EA(await LA(r),i,s)),s.promise}(f1(t),e)}function tP(t,e,n){const r=n.docs.get(e._key),i=new P1(t);return new A1(t,i,e._key,r,new As(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Qi=i})(Wi),Pi(new Nr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Vi(new e2(r.getProvider("auth-internal")),new i2(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new To(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Kn(Og,"4.4.3",e),Kn(Og,"4.4.3","esm2017")})();const nP={apiKey:"AIzaSyBF9Hv3qrhTLjDa9p6J48q6o2ixUvFEW9E",authDomain:"note-demo-a139e.firebaseapp.com",projectId:"note-demo-a139e",storageBucket:"note-demo-a139e.appspot.com",messagingSenderId:"759346639968",appId:"1:759346639968:web:05231fc2d835a75ca57f05"},b1=Py(nP),Ra=FA(b1),ta=$8(b1),jl=ke.createContext({});function rP(t){const{authUser:e}=ke.useContext(jl),n=()=>{Zy(ta),window.location.reload()},r=t.notes.map((i,s)=>Y.jsx("div",{children:Y.jsxs("div",{className:`title ${i.id===t.currentNote.id?"selected-note":""}`,onClick:()=>t.setCurrentNoteId(i.id),children:[Y.jsx("h4",{className:"text-snippet",children:i.body.split(`
`)[0]}),Y.jsx("button",{className:"delete-btn",onClick:()=>t.deleteNote(i.id),children:Y.jsx("i",{className:"gg-trash trash-icon"})})]})},i.id));return Y.jsxs("section",{className:"pane sidebar",children:[Y.jsxs("div",{className:"sidebar--header",children:[Y.jsx("h3",{children:"Notes"})," ",e&&Y.jsx("button",{onClick:n,children:"Log Out"}),Y.jsx("button",{className:"new-note",onClick:t.newNote,children:"+"})]}),r]})}var qc={},Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.getBreaksNeededForEmptyLineAfter=Le.getBreaksNeededForEmptyLineBefore=Le.selectWord=Le.getSurroundingWord=void 0;function R1(t,e){if(!t)throw Error("Argument 'text' should be truthy");for(var n=function(o){return o===" "||o.charCodeAt(0)===10},r=0,i=t.length,s=e;s-1>-1;s--)if(n(t[s-1])){r=s;break}for(var s=e;s<t.length;s++)if(n(t[s])){i=s;break}return{start:r,end:i}}Le.getSurroundingWord=R1;function iP(t){var e=t.text,n=t.selection;return e&&e.length&&n.start===n.end?R1(e,n.start):n}Le.selectWord=iP;function sP(t,e){if(t===void 0&&(t=""),e===0)return 0;for(var n=2,r=!0,i=e-1;i>=0&&n>=0;i--)switch(t.charCodeAt(i)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}Le.getBreaksNeededForEmptyLineBefore=sP;function oP(t,e){if(t===void 0&&(t=""),e===t.length-1)return 0;for(var n=2,r=!0,i=e;i<t.length&&n>=0;i++)switch(t.charCodeAt(i)){case 32:continue;case 10:{n--,r=!1;break}default:return n}return r?0:n}Le.getBreaksNeededForEmptyLineAfter=oP;var Kc={},na={},kn={};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/Object.defineProperty(kn,"__esModule",{value:!0});kn.classNames=void 0;function aP(t){return typeof t=="string"}function uP(t){return Array.isArray(t)&&t.length>0}function lP(t){return typeof t=="object"}function N1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0;r<t.length;r++){var i=t[r];if(i){if(aP(i))n.push(i);else if(uP(i)){var s=N1.apply(null,i);s&&n.push(s)}else if(lP(i))for(var o in i)i.hasOwnProperty(o)&&i[o]&&n.push(o)}}return n.join(" ")}kn.classNames=N1;Object.defineProperty(na,"__esModule",{value:!0});na.ToolbarButtonGroup=void 0;var cP=ke,dP=kn,hP=function(t){return cP.createElement("ul",{className:dP.classNames("mde-header-group",{hidden:t.hidden})},t.children)};na.ToolbarButtonGroup=hP;var ra={},ai=re&&re.__assign||function(){return ai=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ai.apply(this,arguments)};Object.defineProperty(ra,"__esModule",{value:!0});ra.ToolbarButton=void 0;var m_=ke,fP={tabIndex:-1},pP=function(t){var e=t.buttonComponentClass,n=t.buttonContent,r=t.buttonProps,i=t.onClick,s=t.readOnly,o=t.name,a=ai(ai({},fP),r||{}),l=e||"button";return m_.createElement("li",{className:"mde-header-item"},m_.createElement(l,ai(ai({"data-name":o},a),{onClick:i,disabled:s,type:"button"}),n))};ra.ToolbarButton=pP;var ia={};Object.defineProperty(ia,"__esModule",{value:!0});ia.MdeFontAwesomeIcon=void 0;var mP=ke,gP=function(t){var e=t.icon,n=e;switch(e){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":n="tasks";break;case"ordered-list":n="list-ol";break;case"checked-list":n="tasks";break;default:n=e}return mP.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})};ia.MdeFontAwesomeIcon=gP;var Fl={},_P=re&&re.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Fl,"__esModule",{value:!0});Fl.Preview=void 0;var Na=ke,vP=kn,yP=function(t){_P(e,t);function e(n){var r=t.call(this,n)||this;return r.state={loading:!0},r}return e.prototype.componentDidMount=function(){this.generatePreview()},e.prototype.componentDidUpdate=function(n,r){this.props.markdown!==n.markdown&&this.generatePreview()},e.prototype.generatePreview=function(){var n=this,r=this.props,i=r.markdown,s=r.generateMarkdownPreview;s(i).then(function(o){n.setState({preview:o,loading:!1})})},e.prototype.render=function(){var n=this.props,r=n.classes,i=n.minHeight,s=n.loadingPreview,o=n.refObject,a=n.heightUnits,l=this.state,c=l.preview,f=l.loading,g=f?s:c,y;typeof g=="string"?y=Na.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:g||"<p>&nbsp;</p>"},ref:o}):y=Na.createElement("div",{className:"mde-preview-content"},g);var k=i&&a?i+10+a:i+10;return Na.createElement("div",{className:vP.classNames("mde-preview",r,{loading:f}),style:{minHeight:k},"data-testid":"mde-preview"},y)},e}(Na.Component);Fl.Preview=yP;var Ul={},zl={};Object.defineProperty(zl,"__esModule",{value:!0});zl.getCaretCoordinates=void 0;var wP=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],O1=typeof window<"u",EP=O1&&window.mozInnerScreenX!=null;function TP(t,e){if(!O1)throw new Error("getCaretCoordinates should only be called in a browser");var n=document.createElement("div");n.id="input-textarea-caret-position-mirror-div",document.body.appendChild(n);var r=n.style,i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;r.whiteSpace="pre-wrap",r.wordWrap="break-word",r.position="absolute",r.visibility="hidden",wP.forEach(function(a){r[a]=i[a]}),EP?t.scrollHeight>parseInt(i.height)&&(r.overflowY="scroll"):r.overflow="hidden",n.textContent=t.value.substring(0,t.selectionStart),e&&(n.textContent+=e);var s=document.createElement("span");s.textContent=t.value.substring(t.selectionEnd)||".",n.appendChild(s);var o={top:s.offsetTop+parseInt(i.borderTopWidth),left:s.offsetLeft+parseInt(i.borderLeftWidth),lineHeight:parseInt(i.lineHeight)};return document.body.removeChild(n),o}zl.getCaretCoordinates=TP;var sa={};/*!
 * The MIT License
   Copyright (c) 2018 Dmitriy Kubyshkin
   Copied from https://github.com/grassator/insert-text-at-cursor
 */Object.defineProperty(sa,"__esModule",{value:!0});sa.insertText=void 0;function SP(t,e){if(t.focus(),document.selection){var n=document.selection.createRange();n.text=e,n.collapse(!1),n.select();return}var r=document.execCommand("insertText",!1,e);if(!r){var i=t.selectionStart,s=t.selectionEnd;if(typeof t.setRangeText=="function")t.setRangeText(e);else if(IP(t)){var o=document.createTextNode(e),a=t.firstChild;if(!a)t.appendChild(o);else{for(var l=0,c=null,f=null,g=document.createRange();a&&(c===null||f===null);){var y=a.nodeValue.length;i>=l&&i<=l+y&&g.setStart(c=a,i-l),s>=l&&s<=l+y&&g.setEnd(f=a,s-l),l+=y,a=a.nextSibling}i!==s&&g.deleteContents(),g.insertNode(o)}}else{var k=t.value;t.value=k.slice(0,i)+e+k.slice(s)}t.setSelectionRange(i+e.length,i+e.length);var A=document.createEvent("UIEvent");A.initEvent("input",!0,!1),t.dispatchEvent(A)}}sa.insertText=SP;function IP(t){if(t.nodeName!=="TEXTAREA")return!1;var e;if(typeof e>"u"){var n=document.createElement("textarea");n.value="1",e=!!n.firstChild}return e}var $l={};Object.defineProperty($l,"__esModule",{value:!0});$l.mod=void 0;function kP(t,e){return(t%e+e)%e}$l.mod=kP;var oa={};Object.defineProperty(oa,"__esModule",{value:!0});oa.SuggestionsDropdown=void 0;var g_=ke,CP=kn,AP=function(t){var e=t.classes,n=t.suggestions,r=t.caret,i=t.onSuggestionSelected,s=t.suggestionsAutoplace,o=t.focusIndex,a=t.textAreaRef,l=function(C){C.preventDefault();var _=parseInt(C.currentTarget.attributes["data-index"].value);i(_)},c=function(C){return C.preventDefault()},f=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),g=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),y=r.left-a.current.scrollLeft,k=r.top-a.current.scrollTop,A={};return s&&k+a.current.getBoundingClientRect().top>g/2?A.bottom=a.current.offsetHeight-k:A.top=k,s&&y+a.current.getBoundingClientRect().left>f/2?A.right=a.current.offsetWidth-y:A.left=y,g_.createElement("ul",{className:CP.classNames("mde-suggestions",e),style:A},n.map(function(C,_){return g_.createElement("li",{onClick:l,onMouseDown:c,key:_,"aria-selected":o===_?"true":"false","data-index":""+_},C.preview)}))};oa.SuggestionsDropdown=AP;var PP=re&&re.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yt=re&&re.__assign||function(){return yt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yt.apply(this,arguments)};Object.defineProperty(Ul,"__esModule",{value:!0});Ul.TextArea=void 0;var Oa=ke,bP=kn,RP=zl,NP=sa,OP=$l,DP=oa,MP=function(t){PP(e,t);function e(n){var r=t.call(this,n)||this;return r.currentLoadSuggestionsPromise=Promise.resolve(void 0),r.suggestionsPromiseIndex=0,r.getTextArea=function(){return r.props.refObject.current},r.handleOnChange=function(i){var s=r.props.onChange;s(i.target.value)},r.handleBlur=function(){var i=r.state.mention;i&&r.setState({mention:{status:"inactive",suggestions:[]}})},r.startLoadingSuggestions=function(i){var s=++r.suggestionsPromiseIndex,o=r.props.loadSuggestions;r.currentLoadSuggestionsPromise=r.currentLoadSuggestionsPromise.then(function(){return o(i,r.state.mention.triggeredBy)}).then(function(a){if(r.state.mention.status!=="inactive")return r.suggestionsPromiseIndex===s&&(!a||!a.length?r.setState({mention:{status:"inactive",suggestions:[]}}):r.setState({mention:yt(yt({},r.state.mention),{status:"active",suggestions:a,focusIndex:0})}),r.suggestionsPromiseIndex=0),Promise.resolve()})},r.loadEmptySuggestion=function(i,s){var o=RP.getCaretCoordinates(i,s);r.startLoadingSuggestions(""),r.setState({mention:{status:"loading",startPosition:i.selectionStart+1,caret:o,suggestions:[],triggeredBy:s}})},r.handleSuggestionSelected=function(i){var s=r.state.mention;r.getTextArea().selectionStart=s.startPosition-1,r.props.value.substr(r.getTextArea().selectionStart,r.getTextArea().selectionEnd-r.getTextArea().selectionStart),NP.insertText(r.getTextArea(),s.suggestions[i].value+" "),r.setState({mention:{status:"inactive",suggestions:[]}})},r.handleKeyDown=function(i){if(r.props.onPossibleKeyCommand){var s=r.props.onPossibleKeyCommand(i);if(s){i.preventDefault(),r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});return}}if(r.suggestionsEnabled()){var o=i.key,a=i.shiftKey,l=i.currentTarget,c=l.selectionStart,f=r.state.mention;switch(f.status){case"loading":case"active":if(o==="Escape"||o==="Backspace"&&c<=r.state.mention.startPosition)r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});else if(f.status==="active"&&(o==="ArrowUp"||o==="ArrowDown")&&!a){i.preventDefault();var g=o==="ArrowUp"?-1:1;r.setState({mention:yt(yt({},f),{focusIndex:OP.mod(f.focusIndex+g,f.suggestions.length)})})}else o==="Enter"&&f.status==="active"&&f.suggestions.length&&(i.preventDefault(),r.handleSuggestionSelected(f.focusIndex));break}}},r.handleKeyUp=function(i){var s=i.key,o=r.state.mention,a=r.props,l=a.suggestionTriggerCharacters,c=a.value;switch(o.status){case"loading":case"active":if(s==="Backspace"){var f=c.substr(o.startPosition,r.getTextArea().selectionStart-o.startPosition);r.startLoadingSuggestions(f),o.status!=="loading"&&r.setState({mention:yt(yt({},r.state.mention),{status:"loading"})})}break;case"inactive":if(s==="Backspace"){var g=c.charAt(r.getTextArea().selectionStart-1),y=l.includes(c.charAt(r.getTextArea().selectionStart-1));y&&r.loadEmptySuggestion(i.currentTarget,g)}break}},r.handleKeyPress=function(i){var s=r.props,o=s.suggestionTriggerCharacters,a=s.value,l=r.state.mention,c=i.key;switch(l.status){case"loading":case"active":if(c===" "){r.setState({mention:yt(yt({},r.state.mention),{status:"inactive"})});return}var f=a.substr(l.startPosition,r.getTextArea().selectionStart-l.startPosition)+c;r.startLoadingSuggestions(f),l.status!=="loading"&&r.setState({mention:yt(yt({},r.state.mention),{status:"loading"})});break;case"inactive":if(o.indexOf(i.key)===-1||!/\s|\(|\[|^.{0}$/.test(a.charAt(r.getTextArea().selectionStart-1)))return;r.loadEmptySuggestion(i.currentTarget,i.key);break}},r.state={mention:{status:"inactive",suggestions:[]}},r}return e.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},e.prototype.render=function(){var n=this,r=this.props,i=r.classes,s=r.readOnly,o=r.textAreaProps,a=r.height,l=r.heightUnits,c=r.value,f=r.suggestionTriggerCharacters,g=r.loadSuggestions,y=r.suggestionsDropdownClasses,k=r.textAreaComponent,A=r.onPaste,C=r.onDrop,_=f&&f.length&&g,p=this.state.mention,v=k||"textarea",I=a&&l?a+l:a;return Oa.createElement("div",{className:"mde-textarea-wrapper"},Oa.createElement(v,yt({className:bP.classNames("mde-text",i),style:{height:I},ref:this.props.refObject,readOnly:s,value:c,"data-testid":"text-area"},o,{onChange:function(u){var h;(h=o==null?void 0:o.onChange)===null||h===void 0||h.call(o,u),n.handleOnChange(u)},onBlur:function(u){var h;(h=o==null?void 0:o.onBlur)===null||h===void 0||h.call(o,u),_&&n.handleBlur()},onKeyDown:function(u){var h;(h=o==null?void 0:o.onKeyDown)===null||h===void 0||h.call(o,u),n.handleKeyDown(u)},onKeyUp:function(u){var h;(h=o==null?void 0:o.onKeyUp)===null||h===void 0||h.call(o,u),_&&n.handleKeyUp(u)},onKeyPress:function(u){var h;(h=o==null?void 0:o.onKeyPress)===null||h===void 0||h.call(o,u),_&&n.handleKeyPress(u)},onPaste:function(u){var h;(h=o==null?void 0:o.onPaste)===null||h===void 0||h.call(o,u),A(u)},onDragOver:function(u){u.preventDefault(),u.stopPropagation()},onDrop:function(u){var h;(h=o==null?void 0:o.onDrop)===null||h===void 0||h.call(o,u),C(u),u.preventDefault()}})),p.status==="active"&&p.suggestions.length&&Oa.createElement(DP.SuggestionsDropdown,{classes:y,caret:p.caret,suggestions:p.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:p.focusIndex,textAreaRef:this.props.refObject}))},e}(Oa.Component);Ul.TextArea=MP;var Bl={},LP=re&&re.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ui=re&&re.__assign||function(){return ui=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ui.apply(this,arguments)};Object.defineProperty(Bl,"__esModule",{value:!0});Bl.Toolbar=void 0;var hr=ke,Gc=kn,VP=na,xP=ra,jP=function(t){LP(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleTabChange=function(r){var i=n.props.onTabChange;i(r)},n}return e.prototype.render=function(){var n=this,r=this.props.l18n,i=this.props,s=i.classes,o=i.children,a=i.buttons,l=i.onCommand,c=i.readOnly,f=i.disablePreview,g=i.writeButtonProps,y=i.previewButtonProps,k=i.buttonProps;if((!a||a.length===0)&&!o)return null;var A=hr.createElement("div",{className:"mde-tabs"},hr.createElement("button",ui({type:"button",className:Gc.classNames({selected:this.props.tab==="write"}),onClick:function(){return n.handleTabChange("write")}},g),r.write),hr.createElement("button",ui({type:"button",className:Gc.classNames({selected:this.props.tab==="preview"}),onClick:function(){return n.handleTabChange("preview")}},y),r.preview));return hr.createElement("div",{className:Gc.classNames("mde-header",s)},!f&&A,a.map(function(C,_){return hr.createElement(VP.ToolbarButtonGroup,{key:_,hidden:n.props.tab==="preview"},C.map(function(p,v){return hr.createElement(xP.ToolbarButton,{key:v,name:p.commandName,buttonContent:p.buttonContent,buttonProps:ui(ui({},k||{}),p.buttonProps),onClick:function(){return l(p.commandName)},readOnly:c,buttonComponentClass:p.buttonComponentClass})}))}))},e}(hr.Component);Bl.Toolbar=jP;var ps={},rn={},Hl={};Object.defineProperty(Hl,"__esModule",{value:!0});Hl.headerCommand=void 0;var FP=Le;function UP(t,e,n){var r=FP.selectWord({text:t.text,selection:t.selection}),i=e.setSelectionRange(r),s=e.replaceSelection(""+n+i.selectedText);e.setSelectionRange({start:s.selection.end-i.selectedText.length,end:s.selection.end})}Hl.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(t){var e=t.initialState,n=t.textApi;UP(e,n,"### ")}};var Wl={};Object.defineProperty(Wl,"__esModule",{value:!0});Wl.boldCommand=void 0;var zP=Le;Wl.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(t){var e=t.initialState,n=t.textApi,r=zP.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("**"+i.selectedText+"**");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="b"}};var ql={};Object.defineProperty(ql,"__esModule",{value:!0});ql.italicCommand=void 0;var $P=Le;ql.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(t){var e=t.initialState,n=t.textApi,r=$P.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("*"+i.selectedText+"*");n.setSelectionRange({start:s.selection.end-1-i.selectedText.length,end:s.selection.end-1})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="i"}};var Kl={};Object.defineProperty(Kl,"__esModule",{value:!0});Kl.strikeThroughCommand=void 0;var BP=Le;Kl.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(t){var e=t.initialState,n=t.textApi,r=BP.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("~~"+i.selectedText+"~~");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})}};var Gl={};Object.defineProperty(Gl,"__esModule",{value:!0});Gl.linkCommand=void 0;var HP=Le;Gl.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(t){var e=t.initialState,n=t.textApi,r=HP.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("["+i.selectedText+"](url)");n.setSelectionRange({start:s.selection.end-6-i.selectedText.length,end:s.selection.end-6})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="k"}};var Ql={};Object.defineProperty(Ql,"__esModule",{value:!0});Ql.quoteCommand=void 0;var Qc=Le;Ql.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(t){var e=t.initialState,n=t.textApi,r=Qc.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=Qc.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),o=Array(s+1).join(`
`),a=Qc.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),l=Array(a+1).join(`
`);n.replaceSelection(o+"> "+i.selectedText+l);var c=i.selection.start+s+2,f=c+i.selectedText.length;n.setSelectionRange({start:c,end:f})}};var Yl={};Object.defineProperty(Yl,"__esModule",{value:!0});Yl.codeCommand=void 0;var Yc=Le;Yl.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(t){var e=t.initialState,n=t.textApi,r=Yc.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r);if(i.selectedText.indexOf(`
`)===-1){n.replaceSelection("`"+i.selectedText+"`");var s=i.selection.start+1,o=s+i.selectedText.length;n.setSelectionRange({start:s,end:o});return}var a=Yc.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),l=Array(a+1).join(`
`),c=Yc.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),f=Array(c+1).join(`
`);n.replaceSelection(l+"```\n"+i.selectedText+"\n```"+f);var g=i.selection.start+a+4,y=g+i.selectedText.length;n.setSelectionRange({start:g,end:y})}};var D1={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0;var e=Le;function n(i,s){var o=i.split(/\n/),a=0,l=o.map(function(c,f){if(typeof s=="string")return a+=s.length,s+c;if(typeof s=="function"){var g=s(c,f);return a+=g.length,s(c,f)+c}throw Error("insertion is expected to be either a string or a function")}).join(`
`);return{modifiedText:l,insertionLength:a}}t.insertBeforeEachLine=n;var r=function(i,s,o){var a=e.selectWord({text:i.text,selection:i.selection}),l=s.setSelectionRange(a),c=e.getBreaksNeededForEmptyLineBefore(l.text,l.selection.start),f=Array(c+1).join(`
`),g=e.getBreaksNeededForEmptyLineAfter(l.text,l.selection.end),y=Array(g+1).join(`
`),k=n(l.selectedText,o);s.replaceSelection(""+f+k.modifiedText+y);var A=l.selectedText.indexOf(`
`)===-1?k.insertionLength:0,C=l.selection.start+c+A,_=C+k.modifiedText.length-A;s.setSelectionRange({start:C,end:_})};t.makeList=r,t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(a,l){return l+1+". "})}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(a,l){return"- [ ] "})}}})(D1);var Xl={};Object.defineProperty(Xl,"__esModule",{value:!0});Xl.imageCommand=void 0;var WP=Le;Xl.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(t){var e=t.initialState,n=t.textApi,r=n.setSelectionRange(WP.selectWord({text:e.text,selection:e.selection})),i=r.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+i+")"),n.setSelectionRange({start:r.selection.start+4,end:r.selection.start+4+i.length})}};var Jl={},Zl={},qP=re&&re.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(g){o(g)}}function l(f){try{c(r.throw(f))}catch(g){o(g)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},KP=re&&re.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return l([c,f])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(f){c=[6,f],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Zl,"__esModule",{value:!0});Zl.readFileAsync=void 0;function GP(t){return qP(this,void 0,void 0,function(){return KP(this,function(e){return[2,new Promise(function(n,r){var i=new FileReader;i.onload=function(){if(typeof i.result=="string")throw new Error("reader.result is expected to be an ArrayBuffer");n(i.result)},i.onerror=r,i.readAsArrayBuffer(t)})]})})}Zl.readFileAsync=GP;var QP=re&&re.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(g){o(g)}}function l(f){try{c(r.throw(f))}catch(g){o(g)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},YP=re&&re.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return l([c,f])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(f){c=[6,f],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Jl,"__esModule",{value:!0});Jl.saveImageCommand=void 0;var XP=Zl,JP=Le;function __(t){var e=[];for(var n in t){var r=t[n];r.kind==="file"&&e.push(r.getAsFile())}return e}function ZP(t){for(var e=[],n=0;n<t.length;n++)e.push(t[0]);return e}function eb(t,e){var n=e.multiple,r=e.accept,i=t;if(n||(i=i.slice(0,1)),r){var s=r.split(","),o=new Set(s.filter(function(c){return/^\.\w+/.test(c)}).map(function(c){return c.split(".")[1]})),a=new Set(s.filter(function(c){return/^[-\w.]+\/[-\w.]+$/.test(c)})),l=new Set(s.filter(function(c){return/(audio|video|image)\/\*/.test(c)}).map(function(c){return c.split("/")[0]}));i=i.filter(function(c){return o.has(c.name.split(".")[1])||a.has(c.type)||l.has(c.type.split("/")[0])})}return i}Jl.saveImageCommand={execute:function(t){t.initialState;var e=t.textApi,n=t.context,r=t.l18n;return QP(this,void 0,void 0,function(){var i,s,o,a,l,c,f,g,y,k,A,C,_,p,v,I,u,h,d,m,w,E,T,P;return YP(this,function(V){switch(V.label){case 0:if(!n)throw new Error("wrong context");i=n,s=i.event,o=i.pasteOptions,a=o.saveImage,l=o.multiple,c=o.accept,f=tb(n)?__(s.clipboardData.items):nb(n)?__(s.dataTransfer.items):ZP(s.target.files),g=eb(f,{multiple:l,accept:c}),y=[];for(k in g)y.push(k);A=0,V.label=1;case 1:return A<y.length?(C=y[A],_=e.getState(),p=JP.getBreaksNeededForEmptyLineBefore(_.text,_.selection.start),v=Array(p+1).join(`
`),I=v+"!["+r.uploadingImage+"]()",e.replaceSelection(I),u=f[C],[4,XP.readFileAsync(u)]):[3,5];case 2:return h=V.sent(),d=a(h,u),[4,d.next()];case 3:m=V.sent().value,w=e.getState(),E=w.text.substr(_.selection.start,I.length),E===I&&(e.setSelectionRange({start:_.selection.start,end:_.selection.start+I.length}),T=m?v+"![image]("+m+")":"",P=T.length-I.length,e.replaceSelection(T),e.setSelectionRange({start:w.selection.start+P,end:w.selection.end+P})),V.label=4;case 4:return A++,[3,1];case 5:return[2]}})})}};function tb(t){return t.event.clipboardData!==void 0}function nb(t){return t.event.dataTransfer!==void 0}Object.defineProperty(rn,"__esModule",{value:!0});rn.getDefaultSaveImageCommandName=rn.getDefaultCommandMap=rn.getDefaultToolbarCommands=void 0;var rb=Hl,ib=Wl,sb=ql,ob=Kl,ab=Gl,ub=Ql,lb=Yl,Xc=D1,cb=Xl,db=Jl;function hb(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]}rn.getDefaultToolbarCommands=hb;function fb(){return{header:rb.headerCommand,bold:ib.boldCommand,italic:sb.italicCommand,strikethrough:ob.strikeThroughCommand,link:ab.linkCommand,quote:ub.quoteCommand,code:lb.codeCommand,image:cb.imageCommand,"unordered-list":Xc.unorderedListCommand,"ordered-list":Xc.orderedListCommand,"checked-list":Xc.checkedListCommand,"save-image":db.saveImageCommand}}rn.getDefaultCommandMap=fb;function pb(){return"save-image"}rn.getDefaultSaveImageCommandName=pb;var ec={};Object.defineProperty(ec,"__esModule",{value:!0});ec.enL18n=void 0;ec.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."};var Ip={},tc={};Object.defineProperty(tc,"__esModule",{value:!0});tc.SvgIcon=void 0;var Re=ke,mb=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),gb=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),_b=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),vb=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),yb=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),wb=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),Eb=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),Tb=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),Sb=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),Ib=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),kb=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})),Cb=function(t){var e=t.icon;switch(e){case"header":return Ib;case"bold":return kb;case"italic":return Sb;case"strikethrough":return Tb;case"link":return Eb;case"quote":return wb;case"code":return yb;case"image":return vb;case"unordered-list":return _b;case"ordered-list":return gb;case"checked-list":return mb;default:return null}};tc.SvgIcon=Cb;(function(t){var e=re&&re.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=re&&re.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(ia,t),n(tc,t)})(Ip);var ln={},nc={};Object.defineProperty(nc,"__esModule",{value:!0});nc.extractKeyActivatedCommands=void 0;function Ab(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n].handleKeyCommand&&e.push(n);return e}nc.extractKeyActivatedCommands=Ab;var v_;function Pb(){if(v_)return ln;v_=1;var t=re&&re.__assign||function(){return t=Object.assign||function(f){for(var g,y=1,k=arguments.length;y<k;y++){g=arguments[y];for(var A in g)Object.prototype.hasOwnProperty.call(g,A)&&(f[A]=g[A])}return f},t.apply(this,arguments)},e=re&&re.__awaiter||function(f,g,y,k){function A(C){return C instanceof y?C:new y(function(_){_(C)})}return new(y||(y=Promise))(function(C,_){function p(u){try{I(k.next(u))}catch(h){_(h)}}function v(u){try{I(k.throw(u))}catch(h){_(h)}}function I(u){u.done?C(u.value):A(u.value).then(p,v)}I((k=k.apply(f,g||[])).next())})},n=re&&re.__generator||function(f,g){var y={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},k,A,C,_;return _={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function p(I){return function(u){return v([I,u])}}function v(I){if(k)throw new TypeError("Generator is already executing.");for(;y;)try{if(k=1,A&&(C=I[0]&2?A.return:I[0]?A.throw||((C=A.return)&&C.call(A),0):A.next)&&!(C=C.call(A,I[1])).done)return C;switch(A=0,C&&(I=[I[0]&2,C.value]),I[0]){case 0:case 1:C=I;break;case 4:return y.label++,{value:I[1],done:!1};case 5:y.label++,A=I[1],I=[0];continue;case 7:I=y.ops.pop(),y.trys.pop();continue;default:if(C=y.trys,!(C=C.length>0&&C[C.length-1])&&(I[0]===6||I[0]===2)){y=0;continue}if(I[0]===3&&(!C||I[1]>C[0]&&I[1]<C[3])){y.label=I[1];break}if(I[0]===6&&y.label<C[1]){y.label=C[1],C=I;break}if(C&&y.label<C[2]){y.label=C[2],y.ops.push(I);break}C[2]&&y.ops.pop(),y.trys.pop();continue}I=g.call(f,y)}catch(u){I=[6,u],A=0}finally{k=C=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}};Object.defineProperty(ln,"__esModule",{value:!0}),ln.CommandOrchestrator=ln.getStateFromTextArea=ln.TextAreaTextApi=void 0;var r=L1(),i=sa,s=nc,o=rn,a=function(){function f(g){this.textAreaRef=g}return f.prototype.replaceSelection=function(g){var y=this.textAreaRef.current;return i.insertText(y,g),l(y)},f.prototype.setSelectionRange=function(g){var y=this.textAreaRef.current;return y.focus(),y.selectionStart=g.start,y.selectionEnd=g.end,l(y)},f.prototype.getState=function(){var g=this.textAreaRef.current;return l(g)},f}();ln.TextAreaTextApi=a;function l(f){return{selection:{start:f.selectionStart,end:f.selectionEnd},text:f.value,selectedText:f.value.slice(f.selectionStart,f.selectionEnd)}}ln.getStateFromTextArea=l;var c=function(){function f(g,y,k,A){var C=this;if(this.getCommand=function(_){var p=C.commandMap[_];if(!p)throw new Error("Cannot execute command. Command not found: "+_);return p},this.handlePossibleKeyCommand=function(_){for(var p=0,v=C.keyActivatedCommands;p<v.length;p++){var I=v[p];if(C.getCommand(I).handleKeyCommand(_))return C.executeCommand(I).then(function(u){}),!0}return!1},A&&!A.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=t(t({},r.getDefaultCommandMap()),g||{}),this.pasteOptions=A,this.keyActivatedCommands=s.extractKeyActivatedCommands(g),this.textAreaRef=y,this.textApi=new a(y),this.l18n=k}return f.prototype.executeCommand=function(g,y){return e(this,void 0,void 0,function(){var k,A;return n(this,function(C){switch(C.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,k=this.commandMap[g],A=k.execute({initialState:l(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:y}),[4,A]);case 1:return C.sent(),this.isExecuting=!1,[2]}})})},f.prototype.executePasteCommand=function(g){return e(this,void 0,void 0,function(){return n(this,function(y){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:g})]:[2]})})},f.prototype.executeDropCommand=function(g){return e(this,void 0,void 0,function(){return n(this,function(y){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:g})]:[2]})})},f.prototype.executeSelectImageCommand=function(g){return e(this,void 0,void 0,function(){return n(this,function(y){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:g})]:[2]})})},f.prototype.getCommandByName=function(g){return this.commandMap[g]},f}();return ln.CommandOrchestrator=c,ln}var y_;function bb(){if(y_)return ps;y_=1;var t=re&&re.__extends||function(){var k=function(A,C){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,p){_.__proto__=p}||function(_,p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(_[v]=p[v])},k(A,C)};return function(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");k(A,C);function _(){this.constructor=A}A.prototype=C===null?Object.create(C):(_.prototype=C.prototype,new _)}}(),e=re&&re.__assign||function(){return e=Object.assign||function(k){for(var A,C=1,_=arguments.length;C<_;C++){A=arguments[C];for(var p in A)Object.prototype.hasOwnProperty.call(A,p)&&(k[p]=A[p])}return k},e.apply(this,arguments)},n=re&&re.__awaiter||function(k,A,C,_){function p(v){return v instanceof C?v:new C(function(I){I(v)})}return new(C||(C=Promise))(function(v,I){function u(m){try{d(_.next(m))}catch(w){I(w)}}function h(m){try{d(_.throw(m))}catch(w){I(w)}}function d(m){m.done?v(m.value):p(m.value).then(u,h)}d((_=_.apply(k,A||[])).next())})},r=re&&re.__generator||function(k,A){var C={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},_,p,v,I;return I={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function u(d){return function(m){return h([d,m])}}function h(d){if(_)throw new TypeError("Generator is already executing.");for(;C;)try{if(_=1,p&&(v=d[0]&2?p.return:d[0]?p.throw||((v=p.return)&&v.call(p),0):p.next)&&!(v=v.call(p,d[1])).done)return v;switch(p=0,v&&(d=[d[0]&2,v.value]),d[0]){case 0:case 1:v=d;break;case 4:return C.label++,{value:d[1],done:!1};case 5:C.label++,p=d[1],d=[0];continue;case 7:d=C.ops.pop(),C.trys.pop();continue;default:if(v=C.trys,!(v=v.length>0&&v[v.length-1])&&(d[0]===6||d[0]===2)){C=0;continue}if(d[0]===3&&(!v||d[1]>v[0]&&d[1]<v[3])){C.label=d[1];break}if(d[0]===6&&C.label<v[1]){C.label=v[1],v=d;break}if(v&&C.label<v[2]){C.label=v[2],C.ops.push(d);break}v[2]&&C.ops.pop(),C.trys.pop();continue}d=A.call(k,C)}catch(m){d=[6,m],p=0}finally{_=v=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}};Object.defineProperty(ps,"__esModule",{value:!0}),ps.ReactMde=void 0;var i=ke,s=M1(),o=rn,a=ec,l=Ip,c=kn,f=Pb(),g={accept:"image/*",multiple:!1},y=function(k){t(A,k);function A(C){var _,p=k.call(this,C)||this;p.handleTextChange=function(I){var u=p.props.onChange;u(I)},p.handlePaste=function(I){return n(p,void 0,void 0,function(){var u;return r(this,function(h){switch(h.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executePasteCommand(I)];case 1:return h.sent(),[2]}})})},p.handleDrop=function(I){return n(p,void 0,void 0,function(){var u;return r(this,function(h){switch(h.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executeDropCommand(I)];case 1:return h.sent(),[2]}})})},p.handleImageSelection=function(I){return n(p,void 0,void 0,function(){var u;return r(this,function(h){switch(h.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executeSelectImageCommand(I)];case 1:return h.sent(),[2]}})})},p.handleTabChange=function(I){var u=p.props.onTabChange;u(I)},p.handleCommand=function(I){return n(p,void 0,void 0,function(){return r(this,function(u){switch(u.label){case 0:return[4,this.commandOrchestrator.executeCommand(I)];case 1:return u.sent(),[2]}})})},p.finalRefs=e({},C.refs||{}),p.finalRefs.textarea||(p.finalRefs.textarea=i.createRef()),p.finalRefs.preview||(p.finalRefs.preview=i.createRef()),p.commandOrchestrator=new f.CommandOrchestrator(p.props.commands,p.finalRefs.textarea,p.props.l18n,p.props.paste?e(e({},g),p.props.paste):void 0);var v=Math.min(C.maxEditorHeight,C.minEditorHeight);return p.state={editorHeight:(_=C.initialEditorHeight)!==null&&_!==void 0?_:v},p}return A.prototype.render=function(){var C=this,_,p,v=this.props,I=v.getIcon,u=v.toolbarCommands,h=v.classes,d=v.loadingPreview,m=v.readOnly,w=v.disablePreview,E=v.value,T=v.l18n,P=v.minPreviewHeight,V=v.heightUnits,R=v.childProps,O=v.selectedTab,M=v.generateMarkdownPreview,S=v.loadSuggestions,N=v.suggestionTriggerCharacters,B=v.textAreaComponent,H=R||{},ae=u.map(function(b){return b.map(function(W){var K=C.commandOrchestrator.getCommand(W);return{commandName:W,buttonContent:K.icon?K.icon(I):I(W),buttonProps:K.buttonProps,buttonComponentClass:K.buttonComponentClass}})});return i.createElement("div",{className:c.classNames("react-mde","react-mde-tabbed-layout",h==null?void 0:h.reactMde)},i.createElement(s.Toolbar,{classes:h==null?void 0:h.toolbar,buttons:ae,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:O,readOnly:m,disablePreview:w,l18n:T,buttonProps:H.commandButtons,writeButtonProps:H.writeButton,previewButtonProps:H.previewButton}),i.createElement("div",{className:c.classNames({invisible:O!=="write"})},i.createElement(s.TextArea,{classes:h==null?void 0:h.textArea,suggestionsDropdownClasses:h==null?void 0:h.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:m,textAreaComponent:B,textAreaProps:R&&R.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:E,suggestionTriggerCharacters:N,loadSuggestions:S,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&i.createElement("label",{className:c.classNames("image-tip")},i.createElement("input",{className:c.classNames("image-input"),type:"file",accept:(_=this.props.paste.accept)!==null&&_!==void 0?_:g.accept,multiple:(p=this.props.paste.multiple)!==null&&p!==void 0?p:g.multiple,onChange:this.handleImageSelection}),i.createElement("span",null,T.pasteDropSelect))),O!=="write"&&i.createElement(s.Preview,{classes:h==null?void 0:h.preview,refObject:this.finalRefs.preview,loadingPreview:d,minHeight:P,heightUnits:V,generateMarkdownPreview:M,markdown:E}))},A.defaultProps={commands:o.getDefaultCommandMap(),toolbarCommands:o.getDefaultToolbarCommands(),getIcon:function(C){return i.createElement(l.SvgIcon,{icon:C})},readOnly:!1,l18n:a.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},A}(i.Component);return ps.ReactMde=y,ps}var w_;function M1(){return w_||(w_=1,function(t){var e=re&&re.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=re&&re.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(na,t),n(ra,t),n(ia,t),n(Fl,t),n(Ul,t),n(Bl,t),n(bb(),t),n(oa,t)}(Kc)),Kc}var E_;function L1(){return E_||(E_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0;var e=Le;t.MarkdownUtil=e;var n=M1();Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return n.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return n.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return n.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return n.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return n.ToolbarButtonGroup}});var r=Ip;Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return r.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return r.MdeFontAwesomeIcon}});var i=rn;Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return i.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return i.getDefaultToolbarCommands}}),t.default=n.ReactMde}(qc)),qc}var Rb=L1();const Nb=Ao(Rb);var V1={exports:{}};(function(t){(function(){function e(u){var h={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(u===!1)return JSON.parse(JSON.stringify(h));var d={};for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m].defaultValue);return d}function n(){var u=e(!0),h={};for(var d in u)u.hasOwnProperty(d)&&(h[d]=!0);return h}var r={},i={},s={},o=e(!0),a="vanilla",l={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(u,h){return o[u]=h,this},r.getOption=function(u){return o[u]},r.getOptions=function(){return o},r.resetOptions=function(){o=e(!0)},r.setFlavor=function(u){if(!l.hasOwnProperty(u))throw Error(u+" flavor was not found");r.resetOptions();var h=l[u];a=u;for(var d in h)h.hasOwnProperty(d)&&(o[d]=h[d])},r.getFlavor=function(){return a},r.getFlavorOptions=function(u){if(l.hasOwnProperty(u))return l[u]},r.getDefaultOptions=function(u){return e(u)},r.subParser=function(u,h){if(r.helper.isString(u))if(typeof h<"u")i[u]=h;else{if(i.hasOwnProperty(u))return i[u];throw Error("SubParser named "+u+" not registered!")}},r.extension=function(u,h){if(!r.helper.isString(u))throw Error("Extension 'name' must be a string");if(u=r.helper.stdExtName(u),r.helper.isUndefined(h)){if(!s.hasOwnProperty(u))throw Error("Extension named "+u+" is not registered!");return s[u]}else{typeof h=="function"&&(h=h()),r.helper.isArray(h)||(h=[h]);var d=c(h,u);if(d.valid)s[u]=h;else throw Error(d.error)}},r.getAllExtensions=function(){return s},r.removeExtension=function(u){delete s[u]},r.resetExtensions=function(){s={}};function c(u,h){var d=h?"Error in "+h+" extension->":"Error in unnamed extension",m={valid:!0,error:""};r.helper.isArray(u)||(u=[u]);for(var w=0;w<u.length;++w){var E=d+" sub-extension "+w+": ",T=u[w];if(typeof T!="object")return m.valid=!1,m.error=E+"must be an object, but "+typeof T+" given",m;if(!r.helper.isString(T.type))return m.valid=!1,m.error=E+'property "type" must be a string, but '+typeof T.type+" given",m;var P=T.type=T.type.toLowerCase();if(P==="language"&&(P=T.type="lang"),P==="html"&&(P=T.type="output"),P!=="lang"&&P!=="output"&&P!=="listener")return m.valid=!1,m.error=E+"type "+P+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',m;if(P==="listener"){if(r.helper.isUndefined(T.listeners))return m.valid=!1,m.error=E+'. Extensions of type "listener" must have a property called "listeners"',m}else if(r.helper.isUndefined(T.filter)&&r.helper.isUndefined(T.regex))return m.valid=!1,m.error=E+P+' extensions must define either a "regex" property or a "filter" method',m;if(T.listeners){if(typeof T.listeners!="object")return m.valid=!1,m.error=E+'"listeners" property must be an object but '+typeof T.listeners+" given",m;for(var V in T.listeners)if(T.listeners.hasOwnProperty(V)&&typeof T.listeners[V]!="function")return m.valid=!1,m.error=E+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+V+" must be a function but "+typeof T.listeners[V]+" given",m}if(T.filter){if(typeof T.filter!="function")return m.valid=!1,m.error=E+'"filter" must be a function, but '+typeof T.filter+" given",m}else if(T.regex){if(r.helper.isString(T.regex)&&(T.regex=new RegExp(T.regex,"g")),!(T.regex instanceof RegExp))return m.valid=!1,m.error=E+'"regex" property must either be a string or a RegExp object, but '+typeof T.regex+" given",m;if(r.helper.isUndefined(T.replace))return m.valid=!1,m.error=E+'"regex" extensions must implement a replace string or function',m}}return m}r.validateExtension=function(u){var h=c(u,null);return h.valid?!0:(console.warn(h.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(u){return typeof u=="string"||u instanceof String},r.helper.isFunction=function(u){var h={};return u&&h.toString.call(u)==="[object Function]"},r.helper.isArray=function(u){return Array.isArray(u)},r.helper.isUndefined=function(u){return typeof u>"u"},r.helper.forEach=function(u,h){if(r.helper.isUndefined(u))throw new Error("obj param is required");if(r.helper.isUndefined(h))throw new Error("callback param is required");if(!r.helper.isFunction(h))throw new Error("callback param must be a function/closure");if(typeof u.forEach=="function")u.forEach(h);else if(r.helper.isArray(u))for(var d=0;d<u.length;d++)h(u[d],d,u);else if(typeof u=="object")for(var m in u)u.hasOwnProperty(m)&&h(u[m],m,u);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(u){return u.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function f(u,h){var d=h.charCodeAt(0);return"¨E"+d+"E"}r.helper.escapeCharactersCallback=f,r.helper.escapeCharacters=function(u,h,d){var m="(["+h.replace(/([\[\]\\])/g,"\\$1")+"])";d&&(m="\\\\"+m);var w=new RegExp(m,"g");return u=u.replace(w,f),u},r.helper.unescapeHTMLEntities=function(u){return u.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var g=function(u,h,d,m){var w=m||"",E=w.indexOf("g")>-1,T=new RegExp(h+"|"+d,"g"+w.replace(/g/g,"")),P=new RegExp(h,w.replace(/g/g,"")),V=[],R,O,M,S,N;do for(R=0;M=T.exec(u);)if(P.test(M[0]))R++||(O=T.lastIndex,S=O-M[0].length);else if(R&&!--R){N=M.index+M[0].length;var B={left:{start:S,end:O},match:{start:O,end:M.index},right:{start:M.index,end:N},wholeMatch:{start:S,end:N}};if(V.push(B),!E)return V}while(R&&(T.lastIndex=O));return V};r.helper.matchRecursiveRegExp=function(u,h,d,m){for(var w=g(u,h,d,m),E=[],T=0;T<w.length;++T)E.push([u.slice(w[T].wholeMatch.start,w[T].wholeMatch.end),u.slice(w[T].match.start,w[T].match.end),u.slice(w[T].left.start,w[T].left.end),u.slice(w[T].right.start,w[T].right.end)]);return E},r.helper.replaceRecursiveRegExp=function(u,h,d,m,w){if(!r.helper.isFunction(h)){var E=h;h=function(){return E}}var T=g(u,d,m,w),P=u,V=T.length;if(V>0){var R=[];T[0].wholeMatch.start!==0&&R.push(u.slice(0,T[0].wholeMatch.start));for(var O=0;O<V;++O)R.push(h(u.slice(T[O].wholeMatch.start,T[O].wholeMatch.end),u.slice(T[O].match.start,T[O].match.end),u.slice(T[O].left.start,T[O].left.end),u.slice(T[O].right.start,T[O].right.end))),O<V-1&&R.push(u.slice(T[O].wholeMatch.end,T[O+1].wholeMatch.start));T[V-1].wholeMatch.end<u.length&&R.push(u.slice(T[V-1].wholeMatch.end)),P=R.join("")}return P},r.helper.regexIndexOf=function(u,h,d){if(!r.helper.isString(u))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(h instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var m=u.substring(d||0).search(h);return m>=0?m+(d||0):m},r.helper.splitAtIndex=function(u,h){if(!r.helper.isString(u))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[u.substring(0,h),u.substring(h)]},r.helper.encodeEmailAddress=function(u){var h=[function(d){return"&#"+d.charCodeAt(0)+";"},function(d){return"&#x"+d.charCodeAt(0).toString(16)+";"},function(d){return d}];return u=u.replace(/./g,function(d){if(d==="@")d=h[Math.floor(Math.random()*2)](d);else{var m=Math.random();d=m>.9?h[2](d):m>.45?h[1](d):h[0](d)}return d}),u},r.helper.padEnd=function(h,d,m){return d=d>>0,m=String(m||" "),h.length>d?String(h):(d=d-h.length,d>m.length&&(m+=m.repeat(d/m.length)),String(h)+m.slice(0,d))},typeof console>"u"&&(console={warn:function(u){alert(u)},log:function(u){alert(u)},error:function(u){throw u}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(u){var h={},d=[],m=[],w={},E=a,T={parsed:{},raw:"",format:""};P();function P(){u=u||{};for(var S in o)o.hasOwnProperty(S)&&(h[S]=o[S]);if(typeof u=="object")for(var N in u)u.hasOwnProperty(N)&&(h[N]=u[N]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof u+" was passed instead.");h.extensions&&r.helper.forEach(h.extensions,V)}function V(S,N){if(N=N||null,r.helper.isString(S))if(S=r.helper.stdExtName(S),N=S,r.extensions[S]){console.warn("DEPRECATION WARNING: "+S+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),R(r.extensions[S],S);return}else if(!r.helper.isUndefined(s[S]))S=s[S];else throw Error('Extension "'+S+'" could not be loaded. It was either not found or is not a valid extension.');typeof S=="function"&&(S=S()),r.helper.isArray(S)||(S=[S]);var B=c(S,N);if(!B.valid)throw Error(B.error);for(var H=0;H<S.length;++H){switch(S[H].type){case"lang":d.push(S[H]);break;case"output":m.push(S[H]);break}if(S[H].hasOwnProperty("listeners"))for(var ae in S[H].listeners)S[H].listeners.hasOwnProperty(ae)&&O(ae,S[H].listeners[ae])}}function R(S,N){typeof S=="function"&&(S=S(new r.Converter)),r.helper.isArray(S)||(S=[S]);var B=c(S,N);if(!B.valid)throw Error(B.error);for(var H=0;H<S.length;++H)switch(S[H].type){case"lang":d.push(S[H]);break;case"output":m.push(S[H]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function O(S,N){if(!r.helper.isString(S))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof S+" given");if(typeof N!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof N+" given");w.hasOwnProperty(S)||(w[S]=[]),w[S].push(N)}function M(S){var N=S.match(/^\s*/)[0].length,B=new RegExp("^\\s{0,"+N+"}","gm");return S.replace(B,"")}this._dispatch=function(N,B,H,ae){if(w.hasOwnProperty(N))for(var b=0;b<w[N].length;++b){var W=w[N][b](N,B,this,H,ae);W&&typeof W<"u"&&(B=W)}return B},this.listen=function(S,N){return O(S,N),this},this.makeHtml=function(S){if(!S)return S;var N={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:d,outputModifiers:m,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return S=S.replace(/¨/g,"¨T"),S=S.replace(/\$/g,"¨D"),S=S.replace(/\r\n/g,`
`),S=S.replace(/\r/g,`
`),S=S.replace(/\u00A0/g,"&nbsp;"),h.smartIndentationFix&&(S=M(S)),S=`

`+S+`

`,S=r.subParser("detab")(S,h,N),S=S.replace(/^[ \t]+$/mg,""),r.helper.forEach(d,function(B){S=r.subParser("runExtension")(B,S,h,N)}),S=r.subParser("metadata")(S,h,N),S=r.subParser("hashPreCodeTags")(S,h,N),S=r.subParser("githubCodeBlocks")(S,h,N),S=r.subParser("hashHTMLBlocks")(S,h,N),S=r.subParser("hashCodeTags")(S,h,N),S=r.subParser("stripLinkDefinitions")(S,h,N),S=r.subParser("blockGamut")(S,h,N),S=r.subParser("unhashHTMLSpans")(S,h,N),S=r.subParser("unescapeSpecialChars")(S,h,N),S=S.replace(/¨D/g,"$$"),S=S.replace(/¨T/g,"¨"),S=r.subParser("completeHTMLDocument")(S,h,N),r.helper.forEach(m,function(B){S=r.subParser("runExtension")(B,S,h,N)}),T=N.metadata,S},this.makeMarkdown=this.makeMd=function(S,N){if(S=S.replace(/\r\n/g,`
`),S=S.replace(/\r/g,`
`),S=S.replace(/>[ \t]+</,">¨NBSP;<"),!N)if(window&&window.document)N=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var B=N.createElement("div");B.innerHTML=S;var H={preList:se(B)};K(B);for(var ae=B.childNodes,b="",W=0;W<ae.length;W++)b+=r.subParser("makeMarkdown.node")(ae[W],H);function K(oe){for(var _e=0;_e<oe.childNodes.length;++_e){var Se=oe.childNodes[_e];Se.nodeType===3?/\S/.test(Se.nodeValue)?(Se.nodeValue=Se.nodeValue.split(`
`).join(" "),Se.nodeValue=Se.nodeValue.replace(/(\s)+/g,"$1")):(oe.removeChild(Se),--_e):Se.nodeType===1&&K(Se)}}function se(oe){for(var _e=oe.querySelectorAll("pre"),Se=[],F=0;F<_e.length;++F)if(_e[F].childElementCount===1&&_e[F].firstChild.tagName.toLowerCase()==="code"){var L=_e[F].firstChild.innerHTML.trim(),U=_e[F].firstChild.getAttribute("data-language")||"";if(U==="")for(var Q=_e[F].firstChild.className.split(" "),Ne=0;Ne<Q.length;++Ne){var Ie=Q[Ne].match(/^language-(.+)$/);if(Ie!==null){U=Ie[1];break}}L=r.helper.unescapeHTMLEntities(L),Se.push(L),_e[F].outerHTML='<precode language="'+U+'" precodenum="'+F.toString()+'"></precode>'}else Se.push(_e[F].innerHTML),_e[F].innerHTML="",_e[F].setAttribute("prenum",F.toString());return Se}return b},this.setOption=function(S,N){h[S]=N},this.getOption=function(S){return h[S]},this.getOptions=function(){return h},this.addExtension=function(S,N){N=N||null,V(S,N)},this.useExtension=function(S){V(S)},this.setFlavor=function(S){if(!l.hasOwnProperty(S))throw Error(S+" flavor was not found");var N=l[S];E=S;for(var B in N)N.hasOwnProperty(B)&&(h[B]=N[B])},this.getFlavor=function(){return E},this.removeExtension=function(S){r.helper.isArray(S)||(S=[S]);for(var N=0;N<S.length;++N){for(var B=S[N],H=0;H<d.length;++H)d[H]===B&&d[H].splice(H,1);for(var ae=0;ae<m.length;++H)m[ae]===B&&m[ae].splice(H,1)}},this.getAllExtensions=function(){return{language:d,output:m}},this.getMetadata=function(S){return S?T.raw:T.parsed},this.getMetadataFormat=function(){return T.format},this._setMetadataPair=function(S,N){T.parsed[S]=N},this._setMetadataFormat=function(S){T.format=S},this._setMetadataRaw=function(S){T.raw=S}},r.subParser("anchors",function(u,h,d){u=d.converter._dispatch("anchors.before",u,h,d);var m=function(w,E,T,P,V,R,O){if(r.helper.isUndefined(O)&&(O=""),T=T.toLowerCase(),w.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)P="";else if(!P)if(T||(T=E.toLowerCase().replace(/ ?\n/g," ")),P="#"+T,!r.helper.isUndefined(d.gUrls[T]))P=d.gUrls[T],r.helper.isUndefined(d.gTitles[T])||(O=d.gTitles[T]);else return w;P=P.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var M='<a href="'+P+'"';return O!==""&&O!==null&&(O=O.replace(/"/g,"&quot;"),O=O.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),M+=' title="'+O+'"'),h.openLinksInNewWindow&&!/^#/.test(P)&&(M+=' rel="noopener noreferrer" target="¨E95Eblank"'),M+=">"+E+"</a>",M};return u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,m),u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,m),u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,m),u=u.replace(/\[([^\[\]]+)]()()()()()/g,m),h.ghMentions&&(u=u.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(w,E,T,P,V){if(T==="\\")return E+P;if(!r.helper.isString(h.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var R=h.ghMentionsLink.replace(/\{u}/g,V),O="";return h.openLinksInNewWindow&&(O=' rel="noopener noreferrer" target="¨E95Eblank"'),E+'<a href="'+R+'"'+O+">"+P+"</a>"})),u=d.converter._dispatch("anchors.after",u,h,d),u});var y=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,k=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,A=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,C=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,_=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,p=function(u){return function(h,d,m,w,E,T,P){m=m.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var V=m,R="",O="",M=d||"",S=P||"";return/^www\./i.test(m)&&(m=m.replace(/^www\./i,"http://www.")),u.excludeTrailingPunctuationFromURLs&&T&&(R=T),u.openLinksInNewWindow&&(O=' rel="noopener noreferrer" target="¨E95Eblank"'),M+'<a href="'+m+'"'+O+">"+V+"</a>"+R+S}},v=function(u,h){return function(d,m,w){var E="mailto:";return m=m||"",w=r.subParser("unescapeSpecialChars")(w,u,h),u.encodeEmails?(E=r.helper.encodeEmailAddress(E+w),w=r.helper.encodeEmailAddress(w)):E=E+w,m+'<a href="'+E+'">'+w+"</a>"}};r.subParser("autoLinks",function(u,h,d){return u=d.converter._dispatch("autoLinks.before",u,h,d),u=u.replace(A,p(h)),u=u.replace(_,v(h,d)),u=d.converter._dispatch("autoLinks.after",u,h,d),u}),r.subParser("simplifiedAutoLinks",function(u,h,d){return h.simplifiedAutoLink&&(u=d.converter._dispatch("simplifiedAutoLinks.before",u,h,d),h.excludeTrailingPunctuationFromURLs?u=u.replace(k,p(h)):u=u.replace(y,p(h)),u=u.replace(C,v(h,d)),u=d.converter._dispatch("simplifiedAutoLinks.after",u,h,d)),u}),r.subParser("blockGamut",function(u,h,d){return u=d.converter._dispatch("blockGamut.before",u,h,d),u=r.subParser("blockQuotes")(u,h,d),u=r.subParser("headers")(u,h,d),u=r.subParser("horizontalRule")(u,h,d),u=r.subParser("lists")(u,h,d),u=r.subParser("codeBlocks")(u,h,d),u=r.subParser("tables")(u,h,d),u=r.subParser("hashHTMLBlocks")(u,h,d),u=r.subParser("paragraphs")(u,h,d),u=d.converter._dispatch("blockGamut.after",u,h,d),u}),r.subParser("blockQuotes",function(u,h,d){u=d.converter._dispatch("blockQuotes.before",u,h,d),u=u+`

`;var m=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return h.splitAdjacentBlockquotes&&(m=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),u=u.replace(m,function(w){return w=w.replace(/^[ \t]*>[ \t]?/gm,""),w=w.replace(/¨0/g,""),w=w.replace(/^[ \t]+$/gm,""),w=r.subParser("githubCodeBlocks")(w,h,d),w=r.subParser("blockGamut")(w,h,d),w=w.replace(/(^|\n)/g,"$1  "),w=w.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(E,T){var P=T;return P=P.replace(/^  /mg,"¨0"),P=P.replace(/¨0/g,""),P}),r.subParser("hashBlock")(`<blockquote>
`+w+`
</blockquote>`,h,d)}),u=d.converter._dispatch("blockQuotes.after",u,h,d),u}),r.subParser("codeBlocks",function(u,h,d){u=d.converter._dispatch("codeBlocks.before",u,h,d),u+="¨0";var m=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;return u=u.replace(m,function(w,E,T){var P=E,V=T,R=`
`;return P=r.subParser("outdent")(P,h,d),P=r.subParser("encodeCode")(P,h,d),P=r.subParser("detab")(P,h,d),P=P.replace(/^\n+/g,""),P=P.replace(/\n+$/g,""),h.omitExtraWLInCodeBlocks&&(R=""),P="<pre><code>"+P+R+"</code></pre>",r.subParser("hashBlock")(P,h,d)+V}),u=u.replace(/¨0/,""),u=d.converter._dispatch("codeBlocks.after",u,h,d),u}),r.subParser("codeSpans",function(u,h,d){return u=d.converter._dispatch("codeSpans.before",u,h,d),typeof u>"u"&&(u=""),u=u.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(m,w,E,T){var P=T;return P=P.replace(/^([ \t]*)/g,""),P=P.replace(/[ \t]*$/g,""),P=r.subParser("encodeCode")(P,h,d),P=w+"<code>"+P+"</code>",P=r.subParser("hashHTMLSpans")(P,h,d),P}),u=d.converter._dispatch("codeSpans.after",u,h,d),u}),r.subParser("completeHTMLDocument",function(u,h,d){if(!h.completeHTMLDocument)return u;u=d.converter._dispatch("completeHTMLDocument.before",u,h,d);var m="html",w=`<!DOCTYPE HTML>
`,E="",T=`<meta charset="utf-8">
`,P="",V="";typeof d.metadata.parsed.doctype<"u"&&(w="<!DOCTYPE "+d.metadata.parsed.doctype+`>
`,m=d.metadata.parsed.doctype.toString().toLowerCase(),(m==="html"||m==="html5")&&(T='<meta charset="utf-8">'));for(var R in d.metadata.parsed)if(d.metadata.parsed.hasOwnProperty(R))switch(R.toLowerCase()){case"doctype":break;case"title":E="<title>"+d.metadata.parsed.title+`</title>
`;break;case"charset":m==="html"||m==="html5"?T='<meta charset="'+d.metadata.parsed.charset+`">
`:T='<meta name="charset" content="'+d.metadata.parsed.charset+`">
`;break;case"language":case"lang":P=' lang="'+d.metadata.parsed[R]+'"',V+='<meta name="'+R+'" content="'+d.metadata.parsed[R]+`">
`;break;default:V+='<meta name="'+R+'" content="'+d.metadata.parsed[R]+`">
`}return u=w+"<html"+P+`>
<head>
`+E+T+V+`</head>
<body>
`+u.trim()+`
</body>
</html>`,u=d.converter._dispatch("completeHTMLDocument.after",u,h,d),u}),r.subParser("detab",function(u,h,d){return u=d.converter._dispatch("detab.before",u,h,d),u=u.replace(/\t(?=\t)/g,"    "),u=u.replace(/\t/g,"¨A¨B"),u=u.replace(/¨B(.+?)¨A/g,function(m,w){for(var E=w,T=4-E.length%4,P=0;P<T;P++)E+=" ";return E}),u=u.replace(/¨A/g,"    "),u=u.replace(/¨B/g,""),u=d.converter._dispatch("detab.after",u,h,d),u}),r.subParser("ellipsis",function(u,h,d){return u=d.converter._dispatch("ellipsis.before",u,h,d),u=u.replace(/\.\.\./g,"…"),u=d.converter._dispatch("ellipsis.after",u,h,d),u}),r.subParser("emoji",function(u,h,d){if(!h.emoji)return u;u=d.converter._dispatch("emoji.before",u,h,d);var m=/:([\S]+?):/g;return u=u.replace(m,function(w,E){return r.helper.emojis.hasOwnProperty(E)?r.helper.emojis[E]:w}),u=d.converter._dispatch("emoji.after",u,h,d),u}),r.subParser("encodeAmpsAndAngles",function(u,h,d){return u=d.converter._dispatch("encodeAmpsAndAngles.before",u,h,d),u=u.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),u=u.replace(/<(?![a-z\/?$!])/gi,"&lt;"),u=u.replace(/</g,"&lt;"),u=u.replace(/>/g,"&gt;"),u=d.converter._dispatch("encodeAmpsAndAngles.after",u,h,d),u}),r.subParser("encodeBackslashEscapes",function(u,h,d){return u=d.converter._dispatch("encodeBackslashEscapes.before",u,h,d),u=u.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),u=u.replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,r.helper.escapeCharactersCallback),u=d.converter._dispatch("encodeBackslashEscapes.after",u,h,d),u}),r.subParser("encodeCode",function(u,h,d){return u=d.converter._dispatch("encodeCode.before",u,h,d),u=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),u=d.converter._dispatch("encodeCode.after",u,h,d),u}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(u,h,d){u=d.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",u,h,d);var m=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,w=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return u=u.replace(m,function(E){return E.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),u=u.replace(w,function(E){return E.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),u=d.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",u,h,d),u}),r.subParser("githubCodeBlocks",function(u,h,d){return h.ghCodeBlocks?(u=d.converter._dispatch("githubCodeBlocks.before",u,h,d),u+="¨0",u=u.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(m,w,E,T){var P=h.omitExtraWLInCodeBlocks?"":`
`;return T=r.subParser("encodeCode")(T,h,d),T=r.subParser("detab")(T,h,d),T=T.replace(/^\n+/g,""),T=T.replace(/\n+$/g,""),T="<pre><code"+(E?' class="'+E+" language-"+E+'"':"")+">"+T+P+"</code></pre>",T=r.subParser("hashBlock")(T,h,d),`

¨G`+(d.ghCodeBlocks.push({text:m,codeblock:T})-1)+`G

`}),u=u.replace(/¨0/,""),d.converter._dispatch("githubCodeBlocks.after",u,h,d)):u}),r.subParser("hashBlock",function(u,h,d){return u=d.converter._dispatch("hashBlock.before",u,h,d),u=u.replace(/(^\n+|\n+$)/g,""),u=`

¨K`+(d.gHtmlBlocks.push(u)-1)+`K

`,u=d.converter._dispatch("hashBlock.after",u,h,d),u}),r.subParser("hashCodeTags",function(u,h,d){u=d.converter._dispatch("hashCodeTags.before",u,h,d);var m=function(w,E,T,P){var V=T+r.subParser("encodeCode")(E,h,d)+P;return"¨C"+(d.gHtmlSpans.push(V)-1)+"C"};return u=r.helper.replaceRecursiveRegExp(u,m,"<code\\b[^>]*>","</code>","gim"),u=d.converter._dispatch("hashCodeTags.after",u,h,d),u}),r.subParser("hashElement",function(u,h,d){return function(m,w){var E=w;return E=E.replace(/\n\n/g,`
`),E=E.replace(/^\n/,""),E=E.replace(/\n+$/g,""),E=`

¨K`+(d.gHtmlBlocks.push(E)-1)+`K

`,E}}),r.subParser("hashHTMLBlocks",function(u,h,d){u=d.converter._dispatch("hashHTMLBlocks.before",u,h,d);var m=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],w=function(S,N,B,H){var ae=S;return B.search(/\bmarkdown\b/)!==-1&&(ae=B+d.converter.makeHtml(N)+H),`

¨K`+(d.gHtmlBlocks.push(ae)-1)+`K

`};h.backslashEscapesHTMLTags&&(u=u.replace(/\\<(\/?[^>]+?)>/g,function(S,N){return"&lt;"+N+"&gt;"}));for(var E=0;E<m.length;++E)for(var T,P=new RegExp("^ {0,3}(<"+m[E]+"\\b[^>]*>)","im"),V="<"+m[E]+"\\b[^>]*>",R="</"+m[E]+">";(T=r.helper.regexIndexOf(u,P))!==-1;){var O=r.helper.splitAtIndex(u,T),M=r.helper.replaceRecursiveRegExp(O[1],w,V,R,"im");if(M===O[1])break;u=O[0].concat(M)}return u=u.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(u,h,d)),u=r.helper.replaceRecursiveRegExp(u,function(S){return`

¨K`+(d.gHtmlBlocks.push(S)-1)+`K

`},"^ {0,3}<!--","-->","gm"),u=u.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(u,h,d)),u=d.converter._dispatch("hashHTMLBlocks.after",u,h,d),u}),r.subParser("hashHTMLSpans",function(u,h,d){u=d.converter._dispatch("hashHTMLSpans.before",u,h,d);function m(w){return"¨C"+(d.gHtmlSpans.push(w)-1)+"C"}return u=u.replace(/<[^>]+?\/>/gi,function(w){return m(w)}),u=u.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(w){return m(w)}),u=u.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(w){return m(w)}),u=u.replace(/<[^>]+?>/gi,function(w){return m(w)}),u=d.converter._dispatch("hashHTMLSpans.after",u,h,d),u}),r.subParser("unhashHTMLSpans",function(u,h,d){u=d.converter._dispatch("unhashHTMLSpans.before",u,h,d);for(var m=0;m<d.gHtmlSpans.length;++m){for(var w=d.gHtmlSpans[m],E=0;/¨C(\d+)C/.test(w);){var T=RegExp.$1;if(w=w.replace("¨C"+T+"C",d.gHtmlSpans[T]),E===10){console.error("maximum nesting of 10 spans reached!!!");break}++E}u=u.replace("¨C"+m+"C",w)}return u=d.converter._dispatch("unhashHTMLSpans.after",u,h,d),u}),r.subParser("hashPreCodeTags",function(u,h,d){u=d.converter._dispatch("hashPreCodeTags.before",u,h,d);var m=function(w,E,T,P){var V=T+r.subParser("encodeCode")(E,h,d)+P;return`

¨G`+(d.ghCodeBlocks.push({text:w,codeblock:V})-1)+`G

`};return u=r.helper.replaceRecursiveRegExp(u,m,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),u=d.converter._dispatch("hashPreCodeTags.after",u,h,d),u}),r.subParser("headers",function(u,h,d){u=d.converter._dispatch("headers.before",u,h,d);var m=isNaN(parseInt(h.headerLevelStart))?1:parseInt(h.headerLevelStart),w=h.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,E=h.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;u=u.replace(w,function(V,R){var O=r.subParser("spanGamut")(R,h,d),M=h.noHeaderId?"":' id="'+P(R)+'"',S=m,N="<h"+S+M+">"+O+"</h"+S+">";return r.subParser("hashBlock")(N,h,d)}),u=u.replace(E,function(V,R){var O=r.subParser("spanGamut")(R,h,d),M=h.noHeaderId?"":' id="'+P(R)+'"',S=m+1,N="<h"+S+M+">"+O+"</h"+S+">";return r.subParser("hashBlock")(N,h,d)});var T=h.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;u=u.replace(T,function(V,R,O){var M=O;h.customizedHeaderId&&(M=O.replace(/\s?\{([^{]+?)}\s*$/,""));var S=r.subParser("spanGamut")(M,h,d),N=h.noHeaderId?"":' id="'+P(O)+'"',B=m-1+R.length,H="<h"+B+N+">"+S+"</h"+B+">";return r.subParser("hashBlock")(H,h,d)});function P(V){var R,O;if(h.customizedHeaderId){var M=V.match(/\{([^{]+?)}\s*$/);M&&M[1]&&(V=M[1])}return R=V,r.helper.isString(h.prefixHeaderId)?O=h.prefixHeaderId:h.prefixHeaderId===!0?O="section-":O="",h.rawPrefixHeaderId||(R=O+R),h.ghCompatibleHeaderId?R=R.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():h.rawHeaderId?R=R.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():R=R.replace(/[^\w]/g,"").toLowerCase(),h.rawPrefixHeaderId&&(R=O+R),d.hashLinkCounts[R]?R=R+"-"+d.hashLinkCounts[R]++:d.hashLinkCounts[R]=1,R}return u=d.converter._dispatch("headers.after",u,h,d),u}),r.subParser("horizontalRule",function(u,h,d){u=d.converter._dispatch("horizontalRule.before",u,h,d);var m=r.subParser("hashBlock")("<hr />",h,d);return u=u.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,m),u=u.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,m),u=u.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,m),u=d.converter._dispatch("horizontalRule.after",u,h,d),u}),r.subParser("images",function(u,h,d){u=d.converter._dispatch("images.before",u,h,d);var m=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,w=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,E=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,T=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,P=/!\[([^\[\]]+)]()()()()()/g;function V(O,M,S,N,B,H,ae,b){return N=N.replace(/\s/g,""),R(O,M,S,N,B,H,ae,b)}function R(O,M,S,N,B,H,ae,b){var W=d.gUrls,K=d.gTitles,se=d.gDimensions;if(S=S.toLowerCase(),b||(b=""),O.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)N="";else if(N===""||N===null)if((S===""||S===null)&&(S=M.toLowerCase().replace(/ ?\n/g," ")),N="#"+S,!r.helper.isUndefined(W[S]))N=W[S],r.helper.isUndefined(K[S])||(b=K[S]),r.helper.isUndefined(se[S])||(B=se[S].width,H=se[S].height);else return O;M=M.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),N=N.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var oe='<img src="'+N+'" alt="'+M+'"';return b&&r.helper.isString(b)&&(b=b.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),oe+=' title="'+b+'"'),B&&H&&(B=B==="*"?"auto":B,H=H==="*"?"auto":H,oe+=' width="'+B+'"',oe+=' height="'+H+'"'),oe+=" />",oe}return u=u.replace(T,R),u=u.replace(E,V),u=u.replace(w,R),u=u.replace(m,R),u=u.replace(P,R),u=d.converter._dispatch("images.after",u,h,d),u}),r.subParser("italicsAndBold",function(u,h,d){u=d.converter._dispatch("italicsAndBold.before",u,h,d);function m(w,E,T){return E+w+T}return h.literalMidWordUnderscores?(u=u.replace(/\b___(\S[\s\S]*?)___\b/g,function(w,E){return m(E,"<strong><em>","</em></strong>")}),u=u.replace(/\b__(\S[\s\S]*?)__\b/g,function(w,E){return m(E,"<strong>","</strong>")}),u=u.replace(/\b_(\S[\s\S]*?)_\b/g,function(w,E){return m(E,"<em>","</em>")})):(u=u.replace(/___(\S[\s\S]*?)___/g,function(w,E){return/\S$/.test(E)?m(E,"<strong><em>","</em></strong>"):w}),u=u.replace(/__(\S[\s\S]*?)__/g,function(w,E){return/\S$/.test(E)?m(E,"<strong>","</strong>"):w}),u=u.replace(/_([^\s_][\s\S]*?)_/g,function(w,E){return/\S$/.test(E)?m(E,"<em>","</em>"):w})),h.literalMidWordAsterisks?(u=u.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(w,E,T){return m(T,E+"<strong><em>","</em></strong>")}),u=u.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(w,E,T){return m(T,E+"<strong>","</strong>")}),u=u.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(w,E,T){return m(T,E+"<em>","</em>")})):(u=u.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(w,E){return/\S$/.test(E)?m(E,"<strong><em>","</em></strong>"):w}),u=u.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(w,E){return/\S$/.test(E)?m(E,"<strong>","</strong>"):w}),u=u.replace(/\*([^\s*][\s\S]*?)\*/g,function(w,E){return/\S$/.test(E)?m(E,"<em>","</em>"):w})),u=d.converter._dispatch("italicsAndBold.after",u,h,d),u}),r.subParser("lists",function(u,h,d){function m(T,P){d.gListLevel++,T=T.replace(/\n{2,}$/,`
`),T+="¨0";var V=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,R=/\n[ \t]*\n(?!¨0)/.test(T);return h.disableForced4SpacesIndentedSublists&&(V=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),T=T.replace(V,function(O,M,S,N,B,H,ae){ae=ae&&ae.trim()!=="";var b=r.subParser("outdent")(B,h,d),W="";return H&&h.tasklists&&(W=' class="task-list-item" style="list-style-type: none;"',b=b.replace(/^[ \t]*\[(x|X| )?]/m,function(){var K='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return ae&&(K+=" checked"),K+=">",K})),b=b.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(K){return"¨A"+K}),M||b.search(/\n{2,}/)>-1?(b=r.subParser("githubCodeBlocks")(b,h,d),b=r.subParser("blockGamut")(b,h,d)):(b=r.subParser("lists")(b,h,d),b=b.replace(/\n$/,""),b=r.subParser("hashHTMLBlocks")(b,h,d),b=b.replace(/\n\n+/g,`

`),R?b=r.subParser("paragraphs")(b,h,d):b=r.subParser("spanGamut")(b,h,d)),b=b.replace("¨A",""),b="<li"+W+">"+b+`</li>
`,b}),T=T.replace(/¨0/g,""),d.gListLevel--,P&&(T=T.replace(/\s+$/,"")),T}function w(T,P){if(P==="ol"){var V=T.match(/^ *(\d+)\./);if(V&&V[1]!=="1")return' start="'+V[1]+'"'}return""}function E(T,P,V){var R=h.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,O=h.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,M=P==="ul"?R:O,S="";if(T.search(M)!==-1)(function B(H){var ae=H.search(M),b=w(T,P);ae!==-1?(S+=`

<`+P+b+`>
`+m(H.slice(0,ae),!!V)+"</"+P+`>
`,P=P==="ul"?"ol":"ul",M=P==="ul"?R:O,B(H.slice(ae))):S+=`

<`+P+b+`>
`+m(H,!!V)+"</"+P+`>
`})(T);else{var N=w(T,P);S=`

<`+P+N+`>
`+m(T,!!V)+"</"+P+`>
`}return S}return u=d.converter._dispatch("lists.before",u,h,d),u+="¨0",d.gListLevel?u=u.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(T,P,V){var R=V.search(/[*+-]/g)>-1?"ul":"ol";return E(P,R,!0)}):u=u.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(T,P,V,R){var O=R.search(/[*+-]/g)>-1?"ul":"ol";return E(V,O,!1)}),u=u.replace(/¨0/,""),u=d.converter._dispatch("lists.after",u,h,d),u}),r.subParser("metadata",function(u,h,d){if(!h.metadata)return u;u=d.converter._dispatch("metadata.before",u,h,d);function m(w){d.metadata.raw=w,w=w.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),w=w.replace(/\n {4}/g," "),w.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(E,T,P){return d.metadata.parsed[T]=P,""})}return u=u.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,function(w,E,T){return m(T),"¨M"}),u=u.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(w,E,T){return E&&(d.metadata.format=E),m(T),"¨M"}),u=u.replace(/¨M/g,""),u=d.converter._dispatch("metadata.after",u,h,d),u}),r.subParser("outdent",function(u,h,d){return u=d.converter._dispatch("outdent.before",u,h,d),u=u.replace(/^(\t|[ ]{1,4})/gm,"¨0"),u=u.replace(/¨0/g,""),u=d.converter._dispatch("outdent.after",u,h,d),u}),r.subParser("paragraphs",function(u,h,d){u=d.converter._dispatch("paragraphs.before",u,h,d),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,"");for(var m=u.split(/\n{2,}/g),w=[],E=m.length,T=0;T<E;T++){var P=m[T];P.search(/¨(K|G)(\d+)\1/g)>=0?w.push(P):P.search(/\S/)>=0&&(P=r.subParser("spanGamut")(P,h,d),P=P.replace(/^([ \t]*)/g,"<p>"),P+="</p>",w.push(P))}for(E=w.length,T=0;T<E;T++){for(var V="",R=w[T],O=!1;/¨(K|G)(\d+)\1/.test(R);){var M=RegExp.$1,S=RegExp.$2;M==="K"?V=d.gHtmlBlocks[S]:O?V=r.subParser("encodeCode")(d.ghCodeBlocks[S].text,h,d):V=d.ghCodeBlocks[S].codeblock,V=V.replace(/\$/g,"$$$$"),R=R.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,V),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(R)&&(O=!0)}w[T]=R}return u=w.join(`
`),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,""),d.converter._dispatch("paragraphs.after",u,h,d)}),r.subParser("runExtension",function(u,h,d,m){if(u.filter)h=u.filter(h,m.converter,d);else if(u.regex){var w=u.regex;w instanceof RegExp||(w=new RegExp(w,"g")),h=h.replace(w,u.replace)}return h}),r.subParser("spanGamut",function(u,h,d){return u=d.converter._dispatch("spanGamut.before",u,h,d),u=r.subParser("codeSpans")(u,h,d),u=r.subParser("escapeSpecialCharsWithinTagAttributes")(u,h,d),u=r.subParser("encodeBackslashEscapes")(u,h,d),u=r.subParser("images")(u,h,d),u=r.subParser("anchors")(u,h,d),u=r.subParser("autoLinks")(u,h,d),u=r.subParser("simplifiedAutoLinks")(u,h,d),u=r.subParser("emoji")(u,h,d),u=r.subParser("underline")(u,h,d),u=r.subParser("italicsAndBold")(u,h,d),u=r.subParser("strikethrough")(u,h,d),u=r.subParser("ellipsis")(u,h,d),u=r.subParser("hashHTMLSpans")(u,h,d),u=r.subParser("encodeAmpsAndAngles")(u,h,d),h.simpleLineBreaks?/\n\n¨K/.test(u)||(u=u.replace(/\n+/g,`<br />
`)):u=u.replace(/  +\n/g,`<br />
`),u=d.converter._dispatch("spanGamut.after",u,h,d),u}),r.subParser("strikethrough",function(u,h,d){function m(w){return h.simplifiedAutoLink&&(w=r.subParser("simplifiedAutoLinks")(w,h,d)),"<del>"+w+"</del>"}return h.strikethrough&&(u=d.converter._dispatch("strikethrough.before",u,h,d),u=u.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(w,E){return m(E)}),u=d.converter._dispatch("strikethrough.after",u,h,d)),u}),r.subParser("stripLinkDefinitions",function(u,h,d){var m=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,w=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;u+="¨0";var E=function(T,P,V,R,O,M,S){return P=P.toLowerCase(),V.match(/^data:.+?\/.+?;base64,/)?d.gUrls[P]=V.replace(/\s/g,""):d.gUrls[P]=r.subParser("encodeAmpsAndAngles")(V,h,d),M?M+S:(S&&(d.gTitles[P]=S.replace(/"|'/g,"&quot;")),h.parseImgDimensions&&R&&O&&(d.gDimensions[P]={width:R,height:O}),"")};return u=u.replace(w,E),u=u.replace(m,E),u=u.replace(/¨0/,""),u}),r.subParser("tables",function(u,h,d){if(!h.tables)return u;var m=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,w=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;function E(O){return/^:[ \t]*--*$/.test(O)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(O)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(O)?' style="text-align:center;"':""}function T(O,M){var S="";return O=O.trim(),(h.tablesHeaderId||h.tableHeaderId)&&(S=' id="'+O.replace(/ /g,"_").toLowerCase()+'"'),O=r.subParser("spanGamut")(O,h,d),"<th"+S+M+">"+O+`</th>
`}function P(O,M){var S=r.subParser("spanGamut")(O,h,d);return"<td"+M+">"+S+`</td>
`}function V(O,M){for(var S=`<table>
<thead>
<tr>
`,N=O.length,B=0;B<N;++B)S+=O[B];for(S+=`</tr>
</thead>
<tbody>
`,B=0;B<M.length;++B){S+=`<tr>
`;for(var H=0;H<N;++H)S+=M[B][H];S+=`</tr>
`}return S+=`</tbody>
</table>
`,S}function R(O){var M,S=O.split(`
`);for(M=0;M<S.length;++M)/^ {0,3}\|/.test(S[M])&&(S[M]=S[M].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(S[M])&&(S[M]=S[M].replace(/\|[ \t]*$/,"")),S[M]=r.subParser("codeSpans")(S[M],h,d);var N=S[0].split("|").map(function(oe){return oe.trim()}),B=S[1].split("|").map(function(oe){return oe.trim()}),H=[],ae=[],b=[],W=[];for(S.shift(),S.shift(),M=0;M<S.length;++M)S[M].trim()!==""&&H.push(S[M].split("|").map(function(oe){return oe.trim()}));if(N.length<B.length)return O;for(M=0;M<B.length;++M)b.push(E(B[M]));for(M=0;M<N.length;++M)r.helper.isUndefined(b[M])&&(b[M]=""),ae.push(T(N[M],b[M]));for(M=0;M<H.length;++M){for(var K=[],se=0;se<ae.length;++se)r.helper.isUndefined(H[M][se]),K.push(P(H[M][se],b[se]));W.push(K)}return V(ae,W)}return u=d.converter._dispatch("tables.before",u,h,d),u=u.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),u=u.replace(m,R),u=u.replace(w,R),u=d.converter._dispatch("tables.after",u,h,d),u}),r.subParser("underline",function(u,h,d){return h.underline&&(u=d.converter._dispatch("underline.before",u,h,d),h.literalMidWordUnderscores?(u=u.replace(/\b___(\S[\s\S]*?)___\b/g,function(m,w){return"<u>"+w+"</u>"}),u=u.replace(/\b__(\S[\s\S]*?)__\b/g,function(m,w){return"<u>"+w+"</u>"})):(u=u.replace(/___(\S[\s\S]*?)___/g,function(m,w){return/\S$/.test(w)?"<u>"+w+"</u>":m}),u=u.replace(/__(\S[\s\S]*?)__/g,function(m,w){return/\S$/.test(w)?"<u>"+w+"</u>":m})),u=u.replace(/(_)/g,r.helper.escapeCharactersCallback),u=d.converter._dispatch("underline.after",u,h,d)),u}),r.subParser("unescapeSpecialChars",function(u,h,d){return u=d.converter._dispatch("unescapeSpecialChars.before",u,h,d),u=u.replace(/¨E(\d+)E/g,function(m,w){var E=parseInt(w);return String.fromCharCode(E)}),u=d.converter._dispatch("unescapeSpecialChars.after",u,h,d),u}),r.subParser("makeMarkdown.blockquote",function(u,h){var d="";if(u.hasChildNodes())for(var m=u.childNodes,w=m.length,E=0;E<w;++E){var T=r.subParser("makeMarkdown.node")(m[E],h);T!==""&&(d+=T)}return d=d.trim(),d="> "+d.split(`
`).join(`
> `),d}),r.subParser("makeMarkdown.codeBlock",function(u,h){var d=u.getAttribute("language"),m=u.getAttribute("precodenum");return"```"+d+`
`+h.preList[m]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(u){return"`"+u.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(u,h){var d="";if(u.hasChildNodes()){d+="*";for(var m=u.childNodes,w=m.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(m[E],h);d+="*"}return d}),r.subParser("makeMarkdown.header",function(u,h,d){var m=new Array(d+1).join("#"),w="";if(u.hasChildNodes()){w=m+" ";for(var E=u.childNodes,T=E.length,P=0;P<T;++P)w+=r.subParser("makeMarkdown.node")(E[P],h)}return w}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(u){var h="";return u.hasAttribute("src")&&(h+="!["+u.getAttribute("alt")+"](",h+="<"+u.getAttribute("src")+">",u.hasAttribute("width")&&u.hasAttribute("height")&&(h+=" ="+u.getAttribute("width")+"x"+u.getAttribute("height")),u.hasAttribute("title")&&(h+=' "'+u.getAttribute("title")+'"'),h+=")"),h}),r.subParser("makeMarkdown.links",function(u,h){var d="";if(u.hasChildNodes()&&u.hasAttribute("href")){var m=u.childNodes,w=m.length;d="[";for(var E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(m[E],h);d+="](",d+="<"+u.getAttribute("href")+">",u.hasAttribute("title")&&(d+=' "'+u.getAttribute("title")+'"'),d+=")"}return d}),r.subParser("makeMarkdown.list",function(u,h,d){var m="";if(!u.hasChildNodes())return"";for(var w=u.childNodes,E=w.length,T=u.getAttribute("start")||1,P=0;P<E;++P)if(!(typeof w[P].tagName>"u"||w[P].tagName.toLowerCase()!=="li")){var V="";d==="ol"?V=T.toString()+". ":V="- ",m+=V+r.subParser("makeMarkdown.listItem")(w[P],h),++T}return m+=`
<!-- -->
`,m.trim()}),r.subParser("makeMarkdown.listItem",function(u,h){for(var d="",m=u.childNodes,w=m.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(m[E],h);return/\n$/.test(d)?d=d.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):d+=`
`,d}),r.subParser("makeMarkdown.node",function(u,h,d){d=d||!1;var m="";if(u.nodeType===3)return r.subParser("makeMarkdown.txt")(u,h);if(u.nodeType===8)return"<!--"+u.data+`-->

`;if(u.nodeType!==1)return"";var w=u.tagName.toLowerCase();switch(w){case"h1":d||(m=r.subParser("makeMarkdown.header")(u,h,1)+`

`);break;case"h2":d||(m=r.subParser("makeMarkdown.header")(u,h,2)+`

`);break;case"h3":d||(m=r.subParser("makeMarkdown.header")(u,h,3)+`

`);break;case"h4":d||(m=r.subParser("makeMarkdown.header")(u,h,4)+`

`);break;case"h5":d||(m=r.subParser("makeMarkdown.header")(u,h,5)+`

`);break;case"h6":d||(m=r.subParser("makeMarkdown.header")(u,h,6)+`

`);break;case"p":d||(m=r.subParser("makeMarkdown.paragraph")(u,h)+`

`);break;case"blockquote":d||(m=r.subParser("makeMarkdown.blockquote")(u,h)+`

`);break;case"hr":d||(m=r.subParser("makeMarkdown.hr")(u,h)+`

`);break;case"ol":d||(m=r.subParser("makeMarkdown.list")(u,h,"ol")+`

`);break;case"ul":d||(m=r.subParser("makeMarkdown.list")(u,h,"ul")+`

`);break;case"precode":d||(m=r.subParser("makeMarkdown.codeBlock")(u,h)+`

`);break;case"pre":d||(m=r.subParser("makeMarkdown.pre")(u,h)+`

`);break;case"table":d||(m=r.subParser("makeMarkdown.table")(u,h)+`

`);break;case"code":m=r.subParser("makeMarkdown.codeSpan")(u,h);break;case"em":case"i":m=r.subParser("makeMarkdown.emphasis")(u,h);break;case"strong":case"b":m=r.subParser("makeMarkdown.strong")(u,h);break;case"del":m=r.subParser("makeMarkdown.strikethrough")(u,h);break;case"a":m=r.subParser("makeMarkdown.links")(u,h);break;case"img":m=r.subParser("makeMarkdown.image")(u,h);break;default:m=u.outerHTML+`

`}return m}),r.subParser("makeMarkdown.paragraph",function(u,h){var d="";if(u.hasChildNodes())for(var m=u.childNodes,w=m.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(m[E],h);return d=d.trim(),d}),r.subParser("makeMarkdown.pre",function(u,h){var d=u.getAttribute("prenum");return"<pre>"+h.preList[d]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(u,h){var d="";if(u.hasChildNodes()){d+="~~";for(var m=u.childNodes,w=m.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(m[E],h);d+="~~"}return d}),r.subParser("makeMarkdown.strong",function(u,h){var d="";if(u.hasChildNodes()){d+="**";for(var m=u.childNodes,w=m.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(m[E],h);d+="**"}return d}),r.subParser("makeMarkdown.table",function(u,h){var d="",m=[[],[]],w=u.querySelectorAll("thead>tr>th"),E=u.querySelectorAll("tbody>tr"),T,P;for(T=0;T<w.length;++T){var V=r.subParser("makeMarkdown.tableCell")(w[T],h),R="---";if(w[T].hasAttribute("style")){var O=w[T].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(O){case"text-align:left;":R=":---";break;case"text-align:right;":R="---:";break;case"text-align:center;":R=":---:";break}}m[0][T]=V.trim(),m[1][T]=R}for(T=0;T<E.length;++T){var M=m.push([])-1,S=E[T].getElementsByTagName("td");for(P=0;P<w.length;++P){var N=" ";typeof S[P]<"u"&&(N=r.subParser("makeMarkdown.tableCell")(S[P],h)),m[M].push(N)}}var B=3;for(T=0;T<m.length;++T)for(P=0;P<m[T].length;++P){var H=m[T][P].length;H>B&&(B=H)}for(T=0;T<m.length;++T){for(P=0;P<m[T].length;++P)T===1?m[T][P].slice(-1)===":"?m[T][P]=r.helper.padEnd(m[T][P].slice(-1),B-1,"-")+":":m[T][P]=r.helper.padEnd(m[T][P],B,"-"):m[T][P]=r.helper.padEnd(m[T][P],B);d+="| "+m[T].join(" | ")+` |
`}return d.trim()}),r.subParser("makeMarkdown.tableCell",function(u,h){var d="";if(!u.hasChildNodes())return"";for(var m=u.childNodes,w=m.length,E=0;E<w;++E)d+=r.subParser("makeMarkdown.node")(m[E],h,!0);return d.trim()}),r.subParser("makeMarkdown.txt",function(u){var h=u.nodeValue;return h=h.replace(/ +/g," "),h=h.replace(/¨NBSP;/g," "),h=r.helper.unescapeHTMLEntities(h),h=h.replace(/([*_~|`])/g,"\\$1"),h=h.replace(/^(\s*)>/g,"\\$1>"),h=h.replace(/^#/gm,"\\#"),h=h.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),h=h.replace(/^( {0,3}\d+)\./gm,"$1\\."),h=h.replace(/^( {0,3})([+-])/gm,"$1\\$2"),h=h.replace(/]([\s]*)\(/g,"\\]$1\\("),h=h.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),h});var I=this;t.exports?t.exports=r:I.showdown=r}).call(re)})(V1);var Ob=V1.exports;const Db=Ao(Ob);function Mb({tempText:t,setTempText:e}){const[n,r]=wt.useState("write"),i=new Db.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0});return Y.jsx("section",{className:"pane editor",children:Y.jsx(Nb,{value:t,onChange:e,selectedTab:n,onTabChange:r,generateMarkdownPreview:s=>Promise.resolve(i.makeHtml(s)),minEditorHeight:80,heightUnits:"vh"})})}const Lb=()=>{const[t,e]=ke.useState(""),[n,r]=ke.useState(""),[i,s]=ke.useState(null),o=async()=>{try{await AI(ta,t,n).then(a=>{})}catch(a){s(a.message)}};return Y.jsxs("div",{children:[Y.jsx("h2",{children:"Sign In"}),i&&Y.jsx("p",{children:i}),Y.jsxs("form",{onSubmit:a=>{a.preventDefault(),o()},children:[Y.jsxs("div",{children:[Y.jsx("label",{children:"Email:"}),Y.jsx("input",{type:"text",value:t,onChange:a=>e(a.target.value)})]}),Y.jsxs("div",{children:[Y.jsx("label",{children:"Password:"}),Y.jsx("input",{type:"password",value:n,onChange:a=>r(a.target.value)})]}),Y.jsx("button",{type:"submit",children:"Sign In"})]})]})},Vb=()=>{const[t,e]=ke.useState(""),[n,r]=ke.useState(""),[i,s]=ke.useState(null),o=async()=>{try{await CI(ta,t,n).then(a=>{})}catch(a){s(a.message)}};return Y.jsxs("div",{children:[Y.jsx("h2",{children:"Sign Up"}),i&&Y.jsx("p",{children:i}),Y.jsxs("form",{onSubmit:a=>{a.preventDefault(),o()},children:[Y.jsxs("div",{children:[Y.jsx("label",{children:"Email:"}),Y.jsx("input",{type:"email",value:t,onChange:a=>e(a.target.value)})]}),Y.jsxs("div",{children:[Y.jsx("label",{children:"Password:"}),Y.jsx("input",{type:"password",value:n,onChange:a=>r(a.target.value)})]}),Y.jsx("button",{type:"submit",children:"Sign Up"})]})]})},xb=()=>{const{authUser:t}=ke.useContext(jl),e=()=>{Zy(ta)};return Y.jsxs("div",{className:"",children:[t?Y.jsxs(Y.Fragment,{children:[Y.jsxs("p",{children:[`Signed In as ${t.email}`," "]}),Y.jsx("button",{onClick:e,children:"Sign Out"})]}):Y.jsx("p",{children:'"Signed Out" '})," "]})};var x1={exports:{}},jb="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fb=jb,Ub=Fb;function j1(){}function F1(){}F1.resetWarningCache=j1;var zb=function(){function t(r,i,s,o,a,l){if(l!==Ub){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:F1,resetWarningCache:j1};return n.PropTypes=n,n};x1.exports=zb();var $b=x1.exports;const pe=Ao($b);var kt=typeof window<"u"?window:null,kp=kt===null,Co=kp?void 0:kt.document,Lt="addEventListener",Vt="removeEventListener",Jc="getBoundingClientRect",ms="_a",xt="_b",cn="_c",Da="horizontal",jt=function(){return!1},Bb=kp?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=Co.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",U1=function(t){return typeof t=="string"||t instanceof String},T_=function(t){if(U1(t)){var e=Co.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},et=function(t,e,n){var r=t[e];return r!==void 0?r:n},Ma=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},Hb=function(t,e){var n=Co.createElement("div");return n.className="gutter gutter-"+e,n},Wb=function(t,e,n){var r={};return U1(e)?r[t]=e:r[t]=Bb+"("+e+"% - "+n+"px)",r},qb=function(t,e){var n;return n={},n[t]=e+"px",n},S_=function(t,e){if(e===void 0&&(e={}),kp)return{};var n=t,r,i,s,o,a,l;Array.from&&(n=Array.from(n));var c=T_(n[0]),f=c.parentNode,g=getComputedStyle?getComputedStyle(f):null,y=g?g.flexDirection:null,k=et(e,"sizes")||n.map(function(){return 100/n.length}),A=et(e,"minSize",100),C=Array.isArray(A)?A:n.map(function(){return A}),_=et(e,"maxSize",1/0),p=Array.isArray(_)?_:n.map(function(){return _}),v=et(e,"expandToMin",!1),I=et(e,"gutterSize",10),u=et(e,"gutterAlign","center"),h=et(e,"snapOffset",30),d=Array.isArray(h)?h:n.map(function(){return h}),m=et(e,"dragInterval",1),w=et(e,"direction",Da),E=et(e,"cursor",w===Da?"col-resize":"row-resize"),T=et(e,"gutter",Hb),P=et(e,"elementStyle",Wb),V=et(e,"gutterStyle",qb);w===Da?(r="width",i="clientX",s="left",o="right",a="clientWidth"):w==="vertical"&&(r="height",i="clientY",s="top",o="bottom",a="clientHeight");function R(F,L,U,Q){var Ne=P(r,L,U,Q);Object.keys(Ne).forEach(function(Ie){F.style[Ie]=Ne[Ie]})}function O(F,L,U){var Q=V(r,L,U);Object.keys(Q).forEach(function(Ne){F.style[Ne]=Q[Ne]})}function M(){return l.map(function(F){return F.size})}function S(F){return"touches"in F?F.touches[0][i]:F[i]}function N(F){var L=l[this.a],U=l[this.b],Q=L.size+U.size;L.size=F/this.size*Q,U.size=Q-F/this.size*Q,R(L.element,L.size,this[xt],L.i),R(U.element,U.size,this[cn],U.i)}function B(F){var L,U=l[this.a],Q=l[this.b];this.dragging&&(L=S(F)-this.start+(this[xt]-this.dragOffset),m>1&&(L=Math.round(L/m)*m),L<=U.minSize+U.snapOffset+this[xt]?L=U.minSize+this[xt]:L>=this.size-(Q.minSize+Q.snapOffset+this[cn])&&(L=this.size-(Q.minSize+this[cn])),L>=U.maxSize-U.snapOffset+this[xt]?L=U.maxSize+this[xt]:L<=this.size-(Q.maxSize-Q.snapOffset+this[cn])&&(L=this.size-(Q.maxSize+this[cn])),N.call(this,L),et(e,"onDrag",jt)(M()))}function H(){var F=l[this.a].element,L=l[this.b].element,U=F[Jc](),Q=L[Jc]();this.size=U[r]+Q[r]+this[xt]+this[cn],this.start=U[s],this.end=U[o]}function ae(F){if(!getComputedStyle)return null;var L=getComputedStyle(F);if(!L)return null;var U=F[a];return U===0?null:(w===Da?U-=parseFloat(L.paddingLeft)+parseFloat(L.paddingRight):U-=parseFloat(L.paddingTop)+parseFloat(L.paddingBottom),U)}function b(F){var L=ae(f);if(L===null||C.reduce(function(Ie,vt){return Ie+vt},0)>L)return F;var U=0,Q=[],Ne=F.map(function(Ie,vt){var dr=L*Ie/100,aa=Ma(I,vt===0,vt===F.length-1,u),ua=C[vt]+aa;return dr<ua?(U+=ua-dr,Q.push(0),ua):(Q.push(dr-ua),dr)});return U===0?F:Ne.map(function(Ie,vt){var dr=Ie;if(U>0&&Q[vt]-U>0){var aa=Math.min(U,Q[vt]-U);U-=aa,dr=Ie-aa}return dr/L*100})}function W(){var F=this,L=l[F.a].element,U=l[F.b].element;F.dragging&&et(e,"onDragEnd",jt)(M()),F.dragging=!1,kt[Vt]("mouseup",F.stop),kt[Vt]("touchend",F.stop),kt[Vt]("touchcancel",F.stop),kt[Vt]("mousemove",F.move),kt[Vt]("touchmove",F.move),F.stop=null,F.move=null,L[Vt]("selectstart",jt),L[Vt]("dragstart",jt),U[Vt]("selectstart",jt),U[Vt]("dragstart",jt),L.style.userSelect="",L.style.webkitUserSelect="",L.style.MozUserSelect="",L.style.pointerEvents="",U.style.userSelect="",U.style.webkitUserSelect="",U.style.MozUserSelect="",U.style.pointerEvents="",F.gutter.style.cursor="",F.parent.style.cursor="",Co.body.style.cursor=""}function K(F){if(!("button"in F&&F.button!==0)){var L=this,U=l[L.a].element,Q=l[L.b].element;L.dragging||et(e,"onDragStart",jt)(M()),F.preventDefault(),L.dragging=!0,L.move=B.bind(L),L.stop=W.bind(L),kt[Lt]("mouseup",L.stop),kt[Lt]("touchend",L.stop),kt[Lt]("touchcancel",L.stop),kt[Lt]("mousemove",L.move),kt[Lt]("touchmove",L.move),U[Lt]("selectstart",jt),U[Lt]("dragstart",jt),Q[Lt]("selectstart",jt),Q[Lt]("dragstart",jt),U.style.userSelect="none",U.style.webkitUserSelect="none",U.style.MozUserSelect="none",U.style.pointerEvents="none",Q.style.userSelect="none",Q.style.webkitUserSelect="none",Q.style.MozUserSelect="none",Q.style.pointerEvents="none",L.gutter.style.cursor=E,L.parent.style.cursor=E,Co.body.style.cursor=E,H.call(L),L.dragOffset=S(F)-L.end}}k=b(k);var se=[];l=n.map(function(F,L){var U={element:T_(F),size:k[L],minSize:C[L],maxSize:p[L],snapOffset:d[L],i:L},Q;if(L>0&&(Q={a:L-1,b:L,dragging:!1,direction:w,parent:f},Q[xt]=Ma(I,L-1===0,!1,u),Q[cn]=Ma(I,!1,L===n.length-1,u),y==="row-reverse"||y==="column-reverse")){var Ne=Q.a;Q.a=Q.b,Q.b=Ne}if(L>0){var Ie=T(L,w,U.element);O(Ie,I,L),Q[ms]=K.bind(Q),Ie[Lt]("mousedown",Q[ms]),Ie[Lt]("touchstart",Q[ms]),f.insertBefore(Ie,U.element),Q.gutter=Ie}return R(U.element,U.size,Ma(I,L===0,L===n.length-1,u),L),L>0&&se.push(Q),U});function oe(F){var L=F.i===se.length,U=L?se[F.i-1]:se[F.i];H.call(U);var Q=L?U.size-F.minSize-U[cn]:F.minSize+U[xt];N.call(U,Q)}l.forEach(function(F){var L=F.element[Jc]()[r];L<F.minSize&&(v?oe(F):F.minSize=L)});function _e(F){var L=b(F);L.forEach(function(U,Q){if(Q>0){var Ne=se[Q-1],Ie=l[Ne.a],vt=l[Ne.b];Ie.size=L[Q-1],vt.size=U,R(Ie.element,Ie.size,Ne[xt],Ie.i),R(vt.element,vt.size,Ne[cn],vt.i)}})}function Se(F,L){se.forEach(function(U){if(L!==!0?U.parent.removeChild(U.gutter):(U.gutter[Vt]("mousedown",U[ms]),U.gutter[Vt]("touchstart",U[ms])),F!==!0){var Q=P(r,U.a.size,U[xt]);Object.keys(Q).forEach(function(Ne){l[U.a].element.style[Ne]="",l[U.b].element.style[Ne]=""})}})}return{setSizes:_e,getSizes:M,collapse:function(L){oe(l[L])},destroy:Se,parent:f,pairs:se}};function Zc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var Cp=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,s=Zc(r,["children","gutter"]),o=s;o.gutter=function(a,l){var c;return i?c=i(a,l):(c=document.createElement("div"),c.className="gutter gutter-"+l),c.__isSplitGutter=!0,c},this.split=S_(this.parent.children,o)},e.prototype.componentDidUpdate=function(r){var i=this,s=this.props;s.children;var o=s.minSize,a=s.sizes,l=s.collapsed,c=Zc(s,["children","minSize","sizes","collapsed"]),f=c,g=r.minSize,y=r.sizes,k=r.collapsed,A=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],C=A.map(function(v){return i.props[v]!==r[v]}).reduce(function(v,I){return v||I},!1);if(Array.isArray(o)&&Array.isArray(g)){var _=!1;o.forEach(function(v,I){_=_||v!==g[I]}),C=C||_}else Array.isArray(o)||Array.isArray(g)?C=!0:C=C||o!==g;if(C)f.minSize=o,f.sizes=a||this.split.getSizes(),this.split.destroy(!0,!0),f.gutter=function(v,I,u){return u.previousSibling},this.split=S_(Array.from(this.parent.children).filter(function(v){return!v.__isSplitGutter}),f);else if(a){var p=!1;a.forEach(function(v,I){p=p||v!==y[I]}),p&&this.split.setSizes(this.props.sizes)}Number.isInteger(l)&&(l!==k||C)&&this.split.collapse(l)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var s=i.children,o=Zc(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),a=o;return wt.createElement("div",Object.assign({},{ref:function(l){r.parent=l}},a),s)},e}(wt.Component);Cp.propTypes={sizes:pe.arrayOf(pe.number),minSize:pe.oneOfType([pe.number,pe.arrayOf(pe.number)]),maxSize:pe.oneOfType([pe.number,pe.arrayOf(pe.number)]),expandToMin:pe.bool,gutterSize:pe.number,gutterAlign:pe.string,snapOffset:pe.number,dragInterval:pe.number,direction:pe.string,cursor:pe.string,gutter:pe.func,elementStyle:pe.func,gutterStyle:pe.func,onDrag:pe.func,onDragStart:pe.func,onDragEnd:pe.func,collapsed:pe.number,children:pe.arrayOf(pe.element)};Cp.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};function Kb(){const[t,e]=wt.useState([]),[n,r]=wt.useState(""),i=t.sort((p,v)=>v.updatedAt-p.updatedAt),[s,o]=wt.useState(""),{authUser:a,setAuthUser:l}=wt.useContext(jl),[c,f]=wt.useState("a"),[g,y]=wt.useState(f_(Ra,c)),k=t.find(p=>p.id===n)||t[0];wt.useEffect(()=>{if(a)return eP(g,v=>{const I=v.docs.map(u=>({...u.data(),id:u.id}));e(I)})},[g]),wt.useEffect(()=>{var p;n||r((p=t[0])==null?void 0:p.id)},[]),wt.useEffect(()=>{k&&o(k.body)},[k]),wt.useEffect(()=>{const p=setTimeout(()=>{s!==k.body&&C(s)},500);return()=>clearTimeout(p)},[s]);async function A(){if(a){const p={body:"# Please erase the line and enter your name or identification or title here in the first line ",createdAt:Date.now(),updatedAt:Date.now()},v=await ZA(g,p),I=await a.email;r(v.id),f(I),y(f_(Ra,I))}else alert("Please Login or Sign Up")}async function C(p){const v=_h(Ra,c,n);await XA(v,{body:p,updatedAt:Date.now()},{merge:!0})}async function _(p){const v=_h(Ra,c,p);await JA(v)}return Y.jsx("main",{children:t.length>0?Y.jsxs(Cp,{sizes:[30,70],direction:"horizontal",className:"split",children:[Y.jsx(rP,{notes:i,currentNote:k,setCurrentNoteId:r,newNote:A,deleteNote:_}),n&&t.length>0&&Y.jsx(Mb,{tempText:s,setTempText:o})]}):Y.jsxs("div",{className:"no-notes",children:[Y.jsx("h1",{children:"You have no notes"}),Y.jsx("button",{className:"first-note",onClick:A,children:"Create one now"}),!a&&Y.jsxs("div",{children:[Y.jsx(Lb,{}),Y.jsx(Vb,{})]}),Y.jsx(xb,{})]})})}function Gb({children:t}){const[e,n]=ke.useState(null);return ke.useEffect(()=>{const r=RI(ta,i=>{n(i||null)});return()=>{r()}},[]),Y.jsx(jl.Provider,{value:{authUser:e,setAuthUser:n},children:t})}Y3.render(Y.jsx(Gb,{children:Y.jsx(Kb,{})}),document.getElementById("root"));
